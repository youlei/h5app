/*
* Ctrip Lizard JavaScript Framework
* Copyright(C) 2008 - 2015, All rights reserved,ctrip.com.
* Date:2015-07-09 17:01:02
* tag:w-2.0-201507091700
*/
function __bridge_callback(a){a=CtripTool.ctripParamDecode(a);var b=JSON.parse(a);if(null!=b){if(b.param&&b.tagname&&"web_view_finished_load"==b.tagname&&b.param.platform){var c=navigator.userAgent;c.indexOf("Youth_CtripWireless")>0&&(Internal.isYouthApp=!0),platform=b.param.platform;var d=typeof platform;"number"==d?(1==platform||2==platform||3==platform)&&(Internal.isIOS=1==platform,Internal.isAndroid=2==platform,Internal.isWinOS=3==platform):"string"==d&&("1"==platform||"2"==platform||"3"==platform)&&(Internal.isIOS="1"==platform,Internal.isAndroid="2"==platform,Internal.isWinOS="3"==platform),Internal.isInApp=!0,Internal.appVersion=b.param.version,Internal.osVersion=b.param.osVersion,Internal.isWinOS?(window.navigator.userAgent.winPhoneUserAgent=window.navigator.userAgent+"_CtripWireless_"+Internal.appVersion,console=CtripConsole):Internal.isIOS&&(console=CtripConsole)}return val=window.app.callback(b),Internal.isWinOS&&(val=val?"true":"false"),val}return-1}function __writeLocalStorage(a,b){Internal.isNotEmptyString(a)&&localStorage.setItem(a,b)}var requirejs,require,define;!function(aa){function I(a){return"[object Function]"===L.call(a)}function J(a){return"[object Array]"===L.call(a)}function y(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function M(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function s(a,b){return ga.call(a,b)}function m(a,b){return s(a,b)&&a[b]}function G(a,b){for(var c in a)if(s(a,c)&&b(a[c],c))break}function R(a,b,c,d){return b&&G(b,function(b,e){(c||!s(a,e))&&(d&&"string"!=typeof b?(a[e]||(a[e]={}),R(a[e],b,c,d)):a[e]=b)}),a}function u(a,b){return function(){return b.apply(a,arguments)}}function ba(a){if(!a)return a;var b=aa;return y(a.split("."),function(a){b=b[a]}),b}function B(a,b,c,d){return b=Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a),b.requireType=a,b.requireModules=d,c&&(b.originalError=c),b}function ha(a){function b(a,b,c){var d,e,f,g,h,i,j,k=b&&b.split("/");d=k;var l=C.map,n=l&&l["*"];if(a&&"."===a.charAt(0))if(b){for(d=m(C.pkgs,b)?k=[b]:k.slice(0,k.length-1),b=a=d.concat(a.split("/")),d=0;b[d];d+=1)if(e=b[d],"."===e)b.splice(d,1),d-=1;else if(".."===e){if(1===d&&(".."===b[2]||".."===b[0]))break;d>0&&(b.splice(d-1,2),d-=2)}d=m(C.pkgs,b=a[0]),a=a.join("/"),d&&a===b+"/"+d.main&&(a=b)}else 0===a.indexOf("./")&&(a=a.substring(2));if(c&&l&&(k||n)){for(b=a.split("/"),d=b.length;d>0;d-=1){if(f=b.slice(0,d).join("/"),k)for(e=k.length;e>0;e-=1)if((c=m(l,k.slice(0,e).join("/")))&&(c=m(c,f))){g=c,h=d;break}if(g)break;!i&&n&&m(n,f)&&(i=m(n,f),j=d)}!g&&i&&(g=i,h=j),g&&(b.splice(0,h,g),a=b.join("/"))}return a}function c(a){A&&y(document.getElementsByTagName("script"),function(b){return b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===w.contextName?(b.parentNode.removeChild(b),!0):void 0})}function d(a){var b=m(C.paths,a);return b&&J(b)&&1<b.length?(c(a),b.shift(),w.require.undef(a),w.require([a]),!0):void 0}function e(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function f(a,c,d,f){var g,h,i=null,j=c?c.name:null,k=a,l=!0,n="";return a||(l=!1,a="_@r"+(M+=1)),a=e(a),i=a[0],a=a[1],i&&(i=b(i,j,f),h=m(K,i)),a&&(i?n=h&&h.normalize?h.normalize(a,function(a){return b(a,j,f)}):b(a,j,f):(n=b(a,j,f),a=e(n),i=a[0],n=a[1],d=!0,g=w.nameToUrl(n))),d=!i||h||d?"":"_unnormalized"+(N+=1),{prefix:i,name:n,parentMap:c,unnormalized:!!d,url:g,originalName:k,isDefine:l,id:(i?i+"!"+n:n)+d}}function g(a){var b=a.id,c=m(D,b);return c||(c=D[b]=new w.Module(a)),c}function h(a,b,c){var d=a.id,e=m(D,d);!s(K,d)||e&&!e.defineEmitComplete?g(a).on(b,c):"defined"===b&&c(K[d])}function i(a,b){var c=a.requireModules,d=!1;b?b(a):(y(c,function(b){(b=m(D,b))&&(b.error=a,b.events.error&&(d=!0,b.emit("error",a)))}),d||l.onError(a))}function j(){T.length&&(ia.apply(H,[H.length-1,0].concat(T)),T=[])}function k(a){delete D[a],delete E[a]}function n(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,y(a.depMaps,function(d,e){var f=d.id,g=m(D,f);g&&!a.depMatched[e]&&!c[f]&&(m(b,f)?(a.defineDep(e,K[f]),a.check()):n(g,b,c))}),c[d]=!0)}function o(){var a,b,e,f,g=(e=1e3*C.waitSeconds)&&w.startTime+e<(new Date).getTime(),h=[],j=[],k=!1,l=!0;if(!t){if(t=!0,G(E,function(e){if(a=e.map,b=a.id,e.enabled&&(a.isDefine||j.push(e),!e.error))if(!e.inited&&g)d(b)?k=f=!0:(h.push(b),c(b));else if(!e.inited&&e.fetched&&a.isDefine&&(k=!0,!a.prefix))return l=!1}),g&&h.length)return e=B("timeout","Load timeout for modules: "+h,null,h),e.contextName=w.contextName,i(e);l&&y(j,function(a){n(a,{},{})}),g&&!f||!k||!A&&!da||z||(z=setTimeout(function(){z=0,o()},50)),t=!1}}function p(a){s(K,a[0])||g(f(a[0],null,!0)).init(a[1],a[2])}function q(a){var a=a.currentTarget||a.srcElement,b=w.onScriptLoad;return a.detachEvent&&!Y?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1),b=w.onScriptError,(!a.detachEvent||Y)&&a.removeEventListener("error",b,!1),{node:a,id:a&&a.getAttribute("data-requiremodule")}}function r(){var a;for(j();H.length;){if(a=H.shift(),null===a[0])return i(B("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));p(a)}}var t,v,w,x,z,C={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},D={},E={},F={},H=[],K={},L={},M=1,N=1;return x={require:function(a){return a.require?a.require:a.require=w.makeRequire(a.map)},exports:function(a){return a.usingExports=!0,a.map.isDefine?a.exports?a.exports:a.exports=K[a.map.id]={}:void 0},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return C.config&&m(C.config,a.map.id)||{}},exports:K[a.map.id]}}},v=function(a){this.events=m(F,a.id)||{},this.map=a,this.shim=m(C.shim,a.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},v.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=u(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var a=this.map;if(!this.shim)return a.prefix?this.callPlugin():this.load();w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return a.prefix?this.callPlugin():this.load()}))}},load:function(){var a=this.map.url;L[a]||(L[a]=!0,w.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id;b=this.depExports;var d=this.exports,e=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(I(e)){if(this.events.error)try{d=w.execCb(c,e,b,d)}catch(f){a=f}else d=w.execCb(c,e,b,d);if(this.map.isDefine&&((b=this.module)&&void 0!==b.exports&&b.exports!==this.exports?d=b.exports:void 0===d&&this.usingExports&&(d=this.exports)),a)return a.requireMap=this.map,a.requireModules=[this.map.id],a.requireType="define",i(this.error=a)}else d=e;this.exports=d,this.map.isDefine&&!this.ignore&&(K[c]=d,l.onResourceLoad)&&l.onResourceLoad(w,this.map,this.depMaps),k(c),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var a=this.map,c=a.id,d=f(a.prefix);this.depMaps.push(d),h(d,"defined",u(this,function(d){var e,j;j=this.map.name;var n=this.map.parentMap?this.map.parentMap.name:null,o=w.makeRequire(a.parentMap,{enableBuildCallback:!0});this.map.unnormalized?(d.normalize&&(j=d.normalize(j,function(a){return b(a,n,!0)})||""),d=f(a.prefix+"!"+j,this.map.parentMap),h(d,"defined",u(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),(j=m(D,d.id))&&(this.depMaps.push(d),this.events.error&&j.on("error",u(this,function(a){this.emit("error",a)})),j.enable())):(e=u(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=u(this,function(a){this.inited=!0,this.error=a,a.requireModules=[c],G(D,function(a){0===a.map.id.indexOf(c+"_unnormalized")&&k(a.map.id)}),i(a)}),e.fromText=u(this,function(b,d){var h=a.name,j=f(h),k=O;d&&(b=d),k&&(O=!1),g(j),s(C.config,c)&&(C.config[h]=C.config[c]);try{l.exec(b)}catch(m){return i(B("fromtexteval","fromText eval for "+c+" failed: "+m,m,[c]))}k&&(O=!0),this.depMaps.push(j),w.completeLoad(h),o([h],e)}),d.load(a.name,o,e,C))})),w.enable(d,this),this.pluginMaps[d.id]=d},enable:function(){E[this.map.id]=this,this.enabling=this.enabled=!0,y(this.depMaps,u(this,function(a,b){var c,d;if("string"==typeof a){if(a=f(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,c=m(x,a.id))return void(this.depExports[b]=c(this));this.depCount+=1,h(a,"defined",u(this,function(a){this.defineDep(b,a),this.check()})),this.errback&&h(a,"error",this.errback)}c=a.id,d=D[c],!s(x,c)&&d&&!d.enabled&&w.enable(a,this)})),G(this.pluginMaps,u(this,function(a){var b=m(D,a.id);b&&!b.enabled&&w.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){y(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},w={config:C,contextName:a,registry:D,defined:K,urlFetched:L,defQueue:H,Module:v,makeModuleMap:f,nextTick:l.nextTick,onError:i,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=C.pkgs,c=C.shim,d={paths:!0,config:!0,map:!0};G(a,function(a,b){d[b]?"map"===b?(C.map||(C.map={}),R(C[b],a,!0,!0)):R(C[b],a,!0):C[b]=a}),a.shim&&(G(a.shim,function(a,b){J(a)&&(a={deps:a}),!a.exports&&!a.init||a.exportsFn||(a.exportsFn=w.makeShimExports(a)),c[b]=a}),C.shim=c),a.packages&&(y(a.packages,function(a){a="string"==typeof a?{name:a}:a,b[a.name]={name:a.name,location:a.location||a.name,main:(a.main||"main").replace(ja,"").replace(ea,"")}}),C.pkgs=b),G(D,function(a,b){!a.inited&&!a.map.unnormalized&&(a.map=f(b))}),(a.deps||a.callback)&&w.require(a.deps||[],a.callback)},makeShimExports:function(a){return function(){var b;return a.init&&(b=a.init.apply(aa,arguments)),b||a.exports&&ba(a.exports)}},makeRequire:function(c,d){function e(b,h,j){var k,m;return d.enableBuildCallback&&h&&I(h)&&(h.__requireJsBuild=!0),"string"==typeof b?I(h)?i(B("requireargs","Invalid require call"),j):c&&s(x,b)?x[b](D[c.id]):l.get?l.get(w,b,c,e):(k=f(b,c,!1,!0),k=k.id,s(K,k)?K[k]:i(B("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+a+(c?"":". Use require([])")))):(r(),w.nextTick(function(){r(),m=g(f(null,c)),m.skipMap=d.skipMap,m.init(b,h,j,{enabled:!0}),o()}),e)}return d=d||{},R(e,{isBrowser:A,toUrl:function(a){var d,e=a.lastIndexOf("."),f=a.split("/")[0];return-1!==e&&("."!==f&&".."!==f||e>1)&&(d=a.substring(e,a.length),a=a.substring(0,e)),w.nameToUrl(b(a,c&&c.id,!0),d,!0)},defined:function(a){return s(K,f(a,c,!1,!0).id)},specified:function(a){return a=f(a,c,!1,!0).id,s(K,a)||s(D,a)}}),c||(e.undef=function(a){j();var b=f(a,c,!0),d=m(D,a);delete K[a],delete L[b.url],delete F[a],d&&(d.events.defined&&(F[a]=d.events),k(a))}),e},enable:function(a){m(D,a.id)&&g(a).enable()},completeLoad:function(a){var b,c,e=m(C.shim,a)||{},f=e.exports;for(j();H.length;){if(c=H.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);p(c)}if(c=m(D,a),!b&&!s(K,a)&&c&&!c.inited){if(C.enforceDefine&&(!f||!ba(f)))return d(a)?void 0:i(B("nodefine","No define call for "+a,null,[a]));p([a,e.deps||[],e.exportsFn])}o()},nameToUrl:function(a,b,c){var d,e,f,g,h,i;if(l.jsExtRegExp.test(a))g=a+(b||"");else{for(d=C.paths,e=C.pkgs,g=a.split("/"),h=g.length;h>0;h-=1){if(i=g.slice(0,h).join("/"),f=m(e,i),i=m(d,i)){J(i)&&(i=i[0]),g.splice(0,h,i);break}if(f){a=a===f.name?f.location+"/"+f.main:f.location,g.splice(0,h,a);break}}g=g.join("/"),g+=b||(/\?/.test(g)||c?"":".js"),g=("/"===g.charAt(0)||g.match(/^[\w\+\.\-]+:/)?"":C.baseUrl)+g}return C.urlArgs?g+((-1===g.indexOf("?")?"?":"&")+C.urlArgs):g},load:function(a,b){l.load(w,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){("load"===a.type||ka.test((a.currentTarget||a.srcElement).readyState))&&(P=null,a=q(a),w.completeLoad(a.id))},onScriptError:function(a){var b=q(a);return d(b.id)?void 0:i(B("scripterror","Script error",a,[b.id]))}},w.require=w.makeRequire(),w}var l,w,x,D,t,E,P,K,Q,fa,la=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,ma=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,ea=/\.js$/,ja=/^\.\//;w=Object.prototype;var L=w.toString,ga=w.hasOwnProperty,ia=Array.prototype.splice,A=!("undefined"==typeof window||!navigator||!document),da=!A&&"undefined"!=typeof importScripts,ka=A&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Y="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),F={},r={},T=[],O=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(I(requirejs))return;r=requirejs,requirejs=void 0}"undefined"!=typeof require&&!I(require)&&(r=require,require=void 0),l=requirejs=function(a,b,c,d){var e,f="_";return!J(a)&&"string"!=typeof a&&(e=a,J(b)?(a=b,b=c,c=d):a=[]),e&&e.context&&(f=e.context),(d=m(F,f))||(d=F[f]=l.s.newContext(f)),e&&d.configure(e),d.require(a,b,c)},l.config=function(a){return l(a)},l.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()},require||(require=l),l.version="2.1.5",l.jsExtRegExp=/^\/|:|\?|\.js$/,l.isBrowser=A,w=l.s={contexts:F,newContext:ha},l({}),y(["toUrl","undef","defined","specified"],function(a){l[a]=function(){var b=F._;return b.require[a].apply(b,arguments)}}),A&&(x=w.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0])&&(x=w.head=D.parentNode),l.onError=function(a){throw a},l.load=function(a,b,c){var d,e=a&&a.config||{};if(A)return d=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),d.type=e.scriptType||"text/javascript",d.charset="utf-8",d.async=!0,d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&0>d.attachEvent.toString().indexOf("[native code")||Y?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(O=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,K=d,D?x.insertBefore(d,D):x.appendChild(d),K=null,d;if(da)try{importScripts(c),a.completeLoad(b)}catch(f){a.onError(B("importscripts","importScripts failed for "+b+" at "+c,f,[b]))}},A&&M(document.getElementsByTagName("script"),function(a){return x||(x=a.parentNode),(t=a.getAttribute("data-main"))?(r.baseUrl||(E=t.split("/"),Q=E.pop(),fa=E.length?E.join("/")+"/":"./",r.baseUrl=fa,t=Q),t=t.replace(ea,""),r.deps=r.deps?r.deps.concat(t):[t],!0):void 0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),J(b)||(c=b,b=[]),!b.length&&I(c)&&c.length&&(c.toString().replace(la,"").replace(ma,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b)),O&&((d=K)||(P&&"interactive"===P.readyState||M(document.getElementsByTagName("script"),function(a){return"interactive"===a.readyState?P=a:void 0}),d=P),d&&(a||(a=d.getAttribute("data-requiremodule")),e=F[d.getAttribute("data-requirecontext")])),(e?e.defQueue:T).push([a,b,c])},define.amd={jQuery:!0},l.exec=function(b){return eval(b)},l(r)}}(this),define("R",function(){});var CtripBar={app_refresh_nav_bar:function(a){if(Internal.isNotEmptyString(a)){jsonObj=JSON.parse(a),jsonObj.service="NavBar",jsonObj.action="refresh",jsonObj.callback_tagname="refresh_nav_bar";var b=JSON.stringify(jsonObj);if(Internal.isIOS){var c=Internal.makeURLWithParam(b);Internal.loadURL(c)}else Internal.isAndroid?window.NavBar_a.refresh(b):Internal.isWinOS&&Internal.callWin8App(b)}},app_set_navbar_hidden:function(a){if(Internal.isSupportAPIWithVersion("5.4")){var b={};b.isHidden=a;var c=Internal.makeParamString("NavBar","setNavBarHidden",b,"set_navbar_hidden");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.NavBar_a.setNavBarHidden(c):Internal.isWinOS&&Internal.callWin8App(c)}},app_set_toolbar_hidden:function(a){if(Internal.isSupportAPIWithVersion("5.4")){var b={};b.isHidden=a;var c=Internal.makeParamString("NavBar","setToolBarHidden",b,"set_toolbar_hidden");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.NavBar_a.setToolBarHidden(c):Internal.isWinOS&&Internal.callWin8App(c)}}},__CTRIP_JS_PARAM="?jsparam=",__CTRIP_URL_PLUGIN="ctrip://h5/plugin"+__CTRIP_JS_PARAM,__CTRIP_YOUTH_URL_PLUGIN="ctripyouth://h5/plugin"+__CTRIP_JS_PARAM,originalConsole=console,console=originalConsole,CtripBusiness={app_choose_invoice_title:function(a){if(Internal.isSupportAPIWithVersion("5.6")){a||(a="");var b={};b.selectedInvoiceTitle=a;var c=Internal.makeParamString("Business","chooseInvoiceTitle",b,"choose_invoice_title");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.Business_a.chooseInvoiceTitle(c):Internal.isWinOS&&Internal.callWin8App(c)}},app_show_voice_search:function(a){if(Internal.isSupportAPIWithVersion("5.7")){var b={};b.businessType=a;var c=Internal.makeParamString("Business","showVoiceSearch",b,"show_voice_search");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.Business_a.showVoiceSearch(c):Internal.isWinOS&&Internal.callWin8App(c)}},app_open_adv_page:function(a){if(Internal.isSupportAPIWithVersion("5.4")){var b={};b.advUrl=a,paramString=Internal.makeParamString("Util","openAdvPage",b,"open_adv_page"),Internal.isIOS?(url=Internal.makeURLWithParam(paramString),Internal.loadURL(url)):Internal.isAndroid?window.Util_a.openAdvPage(paramString):Internal.isWinOS&&Internal.callWin8App(paramString)}},app_show_newest_introduction:function(){var a=Internal.makeParamString("Util","showNewestIntroduction",null,"show_newest_introduction");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Util_a.showNewestIntroduction(a):Internal.isWinOS&&Internal.callWin8App(a)},app_check_update:function(){var a=Internal.makeParamString("Util","checkUpdate",null,"check_update");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Util_a.checkUpdate(a):Internal.isWinOS&&Internal.callWin8App(a)},app_recommend_app_to_friends:function(){var a=Internal.makeParamString("Util","recommendAppToFriends",null,"recommend_app_to_friends");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Util_a.recommendAppToFriends(a):Internal.isWinOS&&Internal.callWin8App(a)},app_add_weixin_friend:function(){var a=Internal.makeParamString("Util","addWeixinFriend",null,"add_weixin_friend");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Util_a.addWeixinFriend(a):Internal.isWinOS&&Internal.callWin8App(a)},app_call_system_share:function(a,b,c,d){CtripShare.app_call_system_share(a,b,c,d)},app_log_event:function(a){if(Internal.isNotEmptyString(a)){var b={};b.event=a;var c=Internal.makeParamString("Util","logEvent",b,"log_event");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.Util_a.logEvent(c):Internal.isWinOS&&Internal.callWin8App(c)}},app_get_device_info:function(){if(Internal.isSupportAPIWithVersion("5.7")){var a=Internal.makeParamString("Business","getDeviceInfo",null,"get_device_info");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Business_a.getDeviceInfo(a):Internal.isWinOS&&Internal.callWin8App(a)}},app_read_verification_code_from_sms:function(a){if(Internal.isSupportAPIWithVersion("5.8")){a||(a="");var b={};b.pattern=a;var c=Internal.makeParamString("Business","readVerificationCodeFromSMS",b,"read_verification_code_from_sms");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.Business_a.readVerificationCodeFromSMS(c):Internal.isWinOS&&Internal.callWin8App(c)}},app_log_google_remarkting:function(a){if(Internal.isSupportAPIWithVersion("5.8")){a||(a="");var b={};b.screenName=a;var c=Internal.makeParamString("Business","logGoogleRemarking",b,"log_google_remarkting");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.Business_a.logGoogleRemarking(c):Internal.isWinOS&&Internal.callWin8App(c)}},app_choose_contact_from_addressbook:function(){if(Internal.isSupportAPIWithVersion("5.9")){var a=Internal.makeParamString("Business","chooseContactFromAddressbook",null,"choose_contact_from_addressbook");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Business_a.chooseContactFromAddressbook(a):Internal.isWinOS&&Internal.callWin8App(a)}},app_send_ubt_log:function(a){if(Internal.isSupportAPIWithVersion("5.9")){var b={};b.tags=a;var c=Internal.makeParamString("Business","sendUBTLog",b,"send_ubt_log");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.Business_a.sendUBTLog(c):Internal.isWinOS&&Internal.callWin8App(c)}},app_send_ubt_trace:function(a,b){if(Internal.isSupportAPIWithVersion("6.1")){var c={};c.tags=b,c.traceName=a;var d=Internal.makeParamString("Business","sendUBTTrace",c,"send_ubt_trace");if(Internal.isIOS){var e=Internal.makeURLWithParam(d);Internal.loadURL(e)}else Internal.isAndroid?window.Business_a.sendUBTTrace(d):Internal.isWinOS&&Internal.callWin8App(d)}},app_send_ubt_metrics:function(a,b,c){if(Internal.isSupportAPIWithVersion("6.1")){var d={};d.tags=c,d.metricsName=a,d.numValue=b;var e=Internal.makeParamString("Business","sendUBTMetrics",d,"send_ubt_metrics");if(Internal.isIOS){var f=Internal.makeURLWithParam(e);Internal.loadURL(f)}else Internal.isAndroid?window.Business_a.sendUBTMetrics(e):Internal.isWinOS&&Internal.callWin8App(e)}},app_do_business_job:function(a,b,c,d){if(Internal.isSupportAPIWithVersion("6.0")){var e={};e.businessType=a,e.businessCode=b,e.jsonParam=c,e.sequenceId=d;var f=Internal.makeParamString("Business","doBusinessJob",e,"do_business_job");if(Internal.isIOS){var g=Internal.makeURLWithParam(f);Internal.loadURL(g)}else Internal.isAndroid?window.Business_a.doBusinessJob(f):Internal.isWinOS&&Internal.callWin8App(f)}},app_get_channel_info:function(){if(Internal.isSupportAPIWithVersion("6.2")){var a=Internal.makeParamString("Business","getChannelInfo",null,"get_channel_info");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Business_a.getChannelInfo(a):Internal.isWinOS&&Internal.callWin8App(a)}},app_get_abtesting_info:function(a,b){if(Internal.isSupportAPIWithVersion("6.2")){var c={};c.expCode=a,c.statisticsMeta=b;var d=Internal.makeParamString("Business","getABTestingInfo",c,"get_abtesting_info");if(Internal.isIOS){var e=Internal.makeURLWithParam(d);Internal.loadURL(e)}else Internal.isAndroid?window.Business_a.getABTestingInfo(d):Internal.isWinOS&&Internal.callWin8App(d)}}},CtripConsole={log:function(a){Internal.isWinOS?Internal.callWin8App("wp-log:#wp#Log:"+a):Internal.isIOS&&Internal.loadURL("ios-log:#iOS#Log:"+a)},debug:function(a){Internal.isWinOS?Internal.callWin8App("wp-log:#wp#Debug:"+a):Internal.isIOS&&Internal.loadURL("ios-log:#iOS#Debug:"+a)},info:function(a){Internal.isWinOS?Internal.callWin8App("wp-log:#wp#info:"+a):Internal.isIOS&&Internal.loadURL("ios-log:#iOS#Info:"+a)},warn:function(a){Internal.isWinOS?Internal.callWin8App("wp-log:#wp#warn:"+a):Internal.isIOS&&Internal.loadURL("ios-log:#iOS#warn:"+a)},error:function(a){Internal.isWinOS?Internal.callWin8App("wp-log:#wp#Error:"+a):Internal.isIOS&&Internal.loadURL("ios-log:#iOS#Error:"+a)}},CtripEncrypt={app_base64_encode:function(a){if(Internal.isSupportAPIWithVersion("5.3")){a||(a=""),params={},params.toIncodeString=a;var b=Internal.makeParamString("Encrypt","base64Encode",params,"base64_encode");if(Internal.isIOS){var c=Internal.makeURLWithParam(b);Internal.loadURL(c)}else Internal.isAndroid?window.Encrypt_a.base64Encode(b):Internal.isWinOS&&Internal.callWin8App(b)}},app_md5_hash:function(a){if(Internal.isSupportAPIWithVersion("5.5")){a||(a=""),params={},params.inString=a;var b=Internal.makeParamString("Encrypt","md5Hash",params,"md5_hash");if(Internal.isIOS){var c=Internal.makeURLWithParam(b);Internal.loadURL(c)}else Internal.isAndroid?window.Encrypt_a.md5Hash(b):Internal.isWinOS&&Internal.callWin8App(b)}},app_ctrip_encrypt:function(a,b){if(Internal.isSupportAPIWithVersion("5.5")){a||(a=""),params={},params.inString=a,params.encType=b;var c=Internal.makeParamString("Encrypt","ctripEncrypt",params,"ctrip_encrypt");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.Encrypt_a.ctripEncrypt(c):Internal.isWinOS&&Internal.callWin8App(c)}}},CtripFile={app_get_current_sandbox_name:function(){if(Internal.isSupportAPIWithVersion("5.4")){var a={};a.pageUrl=window.location.href;var b=Internal.makeParamString("File","getCurrentSandboxName",a,"get_current_sandbox_name");if(Internal.isIOS){var c=Internal.makeURLWithParam(b);Internal.loadURL(c)}else Internal.isAndroid?window.File_a.getCurrentSandboxName(b):Internal.isWinOS&&Internal.callWin8App(b)}},app_write_text_to_file:function(a,b,c,d){if(Internal.isSupportAPIWithVersion("5.4")){a||(a=""),b||(b=""),c||(c="");var e={};e.pageUrl=window.location.href,e.text=a,e.fileName=b,e.relativeFilePath=c,e.isAppend=d;var f=Internal.makeParamString("File","writeTextToFile",e,"write_text_to_file");if(Internal.isIOS){var g=Internal.makeURLWithParam(f);Internal.loadURL(g)}else Internal.isAndroid?window.File_a.writeTextToFile(f):Internal.isWinOS&&Internal.callWin8App(f)}},app_delete_file:function(a,b){if(Internal.isSupportAPIWithVersion("5.4")){a||(a=""),b||(b="");var c={};c.fileName=a,c.relativeFilePath=b,c.pageUrl=window.location.href;var d=Internal.makeParamString("File","deleteFile",c,"delete_file");if(Internal.isIOS){var e=Internal.makeURLWithParam(d);Internal.loadURL(e)}else Internal.isAndroid?window.File_a.deleteFile(d):Internal.isWinOS&&Internal.callWin8App(d)}},app_read_text_from_file:function(a,b){if(Internal.isSupportAPIWithVersion("5.4")){a||(a=""),b||(b="");var c={};c.fileName=a,c.pageUrl=window.location.href,c.relativeFilePath=b;var d=Internal.makeParamString("File","readTextFromFile",c,"read_text_from_file");if(Internal.isIOS){var e=Internal.makeURLWithParam(d);Internal.loadURL(e)}else Internal.isAndroid?window.File_a.readTextFromFile(d):Internal.isWinOS&&Internal.callWin8App(d)}},app_get_file_size:function(a,b){if(Internal.isSupportAPIWithVersion("5.4")){a||(a=""),b||(b="");var c={};c.fileName=a,c.relativeFilePath=b,c.pageUrl=window.location.href;var d=Internal.makeParamString("File","getFileSize",c,"get_file_size");if(Internal.isIOS){var e=Internal.makeURLWithParam(d);Internal.loadURL(e)}else Internal.isAndroid?window.File_a.getFileSize(d):Internal.isWinOS&&Internal.callWin8App(d)}},app_check_file_exist:function(a,b){if(Internal.isSupportAPIWithVersion("5.4")){a||(a=""),b||(b="");var c={};c.fileName=a,c.relativeFilePath=b,c.pageUrl=window.location.href;var d=Internal.makeParamString("File","checkFileExist",c,"check_file_exist");if(Internal.isIOS){var e=Internal.makeURLWithParam(d);Internal.loadURL(e)}else Internal.isAndroid?window.File_a.checkFileExist(d):Internal.isWinOS&&Internal.callWin8App(d)}},app_make_dir:function(a,b){if(Internal.isSupportAPIWithVersion("5.4")){a||(a=""),b||(b="");var c={};c.dirName=a,c.pageUrl=window.location.href,c.relativeDirPath=b;var d=Internal.makeParamString("File","makeDir",c,"make_dir");if(Internal.isIOS){var e=Internal.makeURLWithParam(d);Internal.loadURL(e)}else Internal.isAndroid?window.File_a.makeDir(d):Internal.isWinOS&&Internal.callWin8App(d)}}},CtripGeoHelper={Aboard:2,Domestic:1,Unknown:-1,aroundAboardRectList:[[125478833,40538425,135928497,16590043],[128054454,54437790,136370032,49918776],[89567309,54351906,115617882,47881407],[71832315,54566279,82281980,46323836],[72788974,28001436,85887850,16590043],[92510877,48029708,111570476,45034268],[85593493,26157025,97294174,16519064],[97073406,20935216,107743838,16305964],[98324422,45190596,109142033,42854577],[71979493,45863038,78896877,41817208]],chinaRectList:[[85374342,41697126,124486996,28705892],[98942349,28714002,122527683,23331042],[108012216,23415965,119252965,17294543],[120025651,51286036,126391116,41330674],[82936701,46727439,90553182,41621242],[126188746,48211817,129757821,42485061],[129518656,47611932,131468770,44959641],[131376782,47487374,133805226,46225387],[79753968,41876130,85604309,30872189],[113457816,44802677,120117638,41517618],[118977005,23526282,121975765,21629857],[109667973,17321053,119050594,14580095],[76258482,40359687,80011530,35915704],[90534784,44710915,94030271,41531444],[80710628,45077082,83028687,41862379],[85935460,48414308,88437492,46645143],[93975079,42559912,101462779,41600531],[93956681,44157262,95354876,42491869],[116695740,46301949,120117638,44619006],[116401384,49444657,120191227,48057877],[121000708,53244099,124569783,51210984],[106724405,42232628,113494611,41683336],[112133211,44355602,113568200,42123151],[110918989,43155464,112206800,42232628],[115150367,45324216,116769330,44724032],[126299129,49588397,128102064,48057877],[128065270,49131761,129757821,48131826],[129721026,48622090,130530508,47611932],[124349016,52822665,125710416,51095279],[122325313,28884167,123760302,25662561],[111029373,14651757,118388292,10605300],[109778357,10095218,109778357,10095218],[109631178,10459649,116548562,7753573],[110514249,7826971,113678584,4734480],[124330619,41399976,125480450,40689610],[126345123,42512290,128046872,41827986],[127973283,42539507,129104717,42143692],[74510739,40162360,76350468,38678393],[119087389,21629857,120706351,20142916],[106853187,23339537,108067408,21990651],[129707229,44975967,130985841,43017244],[130958245,44582859,131169814,43104932],[131418176,46247729,133129126,45359896],[133073934,48054793,134269758,47409374],[99701237,23386249,101577762,22174986],[100179567,22243514,101559364,21745927],[101485775,23437187,104245370,22875776],[98008686,25240784,99057332,24181992],[124463999,40686109,124905534,40461646],[125457453,41334141,126055365,40979564],[126368119,41824546,126607284,41645397],[125475850,40979564,125687419,40853958],[124477797,40465160,124728460,40343852],[124470898,40347371,124618076,40285757],[124891736,40694862,125153898,40607283],[126046166,41332407,126262335,41165784],[127214395,41836586,128083666,41546995],[126386516,50257998,126386516,50257998],[126280732,50257998,127513351,49580921],[126363520,50934256,127117809,50225552],[125669022,52398490,126276133,51247082],[80948643,30905163,81403976,30280446],[83574857,30911112,85488176,29214825],[98136317,28872274,99079179,27642374]],largeChinaRect:[73083331,54006559,135266195,17015367],isInRect:function(a,b,c){return a>=c[0]&&a<=c[2]&&b>=c[3]&&b<=c[1]?!0:!1},isInRectList:function(a,b,c){for(var d=0;d<c.length-1;d++)if(smallRect=c[d],this.isInRect(a,b,smallRect))return!0;return!1},getCountry:function(a,b){var c=this.Unknown,d=1e6*b,e=1e6*a;return isInAboard=!this.isInRect(e,d,this.largeChinaRect),isInAboard||(isInAboard=this.isInRectList(e,d,this.aroundAboardRectList)),isInAboard?c=this.Aboard:(inInLand=this.isInRectList(e,d,this.chinaRectList),inInLand&&(c=this.Domestic)),c}},__IS_BASE64_ENCODE_VERSION=!1,__USER_AGENT_FLAG="CtripWireless_",Internal={isIOS:!1,isAndroid:!1,isWinOS:!1,isInApp:!1,appVersion:"",osVersion:"",isYouthApp:!1,isAppVersionGreatThan:function(a){if(Internal.isYouthApp)return!0;if("string"==typeof a&&a.length>0&&Internal.appVersion){var b=a.replace(/\./g,""),c=Internal.appVersion.replace(/\./g,""),d=parseFloat(b),e=parseFloat(c);
if(isNaN(e)||e-d>=0)return!0}return!1},isAppVersionAfter62:function(){if(__IS_BASE64_ENCODE_VERSION)return __IS_BASE64_ENCODE_VERSION;var a=navigator.userAgent,b=a.indexOf(__USER_AGENT_FLAG);if(b>=0){a=a.substr(b+__USER_AGENT_FLAG.length);var c=a.indexOf("."),d=a.substr(0,c);c<=a.length-1&&(d+=a.substr(c+1,1));var e=parseInt(d);__IS_BASE64_ENCODE_VERSION=e>=62}return __IS_BASE64_ENCODE_VERSION},isSupportAPIWithVersion:function(a){return!0},appVersionNotSupportCallback:function(a){var b={tagname:"app_version_too_low",start_version:a,app_version:Internal.appVersion};CtripTool.app_log(JSON.stringify(b)),window.app.callback(b)},paramErrorCallback:function(a){var b={tagname:"app_param_error",description:a};CtripTool.app_log(JSON.stringify(b)),window.app.callback(b)},isNotEmptyString:function(a){return"string"==typeof a&&a.length>0?!0:!1},loadURL:function(a){if(0!=a.length){var b=document.createElement("iframe"),c=document.body||document.documentElement;b.style.display="none",b.setAttribute("src",a),c.appendChild(b),setTimeout(function(){b.parentNode.removeChild(b),b=null},200)}},makeParamString:function(a,b,c,d){return Internal.isNotEmptyString(a)&&Internal.isNotEmptyString(b)?(c||(c={}),c.service=a,c.action=b,c.callback_tagname=d,JSON.stringify(c)):""},makeURLWithParam:function(a){return null==a&&(a=""),a=CtripTool.ctripParamEncode(a),Internal.isYouthApp?__CTRIP_YOUTH_URL_PLUGIN+a:__CTRIP_URL_PLUGIN+a},callWin8App:function(a){window.external.notify(a)}},CtripMap={app_locate:function(a,b,c,d){var e={};e.timeout=a,e.isNeedCtripCity=b,e.isForceLocate=c,e.sequenceId=d;var f=Internal.makeParamString("Locate","locate",e,"locate");if(Internal.isIOS){var g=Internal.makeURLWithParam(f);Internal.loadURL(g)}else Internal.isAndroid?window.Locate_a.locate(f):Internal.isWinOS&&Internal.callWin8App(f)},app_stop_locate:function(a){if(Internal.isSupportAPIWithVersion("6.0")){var b={};b.sequenceId=a;var c=Internal.makeParamString("Locate","stopLocate",b,"stop_locate");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.Locate_a.stopLocate(c):Internal.isWinOS&&Internal.callWin8App(c)}},app_show_map:function(a,b,c,d){if(Internal.isSupportAPIWithVersion("5.5")){c||(c=""),d||(d="");var e={};e.latitude=a,e.longitude=b,e.title=c,e.subtitle=d;var f=Internal.makeParamString("Locate","showMap",e,"show_map");if(Internal.isIOS){var g=Internal.makeURLWithParam(f);Internal.loadURL(g)}else Internal.isAndroid?window.Locate_a.showMap(f):Internal.isWinOS&&Internal.callWin8App(f)}},app_show_map_with_POI_list:function(a){if(Internal.isSupportAPIWithVersion("5.8")){var b={};b.poiList=a;var c=Internal.makeParamString("Locate","showMapWithPOIList",b,"show_map_with_POI_list");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.Locate_a.showMapWithPOIList(c):Internal.isWinOS&&Internal.callWin8App(c)}},app_get_cached_ctrip_city:function(){if(Internal.isSupportAPIWithVersion("6.0")){var a=Internal.makeParamString("Locate","getCachedCtripCity",null,"get_cached_ctrip_city");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Locate_a.getCachedCtripCity(a):Internal.isWinOS&&Internal.callWin8App(a)}}},CtripPage={app_set_page_name:function(a){if(Internal.isSupportAPIWithVersion("5.6")){a||(a="");var b={};b.pageName=a;var c=Internal.makeParamString("Page","setPageName",b,"set_page_name");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.Page_a.setPageName(c):Internal.isWinOS&&Internal.callWin8App(c)}},app_back_to_page:function(a,b){if(Internal.isSupportAPIWithVersion("5.8")){a||(a=""),b||(b="");var c={};c.pageName=a,c.callbackString=b;var d=Internal.makeParamString("Page","backToPage",c,"back_to_page");if(Internal.isIOS){var e=Internal.makeURLWithParam(d);Internal.loadURL(e)}else Internal.isAndroid?window.Page_a.backToPage(d):Internal.isWinOS&&Internal.callWin8App(d)}},app_show_loading_page:function(){if(Internal.isSupportAPIWithVersion("5.9")){var a=Internal.makeParamString("Page","showLoadingPage",null,"show_loading_page");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Page_a.showLoadingPage(a):Internal.isWinOS&&Internal.callWin8App(a)}},app_hide_loading_page:function(){if(Internal.isSupportAPIWithVersion("5.9")){var a=Internal.makeParamString("Page","hideLoadingPage",null,"hide_loading_page");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Page_a.hideLoadingPage(a):Internal.isWinOS&&Internal.callWin8App(a)}},app_enable_drag_animation:function(a){if(Internal.isSupportAPIWithVersion("5.9")){var b={};b.isEnable=a;var c=Internal.makeParamString("Page","enableDragAnimation",b,"enable_drag_animation");Internal.isIOS?(url=Internal.makeURLWithParam(c),Internal.loadURL(url)):Internal.isAndroid||Internal.isWinOS&&Internal.callWin8App(c)}},app_reload_current_page:function(){if(Internal.isSupportAPIWithVersion("6.3")){var a=Internal.makeParamString("Page","reloadCurrentPage",null,"reload_current_page");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Page_a.reloadCurrentPage(a):Internal.isWinOS&&Internal.callWin8App(a)}}},CtripPay={app_check_pay_app_install_status:function(){if(Internal.isSupportAPIWithVersion("5.4")){var a=Internal.makeParamString("Pay","checkPayAppInstallStatus",null,"check_pay_app_install_status");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Pay_a.checkPayAppInstallStatus(a):Internal.isWinOS&&Internal.callWin8App(a)}},app_open_pay_app_by_url:function(a,b,c,d){if(Internal.isSupportAPIWithVersion("5.4")){b||(b=""),a||(a=""),c||(c=""),d||(d="");var e={};e.payMeta=b,e.payAppName=a,e.successRelativeURL=c,e.detailRelativeURL=d;var f=Internal.makeParamString("Pay","openPayAppByURL",e,"open_pay_app_by_url");if(Internal.isIOS){var g=Internal.makeURLWithParam(f);Internal.loadURL(g)}else Internal.isAndroid?window.Pay_a.openPayAppByURL(f):Internal.isWinOS&&Internal.callWin8App(f)}},app_call_pay:function(a){if(a=a||{},a.param=a.param||"","string"==typeof a.param){for(var b=a.param.split("?")[1]||"",c=b.split("&")||[],d="",e=0;e<c.length;e++){var f=c[e].split("=")||[],g=f[0],h=f[1];if("bustype"===g){d=h;break}}a.names=["payment_route_"+d];var i=Internal.makeParamString("Pay","callPay",a,"call_pay");if(Internal.isIOS){var j=Internal.makeURLWithParam(i);Internal.loadURL(j)}else Internal.isAndroid?window.Pay_a.callPay(i):Internal.isWinOS&&Internal.callWin8App(i)}}},CtripPipe={app_send_HTTP_pipe_request:function(a,b,c,d,e,f,g){if(Internal.isSupportAPIWithVersion("5.4")){a||(a=""),b||(b=""),c||(c=""),d||(d=""),e||(e=""),g||(g="");var h={};h.baseURL=a,h.path=b,h.method=c,h.header=d,h.parameters=e,h.sequenceId=g,h.isIgnoreHTTPSCertification=f;var i=Internal.makeParamString("Pipe","sendHTTPPipeRequest",h,"send_http_pipe_request");if(Internal.isIOS){var j=Internal.makeURLWithParam(i);Internal.loadURL(j)}else Internal.isAndroid?window.Pipe_a.sendHTTPPipeRequest(i):Internal.isWinOS&&Internal.callWin8App(i)}},app_abort_HTTP_pipe_request:function(a){if(Internal.isSupportAPIWithVersion("5.4")){a||(a="");var b={};b.sequenceId=a;var c=Internal.makeParamString("Pipe","abortHTTPRequest",b,"abort_http_pipe_request");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.Pipe_a.abortHTTPRequest(c):Internal.isWinOS&&Internal.callWin8App(c)}},app_send_H5_pipe_request:function(a,b,c,d,e){if(Internal.isSupportAPIWithVersion("5.4")){a||(a=""),b||(b=""),c||(c=""),d||(d=""),e||(e=0);var f={};f.serviceCode=a,f.header=b,f.data=c,f.sequenceId=d,f.pipeType=e;var g=Internal.makeParamString("Pipe","sendH5PipeRequest",f,"send_h5_pipe_request");if(Internal.isIOS){var h=Internal.makeURLWithParam(g);Internal.loadURL(h)}else Internal.isAndroid?window.Pipe_a.sendH5PipeRequest(g):Internal.isWinOS&&Internal.callWin8App(g)}}},CtripShare={app_call_system_share:function(a,b,c,d){if(Internal.isSupportAPIWithVersion("5.3")){var e={};e.title=c,e.text=b,e.linkUrl=d,e.imageRelativePath=a;var f=Internal.makeParamString("Util","callSystemShare",e,"call_system_share");if(Internal.isIOS){var g=Internal.makeURLWithParam(f);Internal.loadURL(g)}else Internal.isAndroid?window.Util_a.callSystemShare(f):Internal.isWinOS&&Internal.callWin8App(f)}},wrap_call_default_share:function(a,b,c,d,e){var f={};f.shareType="Default",f.imageUrl=a,f.title=b,f.text=c,f.linkUrl=d;var g=[];g.push(f),CtripShare.app_call_custom_share(g,e)},app_call_custom_share:function(a,b,c){var d={};d.dataList=a,d.businessCode=b,d.meta=c;var e=Internal.makeParamString("Share","callCustomShare",d,"call_custom_share");Internal.isIOS?(url=Internal.makeURLWithParam(e),Internal.loadURL(url)):Internal.isAndroid?window.Share_a.callCustomShare(e):Internal.isWinOS&&Internal.callWin8App(e)},app_call_one_share:function(a,b,c,d,e,f,g){var h={};h.shareType=a,h.imageUrl=b,h.title=c,h.text=d,h.linkUrl=e,h.businessCode=f,h.meta=g;var i=Internal.makeParamString("Share","callOneShare",h,"call_one_share");Internal.isIOS?(url=Internal.makeURLWithParam(i),Internal.loadURL(url)):Internal.isAndroid?window.Share_a.callOneShare(i):Internal.isWinOS&&Internal.callWin8App(i)}},CtripSumSungWallet={app_check_ticket_in_samsung_wallet:function(a){a||(a="");var b={};b.ticketID=a,paramString=Internal.makeParamString("SamSungWallet","checkTicketInSamSungWallet",b,"check_ticket_in_samsung_wallet"),Internal.isAndroid&&window.SamSungWallet_a.checkTicketInSamSungWallet(paramString)},app_download_ticket_in_samsung_wallet:function(a){a||(a="");var b={};b.ticketID=a,paramString=Internal.makeParamString("SamSungWallet","downloadTicketInSamSungWallet",b,"download_ticket_in_samsung_wallet"),Internal.isAndroid&&window.SamSungWallet_a.downloadTicketInSamSungWallet(paramString)},app_show_ticket_in_samsung_wallet:function(a){a||(a="");var b={};b.ticketID=a,paramString=Internal.makeParamString("SamSungWallet","showTicketInSamSungWallet",b,"show_ticket_in_samsung_wallet"),Internal.isAndroid&&window.SamSungWallet_a.showTicketInSamSungWallet(paramString)}},base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64DecodeChars=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1),CtripTool={app_is_in_ctrip_app:function(){if(Internal.isInApp)return!0;var a=!1,b=navigator.userAgent;return b.indexOf(__USER_AGENT_FLAG)>0&&(a=!0),a},_base64encode:function(a){var b,c,d,e,f,g;for(d=a.length,c=0,b="";d>c;){if(e=255&a.charCodeAt(c++),c==d){b+=base64EncodeChars.charAt(e>>2),b+=base64EncodeChars.charAt((3&e)<<4),b+="==";break}if(f=a.charCodeAt(c++),c==d){b+=base64EncodeChars.charAt(e>>2),b+=base64EncodeChars.charAt((3&e)<<4|(240&f)>>4),b+=base64EncodeChars.charAt((15&f)<<2),b+="=";break}g=a.charCodeAt(c++),b+=base64EncodeChars.charAt(e>>2),b+=base64EncodeChars.charAt((3&e)<<4|(240&f)>>4),b+=base64EncodeChars.charAt((15&f)<<2|(192&g)>>6),b+=base64EncodeChars.charAt(63&g)}return b},_base64decode:function(a){var b,c,d,e,f,g,h;for(g=a.length,f=0,h="";g>f;){do b=base64DecodeChars[255&a.charCodeAt(f++)];while(g>f&&-1==b);if(-1==b)break;do c=base64DecodeChars[255&a.charCodeAt(f++)];while(g>f&&-1==c);if(-1==c)break;h+=String.fromCharCode(b<<2|(48&c)>>4);do{if(d=255&a.charCodeAt(f++),61==d)return h;d=base64DecodeChars[d]}while(g>f&&-1==d);if(-1==d)break;h+=String.fromCharCode((15&c)<<4|(60&d)>>2);do{if(e=255&a.charCodeAt(f++),61==e)return h;e=base64DecodeChars[e]}while(g>f&&-1==e);if(-1==e)break;h+=String.fromCharCode((3&d)<<6|e)}return h},_utf16to8:function(a){var b,c,d,e;for(b="",d=a.length,c=0;d>c;c++)e=a.charCodeAt(c),e>=1&&127>=e?b+=a.charAt(c):e>2047?(b+=String.fromCharCode(224|e>>12&15),b+=String.fromCharCode(128|e>>6&63),b+=String.fromCharCode(128|e>>0&63)):(b+=String.fromCharCode(192|e>>6&31),b+=String.fromCharCode(128|e>>0&63));return b},_utf8to16:function(a){var b,c,d,e,f,g;for(b="",d=a.length,c=0;d>c;)switch(e=a.charCodeAt(c++),e>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:b+=a.charAt(c-1);break;case 12:case 13:f=a.charCodeAt(c++),b+=String.fromCharCode((31&e)<<6|63&f);break;case 14:f=a.charCodeAt(c++),g=a.charCodeAt(c++),b+=String.fromCharCode((15&e)<<12|(63&f)<<6|(63&g)<<0)}return b},base64Encode:function(a){return this._base64encode(this._utf16to8(a))},base64Decode:function(a){return this._utf8to16(this._base64decode(a))},ctripParamDecode:function(a){return a=Internal.isAppVersionAfter62()?CtripTool.base64Decode(a):decodeURIComponent(a)},ctripParamEncode:function(a){return Internal.isAppVersionAfter62()?(a=encodeURIComponent(a),a=CtripTool.base64Encode(a)):a=encodeURIComponent(a),a}},CtripUser={app_member_login:function(a){var b={};b.isShowNonMemberLogin=a;var c=Internal.makeParamString("User","memberLogin",b,"member_login");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.User_a.memberLogin(c):Internal.isWinOS&&Internal.callWin8App(c)},app_non_member_login:function(){var a=Internal.makeParamString("User","nonMemberLogin",null,"non_member_login");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.User_a.nonMemberLogin(a):Internal.isWinOS&&Internal.callWin8App(a)},app_member_auto_login:function(){var a=Internal.makeParamString("User","memberAutoLogin",null,"member_auto_login");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.User_a.memberAutoLogin(a):Internal.isWinOS&&Internal.callWin8App(a)},app_member_register:function(){var a=Internal.makeParamString("User","memberRegister",null,"member_register");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.User_a.memberRegister(a):Internal.isWinOS&&Internal.callWin8App(a)},app_finished_register:function(a){if(Internal.isSupportAPIWithVersion("5.7")){a||(a="");var b={};b.userInfoJson=a;var c=Internal.makeParamString("User","finishedRegister",b,"finished_register");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.User_a.finishedRegister(c):Internal.isWinOS&&Internal.callWin8App(c)}},app_finished_login:function(a){if(Internal.isSupportAPIWithVersion("5.8")){a||(a="");var b={};b.userInfoJson=a;var c=Internal.makeParamString("User","finishedLogin",b,"finished_login");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.User_a.finishedLogin(c):Internal.isWinOS&&Internal.callWin8App(c)}},app_user_logout:function(){if(Internal.isSupportAPIWithVersion("6.5")){var a=Internal.makeParamString("User","userLogout",null,"user_logout");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.User_a.userLogout(a):Internal.isWinOS&&Internal.callWin8App(a)}}},CtripUtil={app_init_member_H5_info:function(){var a=Internal.makeParamString("User","initMemberH5Info",null,"init_member_H5_info");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.User_a.initMemberH5Info(a):Internal.isWinOS&&Internal.callWin8App(a)},app_call_phone:function(a,b,c){a||(a="");var d={};d.pageId=b,d.phone=a,d.businessCode=c;var e=Internal.makeParamString("Util","callPhone",d,"call_phone");if(Internal.isIOS){var f=Internal.makeURLWithParam(e);Internal.loadURL(f)}else Internal.isAndroid?window.Util_a.callPhone(e):Internal.isWinOS&&Internal.callWin8App(e)},app_back_to_home:function(){var a=Internal.makeParamString("Util","backToHome",null,"back_to_home");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Util_a.backToHome(a):Internal.isWinOS&&Internal.callWin8App(a)},app_back_to_last_page:function(a,b){var c={};a||(a=""),c.callbackString=a,c.isDeleteH5Page=b;var d=Internal.makeParamString("Util","backToLast",c,"back_to_last_page");if(Internal.isIOS){var e=Internal.makeURLWithParam(d);Internal.loadURL(e)}else Internal.isAndroid?window.Util_a.backToLast(d):Internal.isWinOS&&Internal.callWin8App(d)},app_open_url:function(a,b,c,d,e,f){var g={};a||(a=""),c||(c=""),d||(d=""),g.openUrl=a,g.title=c,g.targetMode=b,g.pageName=d,g.isShowLoadingPage=e,g.meta=f;var h=Internal.makeParamString("Util","openUrl",g,"open_url");if(Internal.appVersion){var i=!1;if(5==b&&!Internal.isAppVersionGreatThan("5.9")){var j=a.indexOf("/");if(j>0){var k=a.substr(0,j),l=a.substr(j+1);CtripUtil.app_cross_package_href(k,l)}else Internal.appVersionNotSupportCallback("传入URL有错误，eg. car/index.html#xxooee");i=!0}if(!i)if(Internal.isIOS){var m=Internal.makeURLWithParam(h);Internal.loadURL(m)}else Internal.isAndroid?window.Util_a.openUrl(h):Internal.isWinOS&&Internal.callWin8App(h)}else{var n=navigator.userAgent,o=n.indexOf("Android")>0&&n.indexOf("CtripWireless")>0;if(o)try{window.Util_a.openUrl(h)}catch(p){window.location.href=a}else window.location.href=a}},app_cross_package_href:function(a,b){var c={};a||(a=""),b||(b=""),c.path=a,c.param=b;var d=Internal.makeParamString("Util","crossPackageJumpUrl",c,"cross_package_href");if(Internal.isIOS){var e=Internal.makeURLWithParam(d);Internal.loadURL(e)}else Internal.isAndroid?window.Util_a.crossPackageJumpUrl(d):Internal.isWinOS&&Internal.callWin8App(d)},app_check_network_status:function(){var a=Internal.makeParamString("Util","checkNetworkStatus",null,"check_network_status");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Util_a.checkNetworkStatus(a):Internal.isWinOS&&Internal.callWin8App(a)},app_check_app_install_status:function(a,b){var c={};a||(a=""),b||(b=""),c.openUrl=a,c.packageName=b;var d=Internal.makeParamString("Util","checkAppInstallStatus",c,"check_app_install_status");if(Internal.isIOS){var e=Internal.makeURLWithParam(d);Internal.loadURL(e)}else Internal.isAndroid?window.Util_a.checkAppInstallStatus(d):Internal.isWinOS&&Internal.callWin8App(d)},app_refresh_native_page:function(a,b){var c={};a||(a=""),b||(b=""),c.pageName=a,c.jsonStr=b;var d=Internal.makeParamString("Util","refreshNativePage",c,"refresh_native_page");if(Internal.isIOS){var e=Internal.makeURLWithParam(d);Internal.loadURL(e)}else Internal.isAndroid?window.Util_a.refreshNativePage(d):Internal.isWinOS&&Internal.callWin8App(d)},app_copy_string_to_clipboard:function(a){if(Internal.isSupportAPIWithVersion("5.3")){var b={};a||(a=""),b.copyString=a;var c=Internal.makeParamString("Util","copyToClipboard",b,"copy_string_to_clipboard");if(Internal.isIOS){var d=Internal.makeURLWithParam(c);Internal.loadURL(d)}else Internal.isAndroid?window.Util_a.copyToClipboard(c):Internal.isWinOS&&Internal.callWin8App(c)}},app_read_copied_string_from_clipboard:function(){if(Internal.isSupportAPIWithVersion("5.3")){var a=Internal.makeParamString("Util","readCopiedStringFromClipboard",null,"read_copied_string_from_clipboard");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Util_a.readCopiedStringFromClipboard(a):Internal.isWinOS&&Internal.callWin8App(a)}},app_download_data:function(a,b,c){if(Internal.isSupportAPIWithVersion("5.3")){var d={};a||(a=""),b||(b=""),d.downloadUrl=a,d.suffix=b,d.pageUrl=window.location.href,d.isIgnoreHttpsCertification=c;var e=Internal.makeParamString("Util","downloadData",d,"download_data");if(Internal.isIOS){var f=Internal.makeURLWithParam(e);Internal.loadURL(f)}else Internal.isAndroid?window.Util_a.downloadData(e):Internal.isWinOS&&Internal.callWin8App(e)}},app_open_other_app:function(a,b,c){if(Internal.isSupportAPIWithVersion("5.3")){var d={};a||(a=""),b||(b=""),c||(c=""),d.packageId=a,d.jsonParam=b,d.url=c;var e=Internal.makeParamString("Util","openOtherApp",d,"open_other_app");if(Internal.isIOS){var c=Internal.makeURLWithParam(e);Internal.loadURL(c)}else Internal.isAndroid?window.Util_a.openOtherApp(e):Internal.isWinOS&&Internal.callWin8App(e)}},app_log:function(a,b){if(Internal.isNotEmptyString(a)){Internal.isNotEmptyString(b)||(b="");var c={};c.log=a,c.result=b;var d=Internal.makeParamString("Util","h5Log",c,"log");if(Internal.isIOS){var e=Internal.makeURLWithParam(d);Internal.loadURL(e)}else Internal.isAndroid?window.Util_a.h5Log(d):Internal.isWinOS&&Internal.callWin8App(d)}},app_choose_photo:function(a,b,c){if(Internal.isSupportAPIWithVersion("5.7")){var d={};d.maxFileSize=a,d.maxPhotoCount=b,d.meta=c;var e=Internal.makeParamString("Util","choosePhoto",d,"choose_photo");if(Internal.isIOS){var f=Internal.makeURLWithParam(e);Internal.loadURL(f)}else Internal.isAndroid?window.Util_a.choosePhoto(e):Internal.isWinOS&&Internal.callWin8App(e)}},app_save_photo:function(a,b,c){if(Internal.isSupportAPIWithVersion("5.7")){var d={};a||(a=""),b||(b=""),c||(c=""),d.photoUrl=a,d.photoBase64String=b,d.imageName=c;var e=Internal.makeParamString("Util","savePhoto",d,"save_photo");if(Internal.isIOS){var f=Internal.makeURLWithParam(e);Internal.loadURL(f)}else Internal.isAndroid?window.Util_a.savePhoto(e):Internal.isWinOS&&Internal.callWin8App(e)}},app_add_shortcut:function(a,b,c){if(Internal.isSupportAPIWithVersion("6.4")){var d={};a||(a=""),b||(b=""),c||(c=""),d.url=a,d.shortcutName=b,d.imageName=c;var e=Internal.makeParamString("Util","addShortcut",d,"add_shortcut");Internal.isIOS||(Internal.isAndroid?window.Util_a.addShortcut(e):Internal.isWinOS)}},app_h5_page_finish_loading:function(){if(Internal.isSupportAPIWithVersion("5.8")){var a=Internal.makeParamString("Util","h5PageFinishLoading",null,"h5_page_finish_loading");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Util_a.h5PageFinishLoading(a):Internal.isWinOS&&Internal.callWin8App(a)}},app_show_photo_broswer:function(a,b,c,d){if(Internal.isSupportAPIWithVersion("6.5")){var e={};e.photoList=a,e.shareDataList=b,e.showPhotoIndex=c,e.meta=d;var f=Internal.makeParamString("Util","showPhotoBroswer",e,"show_photo_broswer");if(Internal.isIOS){var g=Internal.makeURLWithParam(f);Internal.loadURL(g)}else Internal.isAndroid?window.Util_a.showPhotoBroswer(f):Internal.isWinOS&&Internal.callWin8App(f)}},app_scan_qrcode:function(){if(Internal.isSupportAPIWithVersion("6.6")){var a=Internal.makeParamString("Util","scanQRCode",null,"scan_qrcode");if(Internal.isIOS){var b=Internal.makeURLWithParam(a);Internal.loadURL(b)}else Internal.isAndroid?window.Util_a.scanQRCode(a):Internal.isWinOS&&Internal.callWin8App(a)}}};define("bridge",function(){});var Zepto=function(){function a(a){return null==a?String(a):U[V.call(a)]||"object"}function b(b){return"function"==a(b)}function c(a){return null!=a&&a==a.window}function d(a){return null!=a&&a.nodeType==a.DOCUMENT_NODE}function e(b){return"object"==a(b)}function f(a){return e(a)&&!c(a)&&Object.getPrototypeOf(a)==Object.prototype}function g(a){return"number"==typeof a.length}function h(a){return D.call(a,function(a){return null!=a})}function i(a){return a.length>0?x.fn.concat.apply([],a):a}function j(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function k(a){return a in G?G[a]:G[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function l(a,b){return"number"!=typeof b||H[j(a)]?b:b+"px"}function m(a){var b,c;return F[a]||(b=E.createElement(a),E.body.appendChild(b),c=getComputedStyle(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==c&&(c="block"),F[a]=c),F[a]}function n(a){return"children"in a?C.call(a.children):x.map(a.childNodes,function(a){return 1==a.nodeType?a:void 0})}function o(a,b,c){for(w in b)c&&(f(b[w])||Z(b[w]))?(f(b[w])&&!f(a[w])&&(a[w]={}),Z(b[w])&&!Z(a[w])&&(a[w]=[]),o(a[w],b[w],c)):b[w]!==v&&(a[w]=b[w])}function p(a,b){return null==b?x(a):x(a).filter(b)}function q(a,c,d,e){return b(c)?c.call(a,d,e):c}function r(a,b,c){null==c?a.removeAttribute(b):a.setAttribute(b,c)}function s(a,b){var c=a.className||"",d=c&&c.baseVal!==v;return b===v?d?c.baseVal:c:void(d?c.baseVal=b:a.className=b)}function t(a){var b;try{return a?"true"==a||("false"==a?!1:"null"==a?null:/^0/.test(a)||isNaN(b=Number(a))?/^[\[\{]/.test(a)?x.parseJSON(a):a:b):a}catch(c){return a}}function u(a,b){b(a);for(var c=0,d=a.childNodes.length;d>c;c++)u(a.childNodes[c],b)}var v,w,x,y,z,A,B=[],C=B.slice,D=B.filter,E=window.document,F={},G={},H={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},I=/^\s*<(\w+|!)[^>]*>/,J=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,K=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,L=/^(?:body|html)$/i,M=/([A-Z])/g,N=["val","css","html","text","data","width","height","offset"],O=["after","prepend","before","append"],P=E.createElement("table"),Q=E.createElement("tr"),R={tr:E.createElement("tbody"),tbody:P,thead:P,tfoot:P,td:Q,th:Q,"*":E.createElement("div")},S=/complete|loaded|interactive/,T=/^[\w-]*$/,U={},V=U.toString,W={},X=E.createElement("div"),Y={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Z=Array.isArray||function(a){return a instanceof Array};return W.matches=function(a,b){if(!b||!a||1!==a.nodeType)return!1;var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var d,e=a.parentNode,f=!e;return f&&(e=X).appendChild(a),d=~W.qsa(e,b).indexOf(a),f&&X.removeChild(a),d},z=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},A=function(a){return D.call(a,function(b,c){return a.indexOf(b)==c})},W.fragment=function(a,b,c){var d,e,g;return J.test(a)&&(d=x(E.createElement(RegExp.$1))),d||(a.replace&&(a=a.replace(K,"<$1></$2>")),b===v&&(b=I.test(a)&&RegExp.$1),b in R||(b="*"),g=R[b],g.innerHTML=""+a,d=x.each(C.call(g.childNodes),function(){g.removeChild(this)})),f(c)&&(e=x(d),x.each(c,function(a,b){N.indexOf(a)>-1?e[a](b):e.attr(a,b)})),d},W.Z=function(a,b){return a=a||[],a.__proto__=x.fn,a.selector=b||"",a},W.isZ=function(a){return a instanceof W.Z},W.init=function(a,c){var d;if(!a)return W.Z();if("string"==typeof a)if(a=a.trim(),"<"==a[0]&&I.test(a))d=W.fragment(a,RegExp.$1,c),a=null;else{if(c!==v)return x(c).find(a);d=W.qsa(E,a)}else{if(b(a))return x(E).ready(a);if(W.isZ(a))return a;if(Z(a))d=h(a);else if(e(a))d=[a],a=null;else if(I.test(a))d=W.fragment(a.trim(),RegExp.$1,c),a=null;else{if(c!==v)return x(c).find(a);d=W.qsa(E,a)}}return W.Z(d,a)},x=function(a,b){return W.init(a,b)},x.extend=function(a){var b,c=C.call(arguments,1);return"boolean"==typeof a&&(b=a,a=c.shift()),c.forEach(function(c){o(a,c,b)}),a},W.qsa=function(a,b){var c,e,f="#"==b[0],g=!f&&"."==b[0],h=f||g?b.slice(1):b,i=T.test(h);if(e=d(a)&&i&&f?(c=a.getElementById(h))?[c]:[]:1!==a.nodeType&&9!==a.nodeType?[]:C.call(i&&!f?g?a.getElementsByClassName(h):a.getElementsByTagName(b):a.querySelectorAll(b)),1!==a.nodeType)return e;for(var j=[],k=0,l=e.length;l>k;k++)a.contains(e[k])&&j.push(e[k]);return j},x.contains=E.documentElement.contains?function(a,b){return a!==b&&a.contains(b)}:function(a,b){for(;b&&(b=b.parentNode);)if(b===a)return!0;return!1},x.type=a,x.isFunction=b,x.isWindow=c,x.isArray=Z,x.isPlainObject=f,x.isEmptyObject=function(a){var b;for(b in a)return!1;return!0},x.inArray=function(a,b,c){return B.indexOf.call(b,a,c)},x.camelCase=z,x.trim=function(a){return null==a?"":String.prototype.trim.call(a)},x.uuid=0,x.support={},x.expr={},x.map=function(a,b){var c,d,e,f=[];if(g(a))for(d=0;d<a.length;d++)c=b(a[d],d),null!=c&&f.push(c);else for(e in a)c=b(a[e],e),null!=c&&f.push(c);return i(f)},x.each=function(a,b){var c,d;if(g(a)){for(c=0;c<a.length;c++)if(b.call(a[c],c,a[c])===!1)return a}else for(d in a)if(b.call(a[d],d,a[d])===!1)return a;return a},x.grep=function(a,b){return D.call(a,b)},window.JSON&&(x.parseJSON=JSON.parse),x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){U["[object "+b+"]"]=b.toLowerCase()}),x.fn={forEach:B.forEach,reduce:B.reduce,push:B.push,sort:B.sort,indexOf:B.indexOf,concat:B.concat,map:function(a){return x(x.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return x(C.apply(this,arguments))},ready:function(a){return S.test(E.readyState)&&E.body?a(x):E.addEventListener("DOMContentLoaded",function(){a(x)},!1),this},get:function(a){return a===v?C.call(this):this[a>=0?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return B.every.call(this,function(b,c){return a.call(b,c,b)!==!1}),this},filter:function(a){return b(a)?this.not(this.not(a)):x(D.call(this,function(b){return W.matches(b,a)}))},add:function(a,b){return x(A(this.concat(x(a,b))))},is:function(a){return this.length>0&&W.matches(this[0],a)},not:function(a){var c=[];if(b(a)&&a.call!==v)this.each(function(b){a.call(this,b)||c.push(this)});else{var d="string"==typeof a?this.filter(a):g(a)&&b(a.item)?C.call(a):x(a);this.forEach(function(a){d.indexOf(a)<0&&c.push(a)})}return x(c)},has:function(a){return this.filter(function(){return e(a)?x.contains(this,a):x(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!e(a)?a:x(a)},last:function(){var a=this[this.length-1];return a&&!e(a)?a:x(a)},find:function(a){var b,c=this;return b=a?"object"==typeof a?x(a).filter(function(){var a=this;return B.some.call(c,function(b){return x.contains(b,a)})}):1==this.length?x(W.qsa(this[0],a)):this.map(function(){return W.qsa(this,a)}):[]},closest:function(a,b){var c=this[0],e=!1;for("object"==typeof a&&(e=x(a));c&&!(e?e.indexOf(c)>=0:W.matches(c,a));)c=c!==b&&!d(c)&&c.parentNode;return x(c)},parents:function(a){for(var b=[],c=this;c.length>0;)c=x.map(c,function(a){return(a=a.parentNode)&&!d(a)&&b.indexOf(a)<0?(b.push(a),a):void 0});return p(b,a)},parent:function(a){return p(A(this.pluck("parentNode")),a)},children:function(a){return p(this.map(function(){return n(this)}),a)},contents:function(){return this.map(function(){return C.call(this.childNodes)})},siblings:function(a){return p(this.map(function(a,b){return D.call(n(b.parentNode),function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return x.map(this,function(b){return b[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=m(this.nodeName))})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var c=b(a);if(this[0]&&!c)var d=x(a).get(0),e=d.parentNode||this.length>1;return this.each(function(b){x(this).wrapAll(c?a.call(this,b):e?d.cloneNode(!0):d)})},wrapAll:function(a){if(this[0]){x(this[0]).before(a=x(a));for(var b;(b=a.children()).length;)a=b.first();x(a).append(this)}return this},wrapInner:function(a){var c=b(a);return this.each(function(b){var d=x(this),e=d.contents(),f=c?a.call(this,b):a;e.length?e.wrapAll(f):d.append(f)})},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(x(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=x(this);(a===v?"none"==b.css("display"):a)?b.show():b.hide()})},prev:function(a){return x(this.pluck("previousElementSibling")).filter(a||"*")
},next:function(a){return x(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return 0 in arguments?this.each(function(b){var c=this.innerHTML;x(this).empty().append(q(this,a,b,c))}):0 in this?this[0].innerHTML:null},text:function(a){return 0 in arguments?this.each(function(b){var c=q(this,a,b,this.textContent);this.textContent=null==c?"":""+c}):0 in this?this[0].textContent:null},attr:function(a,b){var c;return"string"!=typeof a||1 in arguments?this.each(function(c){if(1===this.nodeType)if(e(a))for(w in a)r(this,w,a[w]);else r(this,a,q(this,b,c,this.getAttribute(a)))}):this.length&&1===this[0].nodeType?!(c=this[0].getAttribute(a))&&a in this[0]?this[0][a]:c:v},removeAttr:function(a){return this.each(function(){1===this.nodeType&&r(this,a)})},prop:function(a,b){return a=Y[a]||a,1 in arguments?this.each(function(c){this[a]=q(this,b,c,this[a])}):this[0]&&this[0][a]},data:function(a,b){var c="data-"+a.replace(M,"-$1").toLowerCase(),d=1 in arguments?this.attr(c,b):this.attr(c);return null!==d?t(d):v},val:function(a){return 0 in arguments?this.each(function(b){this.value=q(this,a,b,this.value)}):this[0]&&(this[0].multiple?x(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(a){if(a)return this.each(function(b){var c=x(this),d=q(this,a,b,c.offset()),e=c.offsetParent().offset(),f={top:d.top-e.top,left:d.left-e.left};"static"==c.css("position")&&(f.position="relative"),c.css(f)});if(!this.length)return null;var b=this[0].getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,width:Math.round(b.width),height:Math.round(b.height)}},css:function(b,c){if(arguments.length<2){var d=this[0],e=getComputedStyle(d,"");if(!d)return;if("string"==typeof b)return d.style[z(b)]||e.getPropertyValue(b);if(Z(b)){var f={};return x.each(b,function(a,b){f[b]=d.style[z(b)]||e.getPropertyValue(b)}),f}}var g="";if("string"==a(b))c||0===c?g=j(b)+":"+l(b,c):this.each(function(){this.style.removeProperty(j(b))});else for(w in b)b[w]||0===b[w]?g+=j(w)+":"+l(w,b[w])+";":this.each(function(){this.style.removeProperty(j(w))});return this.each(function(){this.style.cssText+=";"+g})},index:function(a){return a?this.indexOf(x(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return a?B.some.call(this,function(a){return this.test(s(a))},k(a)):!1},addClass:function(a){return a?this.each(function(b){if("className"in this){y=[];var c=s(this),d=q(this,a,b,c);d.split(/\s+/g).forEach(function(a){x(this).hasClass(a)||y.push(a)},this),y.length&&s(this,c+(c?" ":"")+y.join(" "))}}):this},removeClass:function(a){return this.each(function(b){if("className"in this){if(a===v)return s(this,"");y=s(this),q(this,a,b,y).split(/\s+/g).forEach(function(a){y=y.replace(k(a)," ")}),s(this,y.trim())}})},toggleClass:function(a,b){return a?this.each(function(c){var d=x(this),e=q(this,a,c,s(this));e.split(/\s+/g).forEach(function(a){(b===v?!d.hasClass(a):b)?d.addClass(a):d.removeClass(a)})}):this},scrollTop:function(a){if(this.length){var b="scrollTop"in this[0];return a===v?b?this[0].scrollTop:this[0].pageYOffset:this.each(b?function(){this.scrollTop=a}:function(){this.scrollTo(this.scrollX,a)})}},scrollLeft:function(a){if(this.length){var b="scrollLeft"in this[0];return a===v?b?this[0].scrollLeft:this[0].pageXOffset:this.each(b?function(){this.scrollLeft=a}:function(){this.scrollTo(a,this.scrollY)})}},position:function(){if(this.length){var a=this[0],b=this.offsetParent(),c=this.offset(),d=L.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(x(a).css("margin-top"))||0,c.left-=parseFloat(x(a).css("margin-left"))||0,d.top+=parseFloat(x(b[0]).css("border-top-width"))||0,d.left+=parseFloat(x(b[0]).css("border-left-width"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||E.body;a&&!L.test(a.nodeName)&&"static"==x(a).css("position");)a=a.offsetParent;return a})}},x.fn.detach=x.fn.remove,["width","height"].forEach(function(a){var b=a.replace(/./,function(a){return a[0].toUpperCase()});x.fn[a]=function(e){var f,g=this[0];return e===v?c(g)?g["inner"+b]:d(g)?g.documentElement["scroll"+b]:(f=this.offset())&&f[a]:this.each(function(b){g=x(this),g.css(a,q(this,e,b,g[a]()))})}}),O.forEach(function(b,c){var d=c%2;x.fn[b]=function(){var b,e,f=x.map(arguments,function(c){return b=a(c),"object"==b||"array"==b||null==c?c:W.fragment(c)}),g=this.length>1;return f.length<1?this:this.each(function(a,b){e=d?b:b.parentNode,b=0==c?b.nextSibling:1==c?b.firstChild:2==c?b:null;var h=x.contains(E.documentElement,e);f.forEach(function(a){if(g)a=a.cloneNode(!0);else if(!e)return x(a).remove();e.insertBefore(a,b),h&&u(a,function(a){null==a.nodeName||"SCRIPT"!==a.nodeName.toUpperCase()||a.type&&"text/javascript"!==a.type||a.src||window.eval.call(window,a.innerHTML)})})})},x.fn[d?b+"To":"insert"+(c?"Before":"After")]=function(a){return x(a)[b](this),this}}),W.Z.prototype=x.fn,W.uniq=A,W.deserializeValue=t,x.zepto=W,x}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(a){function b(b,c,d){var e=a.Event(c);return a(b).trigger(e,d),!e.isDefaultPrevented()}function c(a,c,d,e){return a.global?b(c||s,d,e):void 0}function d(b){b.global&&0===a.active++&&c(b,null,"ajaxStart")}function e(b){b.global&&!--a.active&&c(b,null,"ajaxStop")}function f(a,b){var d=b.context;return b.beforeSend.call(d,a,b)===!1||c(b,d,"ajaxBeforeSend",[a,b])===!1?!1:void c(b,d,"ajaxSend",[a,b])}function g(a,b,d,e){var f=d.context,g="success";d.success.call(f,a,g,b),e&&e.resolveWith(f,[a,g,b]),c(d,f,"ajaxSuccess",[b,d,a]),i(g,b,d)}function h(a,b,d,e,f){var g=e.context;e.error.call(g,d,b,a),f&&f.rejectWith(g,[d,b,a]),c(e,g,"ajaxError",[d,e,a||b]),i(b,d,e)}function i(a,b,d){var f=d.context;d.complete.call(f,b,a),c(d,f,"ajaxComplete",[b,d]),e(d)}function j(){}function k(a){return a&&(a=a.split(";",2)[0]),a&&(a==x?"html":a==w?"json":u.test(a)?"script":v.test(a)&&"xml")||"text"}function l(a,b){return""==b?a:(a+"&"+b).replace(/[&?]{1,2}/,"?")}function m(b){b.processData&&b.data&&"string"!=a.type(b.data)&&(b.data=a.param(b.data,b.traditional)),!b.data||b.type&&"GET"!=b.type.toUpperCase()||(b.url=l(b.url,b.data),b.data=void 0)}function n(b,c,d,e){return a.isFunction(c)&&(e=d,d=c,c=void 0),a.isFunction(d)||(e=d,d=void 0),{url:b,data:c,success:d,dataType:e}}function o(b,c,d,e){var f,g=a.isArray(c),h=a.isPlainObject(c);a.each(c,function(c,i){f=a.type(i),e&&(c=d?e:e+"["+(h||"object"==f||"array"==f?c:"")+"]"),!e&&g?b.add(i.name,i.value):"array"==f||!d&&"object"==f?o(b,i,d,c):b.add(c,i)})}var p,q,r=0,s=window.document,t=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,u=/^(?:text|application)\/javascript/i,v=/^(?:text|application)\/xml/i,w="application/json",x="text/html",y=/^\s*$/;a.active=0,a.ajaxJSONP=function(b,c){if(!("type"in b))return a.ajax(b);var d,e,i=b.jsonpCallback,j=(a.isFunction(i)?i():i)||"jsonp"+ ++r,k=s.createElement("script"),l=window[j],m=function(b){a(k).triggerHandler("error",b||"abort")},n={abort:m};return c&&c.promise(n),a(k).on("load error",function(f,i){clearTimeout(e),a(k).off().remove(),"error"!=f.type&&d?g(d[0],n,b,c):h(null,i||"error",n,b,c),window[j]=l,d&&a.isFunction(l)&&l(d[0]),l=d=void 0}),f(n,b)===!1?(m("abort"),n):(window[j]=function(){d=arguments},k.src=b.url.replace(/\?(.+)=\?/,"?$1="+j),s.head.appendChild(k),b.timeout>0&&(e=setTimeout(function(){m("timeout")},b.timeout)),n)},a.ajaxSettings={type:"GET",beforeSend:j,success:j,error:j,complete:j,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:w,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},a.ajax=function(b){var c=a.extend({},b||{}),e=a.Deferred&&a.Deferred();for(p in a.ajaxSettings)void 0===c[p]&&(c[p]=a.ajaxSettings[p]);d(c),c.crossDomain||(c.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(c.url)&&RegExp.$2!=window.location.host),c.url||(c.url=window.location.toString()),m(c);var i=c.dataType,n=/\?.+=\?/.test(c.url);if(n&&(i="jsonp"),c.cache!==!1&&(b&&b.cache===!0||"script"!=i&&"jsonp"!=i)||(c.url=l(c.url,"_="+Date.now())),"jsonp"==i)return n||(c.url=l(c.url,c.jsonp?c.jsonp+"=?":c.jsonp===!1?"":"callback=?")),a.ajaxJSONP(c,e);var o,r=c.accepts[i],s={},t=function(a,b){s[a.toLowerCase()]=[a,b]},u=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:window.location.protocol,v=c.xhr(),w=v.setRequestHeader;if(e&&e.promise(v),c.crossDomain||t("X-Requested-With","XMLHttpRequest"),t("Accept",r||"*/*"),(r=c.mimeType||r)&&(r.indexOf(",")>-1&&(r=r.split(",",2)[0]),v.overrideMimeType&&v.overrideMimeType(r)),(c.contentType||c.contentType!==!1&&c.data&&"GET"!=c.type.toUpperCase())&&t("Content-Type",c.contentType||"application/x-www-form-urlencoded"),c.headers)for(q in c.headers)t(q,c.headers[q]);if(v.setRequestHeader=t,v.onreadystatechange=function(){if(4==v.readyState){v.onreadystatechange=j,clearTimeout(o);var b,d=!1;if(v.status>=200&&v.status<300||304==v.status||0==v.status&&"file:"==u){i=i||k(c.mimeType||v.getResponseHeader("content-type")),b=v.responseText;try{"script"==i?(1,eval)(b):"xml"==i?b=v.responseXML:"json"==i&&(b=y.test(b)?null:a.parseJSON(b))}catch(f){d=f}d?h(d,"parsererror",v,c,e):g(b,v,c,e)}else h(v.statusText||null,v.status?"error":"abort",v,c,e)}},f(v,c)===!1)return v.abort(),h(null,"abort",v,c,e),v;if(c.xhrFields)for(q in c.xhrFields)v[q]=c.xhrFields[q];var x="async"in c?c.async:!0;v.open(c.type,c.url,x,c.username,c.password);for(q in s)w.apply(v,s[q]);return c.timeout>0&&(o=setTimeout(function(){v.onreadystatechange=j,v.abort(),h(null,"timeout",v,c,e)},c.timeout)),v.send(c.data?c.data:null),v},a.get=function(){return a.ajax(n.apply(null,arguments))},a.post=function(){var b=n.apply(null,arguments);return b.type="POST",a.ajax(b)},a.getJSON=function(){var b=n.apply(null,arguments);return b.dataType="json",a.ajax(b)},a.fn.load=function(b,c,d){if(!this.length)return this;var e,f=this,g=b.split(/\s/),h=n(b,c,d),i=h.success;return g.length>1&&(h.url=g[0],e=g[1]),h.success=function(b){f.html(e?a("<div>").html(b.replace(t,"")).find(e):b),i&&i.apply(f,arguments)},a.ajax(h),this};var z=encodeURIComponent;a.param=function(a,b){var c=[];return c.add=function(a,b){this.push(z(a)+"="+z(b))},o(c,a,b),c.join("&").replace(/%20/g,"+")}}(Zepto),function(a){function b(a){var b=this.os={},c=this.browser={},d=a.match(/Web[kK]it[\/]{0,1}([\d.]+)/),e=a.match(/(Android);?[\s\/]+([\d.]+)?/),f=!!a.match(/\(Macintosh\; Intel /),g=a.match(/(iPad).*OS\s([\d_]+)/),h=a.match(/(iPod)(.*OS\s([\d_]+))?/),i=!g&&a.match(/(iPhone\sOS)\s([\d_]+)/),j=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),k=a.match(/Windows Phone ([\d.]+)/),l=j&&a.match(/TouchPad/),m=a.match(/Kindle\/([\d.]+)/),n=a.match(/Silk\/([\d._]+)/),o=a.match(/(BlackBerry).*Version\/([\d.]+)/),p=a.match(/(BB10).*Version\/([\d.]+)/),q=a.match(/(RIM\sTablet\sOS)\s([\d.]+)/),r=a.match(/PlayBook/),s=a.match(/Chrome\/([\d.]+)/)||a.match(/CriOS\/([\d.]+)/),t=a.match(/Firefox\/([\d.]+)/),u=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),v=!s&&a.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),w=v||a.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(c.webkit=!!d)&&(c.version=d[1]),e&&(b.android=!0,b.version=e[2]),i&&!h&&(b.ios=b.iphone=!0,b.version=i[2].replace(/_/g,".")),g&&(b.ios=b.ipad=!0,b.version=g[2].replace(/_/g,".")),h&&(b.ios=b.ipod=!0,b.version=h[3]?h[3].replace(/_/g,"."):null),k&&(b.wp=!0,b.version=k[1]),j&&(b.webos=!0,b.version=j[2]),l&&(b.touchpad=!0),o&&(b.blackberry=!0,b.version=o[2]),p&&(b.bb10=!0,b.version=p[2]),q&&(b.rimtabletos=!0,b.version=q[2]),r&&(c.playbook=!0),m&&(b.kindle=!0,b.version=m[1]),n&&(c.silk=!0,c.version=n[1]),!n&&b.android&&a.match(/Kindle Fire/)&&(c.silk=!0),s&&(c.chrome=!0,c.version=s[1]),t&&(c.firefox=!0,c.version=t[1]),u&&(c.ie=!0,c.version=u[1]),w&&(f||b.ios)&&(c.safari=!0,f&&(c.version=w[1])),v&&(c.webview=!0),b.tablet=!!(g||r||e&&!a.match(/Mobile/)||t&&a.match(/Tablet/)||u&&!a.match(/Phone/)&&a.match(/Touch/)),b.phone=!(b.tablet||b.ipod||!(e||i||j||o||p||s&&a.match(/Android/)||s&&a.match(/CriOS\/([\d.]+)/)||t&&a.match(/Mobile/)||u&&a.match(/Touch/)))}b.call(a,navigator.userAgent),a.__detect=b}(Zepto),function(a){function b(a){return a._zid||(a._zid=m++)}function c(a,c,f,g){if(c=d(c),c.ns)var h=e(c.ns);return(q[b(a)]||[]).filter(function(a){return!(!a||c.e&&a.e!=c.e||c.ns&&!h.test(a.ns)||f&&b(a.fn)!==b(f)||g&&a.sel!=g)})}function d(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function e(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function f(a,b){return a.del&&!s&&a.e in t||!!b}function g(a){return u[a]||s&&t[a]||a}function h(c,e,h,i,k,m,n){var o=b(c),p=q[o]||(q[o]=[]);e.split(/\s/).forEach(function(b){if("ready"==b)return a(document).ready(h);var e=d(b);e.fn=h,e.sel=k,e.e in u&&(h=function(b){var c=b.relatedTarget;return!c||c!==this&&!a.contains(this,c)?e.fn.apply(this,arguments):void 0}),e.del=m;var o=m||h;e.proxy=function(a){if(a=j(a),!a.isImmediatePropagationStopped()){a.data=i;var b=o.apply(c,a._args==l?[a]:[a].concat(a._args));return b===!1&&(a.preventDefault(),a.stopPropagation()),b}},e.i=p.length,p.push(e),"addEventListener"in c&&c.addEventListener(g(e.e),e.proxy,f(e,n))})}function i(a,d,e,h,i){var j=b(a);(d||"").split(/\s/).forEach(function(b){c(a,b,e,h).forEach(function(b){delete q[j][b.i],"removeEventListener"in a&&a.removeEventListener(g(b.e),b.proxy,f(b,i))})})}function j(b,c){return(c||!b.isDefaultPrevented)&&(c||(c=b),a.each(y,function(a,d){var e=c[a];b[a]=function(){return this[d]=v,e&&e.apply(c,arguments)},b[d]=w}),(c.defaultPrevented!==l?c.defaultPrevented:"returnValue"in c?c.returnValue===!1:c.getPreventDefault&&c.getPreventDefault())&&(b.isDefaultPrevented=v)),b}function k(a){var b,c={originalEvent:a};for(b in a)x.test(b)||a[b]===l||(c[b]=a[b]);return j(c,a)}var l,m=1,n=Array.prototype.slice,o=a.isFunction,p=function(a){return"string"==typeof a},q={},r={},s="onfocusin"in window,t={focus:"focusin",blur:"focusout"},u={mouseenter:"mouseover",mouseleave:"mouseout"};r.click=r.mousedown=r.mouseup=r.mousemove="MouseEvents",a.event={add:h,remove:i},a.proxy=function(c,d){var e=2 in arguments&&n.call(arguments,2);if(o(c)){var f=function(){return c.apply(d,e?e.concat(n.call(arguments)):arguments)};return f._zid=b(c),f}if(p(d))return e?(e.unshift(c[d],c),a.proxy.apply(null,e)):a.proxy(c[d],c);throw new TypeError("expected function")},a.fn.bind=function(a,b,c){return this.on(a,b,c)},a.fn.unbind=function(a,b){return this.off(a,b)},a.fn.one=function(a,b,c,d){return this.on(a,b,c,d,1)};var v=function(){return!0},w=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,y={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(a,b,c){return this.on(b,a,c)},a.fn.undelegate=function(a,b,c){return this.off(b,a,c)},a.fn.live=function(b,c){return a(document.body).delegate(this.selector,b,c),this},a.fn.die=function(b,c){return a(document.body).undelegate(this.selector,b,c),this},a.fn.on=function(b,c,d,e,f){var g,j,m=this;return b&&!p(b)?(a.each(b,function(a,b){m.on(a,c,d,b,f)}),m):(p(c)||o(e)||e===!1||(e=d,d=c,c=l),(o(d)||d===!1)&&(e=d,d=l),e===!1&&(e=w),m.each(function(l,m){f&&(g=function(a){return i(m,a.type,e),e.apply(this,arguments)}),c&&(j=function(b){var d,f=a(b.target).closest(c,m).get(0);return f&&f!==m?(d=a.extend(k(b),{currentTarget:f,liveFired:m}),(g||e).apply(f,[d].concat(n.call(arguments,1)))):void 0}),h(m,b,e,d,c,j||g)}))},a.fn.off=function(b,c,d){var e=this;return b&&!p(b)?(a.each(b,function(a,b){e.off(a,c,b)}),e):(p(c)||o(d)||d===!1||(d=c,c=l),d===!1&&(d=w),e.each(function(){i(this,b,d,c)}))},a.fn.trigger=function(b,c){return b=p(b)||a.isPlainObject(b)?a.Event(b):j(b),b._args=c,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(b):a(this).triggerHandler(b,c)})},a.fn.triggerHandler=function(b,d){var e,f;return this.each(function(g,h){e=k(p(b)?a.Event(b):b),e._args=d,e.target=h,a.each(c(h,b.type||b),function(a,b){return f=b.proxy(e),e.isImmediatePropagationStopped()?!1:void 0})}),f},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)}}),["focus","blur"].forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.each(function(){try{this[b]()}catch(a){}}),this}}),a.Event=function(a,b){p(a)||(b=a,a=b.type);var c=document.createEvent(r[a]||"Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0),j(c)}}(Zepto),function(a){a.fn.serializeArray=function(){var b,c,d=[];return a([].slice.call(this.get(0).elements)).each(function(){b=a(this),c=b.attr("type"),"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=c&&"reset"!=c&&"button"!=c&&("radio"!=c&&"checkbox"!=c||this.checked)&&d.push({name:b.attr("name"),value:b.val()})}),d},a.fn.serialize=function(){var a=[];return this.serializeArray().forEach(function(b){a.push(encodeURIComponent(b.name)+"="+encodeURIComponent(b.value))}),a.join("&")},a.fn.submit=function(b){if(b)this.bind("submit",b);else if(this.length){var c=a.Event("submit");this.eq(0).trigger(c),c.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(a,b){function c(a){return a.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function d(a){return e?e+a:a.toLowerCase()}var e,f,g,h,i,j,k,l,m,n,o="",p={Webkit:"webkit",Moz:"",O:"o"},q=window.document,r=q.createElement("div"),s=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,t={};a.each(p,function(a,c){return r.style[a+"TransitionProperty"]!==b?(o="-"+a.toLowerCase()+"-",e=c,!1):void 0}),f=o+"transform",t[g=o+"transition-property"]=t[h=o+"transition-duration"]=t[j=o+"transition-delay"]=t[i=o+"transition-timing-function"]=t[k=o+"animation-name"]=t[l=o+"animation-duration"]=t[n=o+"animation-delay"]=t[m=o+"animation-timing-function"]="",a.fx={off:e===b&&r.style.transitionProperty===b,speeds:{_default:400,fast:200,slow:600},cssPrefix:o,transitionEnd:d("TransitionEnd"),animationEnd:d("AnimationEnd")},a.fn.animate=function(c,d,e,f,g){return a.isFunction(d)&&(f=d,e=b,d=b),a.isFunction(e)&&(f=e,e=b),a.isPlainObject(d)&&(e=d.easing,f=d.complete,g=d.delay,d=d.duration),d&&(d=("number"==typeof d?d:a.fx.speeds[d]||a.fx.speeds._default)/1e3),g&&(g=parseFloat(g)/1e3),this.anim(c,d,e,f,g)},a.fn.anim=function(d,e,o,p,q){var r,u,v,w={},x="",y=this,z=a.fx.transitionEnd,A=!1;if(e===b&&(e=a.fx.speeds._default/1e3),q===b&&(q=0),a.fx.off&&(e=0),"string"==typeof d)w[k]=d,w[l]=e+"s",w[n]=q+"s",w[m]=o||"linear",z=a.fx.animationEnd;else{u=[];for(r in d)s.test(r)?x+=r+"("+d[r]+") ":(w[r]=d[r],u.push(c(r)));x&&(w[f]=x,u.push(f)),e>0&&"object"==typeof d&&(w[g]=u.join(", "),w[h]=e+"s",w[j]=q+"s",w[i]=o||"linear")}return v=function(b){if("undefined"!=typeof b){if(b.target!==b.currentTarget)return;a(b.target).unbind(z,v)}else a(this).unbind(z,v);A=!0,a(this).css(t),p&&p.call(this)},e>0&&(this.bind(z,v),setTimeout(function(){A||v.call(y)},1e3*e+25)),this.size()&&this.get(0).clientLeft,this.css(w),0>=e&&setTimeout(function(){y.each(function(){v.call(this)})},0),this},r=null}(Zepto),function(a){"__proto__"in{}||a.extend(a.zepto,{Z:function(b,c){return b=b||[],a.extend(b,a.fn),b.selector=c||"",b.__Z=!0,b},isZ:function(b){return"array"===a.type(b)&&"__Z"in b}});try{getComputedStyle(void 0)}catch(b){var c=getComputedStyle;window.getComputedStyle=function(a){try{return c(a)}catch(b){return null}}}}(Zepto),define("$",function(){}),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.4.4";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?null:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=B(b||x.identity);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return y(a,function(a){x.isArray(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(i.apply(d,arguments))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=h.call(arguments),b=x.max(x.pluck(a,"length")),c=new Array(b),d=0;b>d;d++)c[d]=x.pluck(a,""+d);return c},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f},x.bind=function(a,b){if(a.bind===w&&w)return w.apply(a,h.call(arguments,1));var c=h.call(arguments,2);return function(){return a.apply(b,c.concat(h.call(arguments)))}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);return 0===b.length&&(b=x.functions(a)),y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},x.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&(b[b.length]=c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var E=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=E(a[g],b[g],c,d)););}else{var i=a.constructor,k=b.constructor;if(i!==k&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(k)&&k instanceof k))return!1;for(var l in a)if(x.has(a,l)&&(g++,!(h=x.has(b,l)&&E(a[l],b[l],c,d))))break;if(h){for(l in b)if(x.has(b,l)&&!g--)break;h=!g}}return c.pop(),d.pop(),h};x.isEqual=function(a,b){return E(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(a),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};F.unescape=x.invert(F.escape);var G={escape:new RegExp("["+x.keys(F.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(F.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(G[a],function(b){return F[a][b]})}}),x.result=function(a,b){if(null==a)return null;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),L.call(this,c.apply(x,a))}})};var H=0;x.uniqueId=function(a){var b=++H+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g"),f=0,g="__p+='";
a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(K,function(a){return"\\"+J[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var L=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],L.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return L.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("_",function(){}),function(){{var a,b=this,c=b.Backbone,d=[],e=(d.push,d.slice);d.splice}a="undefined"!=typeof exports?exports:b.Backbone={},a.VERSION="1.0.0";var f=b._;f||"undefined"==typeof require||(f=require("underscore")),a.$=b.jQuery||b.Zepto||b.ender||b.$,a.noConflict=function(){return b.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var g=a.Events={on:function(a,b,c){if(!i(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!i(this,"once",a,[b,c])||!b)return this;var d=this,e=f.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,g,h,j,k,l,m;if(!this._events||!i(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(h=a?[a]:f.keys(this._events),j=0,k=h.length;k>j;j++)if(a=h[j],g=this._events[a]){if(this._events[a]=d=[],b||c)for(l=0,m=g.length;m>l;l++)e=g[l],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=e.call(arguments,1);if(!i(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&j(c,b),d&&j(d,arguments),this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"==typeof b&&(c=this),a&&((d={})[a._listenerId]=a);for(var f in d)d[f].off(b,c,this),e&&delete this._listeners[f];return this}},h=/\s+/,i=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(h.test(c)){for(var f=c.split(h),g=0,i=f.length;i>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},j=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},k={listenTo:"on",listenToOnce:"once"};f.each(k,function(a,b){g[b]=function(b,c,d){var e=this._listeners||(this._listeners={}),g=b._listenerId||(b._listenerId=f.uniqueId("l"));return e[g]=b,"object"==typeof c&&(d=this),b[a](c,d,this),this}}),g.bind=g.on,g.unbind=g.off,f.extend(a,g);var l=a.View=function(a){this.cid=f.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},m=/^(\S+)\s*(.*)$/,n=["model","collection","el","id","attributes","className","tagName","events"];f.extend(l.prototype,g,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(b,c){return this.$el&&this.undelegateEvents(),this.$el=b instanceof a.$?b:a.$(b),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=f.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];if(f.isFunction(c)||(c=this[a[b]]),c){var d=b.match(m),e=d[1],g=d[2];c=f.bind(c,this),e+=".delegateEvents"+this.cid,""===g?this.$el.on(e,c):this.$el.on(e,g,c)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(a){this.options&&(a=f.extend({},f.result(this,"options"),a)),f.extend(this,f.pick(a,n)),this.options=a},_ensureElement:function(){if(this.el)this.setElement(f.result(this,"el"),!1);else{var b=f.extend({},f.result(this,"attributes"));this.id&&(b.id=f.result(this,"id")),this.className&&(b["class"]=f.result(this,"className"));var c=a.$("<"+f.result(this,"tagName")+">").attr(b);this.setElement(c,!1)}}});var o=function(a,b){var c,d=this;c=a&&f.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},f.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&f.extend(c.prototype,a),c.__super__=d.prototype,c};l.extend=o}.call(this),define("B",function(){}),function(a){function b(b){if(b.targetTouches.length>1)return!0;q=b.target;var c=a(q).closest(".nofastclick");if(c.length>0)return!0;if(x){var d=window.getSelection();if(d.rangeCount&&!d.isCollapsed)return!0;if(b.targetTouches[0].identifier===y)return event.preventDefault(),!1;y=b.targetTouches[0].identifier}return m=!0,n=b.timeStamp,r=b.targetTouches[0].pageX,s=b.targetTouches[0].pageY,b.timeStamp-o<0&&(o=b.timeStamp),b.timeStamp-o<200&&b.preventDefault(),!0}function c(a){return m?(t=a.changedTouches[0].pageX,u=a.changedTouches[0].pageY,(Math.abs(t-r)>v||Math.abs(u-s)>v)&&(q=null,m=!1),!0):!0}function d(b){if(!m)return!0;if(b.timeStamp-o<100)return p=!0,!0;o=b.timeStamp,m=!1;var c=q.tagName.toLowerCase();if("label"==c){var d=j(q);if(d){var e=a(d);if("checkbox"==e.attr("type")||"radio"==e.attr("type")?e.attr("checked")?e.removeAttr("checked"):e.attr("checked","checked"):a(d).focus(),w)return!1;q=d}}else if(i(q)){if(b.timeStamp-n>100)return q=null,!1;var f;return x&&q.setSelectionRange&&0!==q.type.indexOf("date")&&"time"!==q.type?(f=q.value.length,q.setSelectionRange(f,f)):q.focus(),"select"!==c&&(q=null,b.preventDefault()),!1}return n=0,h(q)||(b.preventDefault(),k(q,b)),!1}function e(){m=!1,q=null}function f(b){var c=b.target,d=a(c).closest(".nofastclick");return d.length>0?!0:q?b.touchEvent?!0:b.cancelable&&(!h(q)||p)?(b.stopImmediatePropagation?b.stopImmediatePropagation():b.propagationStopped=!0,b.stopPropagation(),b.preventDefault(),!1):!0:!0}function g(a){if(m)return m=!1,q=null,!0;if("submit"===a.target.type&&0===a.detail)return!0;var b=f(a);return b||(q=null),b}function h(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(x&&"file"===a.type||a.disabled)return!0;break;case"video":return!0}return/\bneedclick\b/.test(a.className)}function i(a){switch(a.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedfocus\b/.test(a.className)}}function j(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")}function k(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.touchEvent=!0,a.dispatchEvent(c)}function l(){return"undefined"==typeof window.ontouchstart?!1:!0}{var m=!1,n=0,o=0,p=!1,q=null,r=0,s=0,t=0,u=0,v=4,w=navigator.userAgent.indexOf("Android")>0,x=/iP(ad|hone|od)/.test(navigator.userAgent),y=0;x&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent)}a.needFocus=i,a.bindFastClick=function(){return l()?void a(document).ready(function(){w&&(document.addEventListener("mouseover",f,!0),document.addEventListener("mousedown",f,!0),document.addEventListener("mouseup",f,!0)),document.addEventListener("click",g,!0),a(document).on("touchstart",b).on("touchmove",c).on("touchend",d).on("touchcancel",e)}):!0},a.unbindFastClick=function(){return l()?(w&&(document.removeEventListener("mouseover",f,!0),document.removeEventListener("mousedown",f,!0),document.removeEventListener("mouseup",f,!0)),document.removeEventListener("click",g,!0),void a(document).off("touchstart",b).off("touchmove",c).off("touchend",d).off("touchcancel",e)):!0}}(Zepto),define("F",function(){}),define("libs",["$","_","B","F"],function(){}),define("text",["module"],function(a){var b,c,d,e,f=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],g=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,h=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,i="undefined"!=typeof location&&location.href,j=i&&location.protocol&&location.protocol.replace(/\:/,""),k=i&&location.hostname,l=i&&(location.port||void 0),m=[],n=a.config&&a.config()||{};return b={version:"2.0.5+",strip:function(a){if(a){a=a.replace(g,"");var b=a.match(h);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:n.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;3>b;b+=1){c=f[b];try{a=new ActiveXObject(c)}catch(d){}if(a){f=[c];break}}return a},parseName:function(a){var b,c,d,e=!1,f=a.indexOf("."),g=0===a.indexOf("./")||0===a.indexOf("../");return-1!==f&&(!g||f>1)?(b=a.substring(0,f),c=a.substring(f+1,a.length)):b=a,d=c||b,f=d.indexOf("!"),-1!==f&&(e="strip"===d.substring(f+1),d=d.substring(0,f),c?c=d:b=d),{moduleName:b,ext:c,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,c,d,e){var f,g,h,i=b.xdRegExp.exec(a);return i?(f=i[2],g=i[3],g=g.split(":"),h=g[1],g=g[0],!(f&&f!==c||g&&g.toLowerCase()!==d.toLowerCase()||(h||g)&&h!==e)):!0},finishLoad:function(a,c,d,e){d=c?b.strip(d):d,n.isBuild&&(m[a]=d),e(d)},load:function(a,c,d,e){if(e.isBuild&&!e.inlineText)return void d();n.isBuild=e.isBuild;var f=b.parseName(a),g=f.moduleName+(f.ext?"."+f.ext:""),h=c.toUrl(g),m=n.useXhr||b.useXhr;!i||m(h,j,k,l)?b.get(h,function(c){b.finishLoad(a,f.strip,c,d)},function(a){d.error&&d.error(a)}):c([g],function(a){b.finishLoad(f.moduleName+"."+f.ext,f.strip,a,d)})},write:function(a,c,d){if(m.hasOwnProperty(c)){var e=b.jsEscape(m[c]);d.asModule(a+"!"+c,"define(function () { return '"+e+"';});\n")}},writeFile:function(a,c,d,e,f){var g=b.parseName(c),h=g.ext?"."+g.ext:"",i=g.moduleName+h,j=d.toUrl(g.moduleName+h)+".js";b.load(i,d,function(){var c=function(a){return e(j,a)};c.asModule=function(a,b){return e.asModule(a,j,b)},b.write(a,i,c,f)},f)}},"node"===n.env||!n.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(c=require.nodeRequire("fs"),b.get=function(a,b){var d=c.readFileSync(a,"utf8");0===d.indexOf("﻿")&&(d=d.substring(1)),b(d)}):"xhr"===n.env||!n.env&&b.createXhr()?b.get=function(a,c,d,e){var f,g=b.createXhr();if(g.open("GET",a,!0),e)for(f in e)e.hasOwnProperty(f)&&g.setRequestHeader(f.toLowerCase(),e[f]);n.onXhr&&n.onXhr(g,a),g.onreadystatechange=function(){var b,e;4===g.readyState&&(b=g.status,b>399&&600>b?(e=new Error(a+" HTTP status: "+b),e.xhr=g,d(e)):c(g.responseText))},g.send(null)}:"rhino"===n.env||!n.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?b.get=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{for(c=new java.lang.StringBuffer,d=h.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),c.append(d);null!==(d=h.readLine());)c.append(g),c.append(d);i=String(c.toString())}finally{h.close()}b(i)}:("xpconnect"===n.env||!n.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(d=Components.classes,e=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),b.get=function(a,b){var c,f,g={},h=new FileUtils.File(a);try{c=d["@mozilla.org/network/file-input-stream;1"].createInstance(e.nsIFileInputStream),c.init(h,1,0,!1),f=d["@mozilla.org/intl/converter-input-stream;1"].createInstance(e.nsIConverterInputStream),f.init(c,"utf-8",c.available(),e.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),f.readString(c.available(),g),f.close(),c.close(),b(g.value)}catch(i){throw new Error((h&&h.path||"")+": "+i)}}),b}),define("cCoreInherit",["libs"],function(){var a=[].slice,b=function(){};return b.Class=function(){function b(){this.__propertys__(),this.initialize.apply(this,arguments)}if(0==arguments.length||arguments.length>2)throw"参数错误";var c=null,d=a.call(arguments);"function"==typeof d[0]&&(c=d.shift()),d=d[0],b.superclass=c,b.subclasses=[];var e=function(){},f=d.__propertys__||function(){};if(c){c.prototype.__propertys__&&(e=c.prototype.__propertys__);var g=function(){};g.prototype=c.prototype,b.prototype=new g,c.subclasses.push(b)}var h=b.superclass&&b.superclass.prototype;for(var i in d){var j=d[i];if(h&&"function"==typeof j){var k=/^\s*function\s*\(([^\(\)]*?)\)\s*?\{/i.exec(j.toString())[1].replace(/\s/i,"").split(",");"$super"===k[0]&&h[i]&&(j=function(b,c){return function(){var d=this,e=[function(){return h[b].apply(d,arguments)}];return c.apply(this,e.concat(a.call(arguments)))}}(i,j))}b.prototype[i]=j}b.prototype.initialize||(b.prototype.initialize=function(){}),b.prototype.__propertys__=function(){e.call(this),f.call(this)};for(key in c)c.hasOwnProperty(key)&&"prototype"!==key&&"superclass"!==key&&(b[key]=c[key]);return b.prototype.constructor=b,b},b.extend=function(){var b=a.call(arguments),c=b.shift()||{};if(!c)return!1;for(var d=0,e=b.length;e>d;d++)if("object"==typeof b[d])for(var f in b[d])c[f]=b[d][f];return c},b.implement=function(a,b){if("function"!=typeof a)return!1;for(var c in b)a.prototype[c]=b[c];return a},b}),define("cUtilityHybrid",[],function(){var a={};return a.isInApp=function(){var a=window.navigator.userAgent;if(a.indexOf("CtripWireless")>-1)return!0;var b=window.localStorage.getItem("isInApp");if(b)return"1"==b?!0:!1;var c=window.localStorage.getItem("ISINAPP");return c?"1"==c?!0:!1:void 0},a.isInWeichat=function(){var a=window.navigator.userAgent;return a.indexOf("MicroMessenger")>-1?!0:!1},a.isPreProduction=function(){return window.localStorage.getItem("isPreProduction")},a.getAppSys=function(){var a=navigator.userAgent,b=/.+_(\w+)_CtripWireless_/,c=b.exec(a);return c&&c[1]?c[1].toLowerCase():null},a.isLite=function(){return"ctriplite"==this.getAppSys()},a.getSystemCode=function(){var a=navigator.userAgent,b=/.+_(\w+)_CtripWireless_/,c=b.exec(a);return c&&c[1]?c[1]:null},Object.defineProperty(a,"isSaveFlow",{get:function(){try{var a=window.localStorage.getItem("CINFO"),b=JSON.parse(a);return b.isSaveFlow}catch(c){return void 0}}}),a}),define("cUtilityHash",["cCoreInherit"],function(a){var b=function(a,b){if(!b)return-1;if(b.indexOf)return b.indexOf(a);for(var c=0;c<b.length;c++)if(b[c]===a)return c;return-1},c={},d={};return d.__propertys__=function(){this.keys=[],this.values=[]},d.initialize=function(a){"object"!=typeof a&&(a={});for(var b in a)a.hasOwnProperty(b)&&(this.keys.push(b),this.values.push(a[b]))},d.length=function(){return this.keys.length},d.getItem=function(a){var c=b(a,this.keys);return 0>c?null:this.values[c]},d.getKey=function(a){return this.keys[a]},d.index=function(a){return this.values[a]},d.push=function(a,c,d){if("object"!=typeof a||c){var e=b(a,this.keys);0>e||d?(d&&this.del(a),this.keys.push(a),this.values.push(c)):this.values[e]=c}else for(var f in a)a.hasOwnProperty(f)&&that.push(f,a[f],d);return this},d.add=function(a,b){return this.push(a,b)},d.del=function(a){var c=b(a,this.keys);return 0>c?this:(this.keys.splice(c,1),this.values.splice(c,1),this)},d.delByIndex=function(a){return 0>a?this:(this.keys.splice(a,1),this.values.splice(a,1),this)},d.pop=function(){return this.keys.length?(this.keys.pop(),this.values.pop()):null},d.indexOf=function(a){var c=b(a,this.values);return c>=0?this.keys[c]:-1},d.shift=function(){return this.keys.length?(this.keys.shift(),this.values.shift()):null},d.unshift=function(a,c,d){if("object"!=typeof a||c){var e=b(a,this.keys);0>e||d?(d&&this.del(a),this.keys.unshift(a),this.values.unshift(c)):this.values[e]=c}else for(var f in a)a.hasOwnProperty(f)&&this.unshift(f,a[f]);return this},d.slice=function(a,b){for(var c=this.keys.slice(a,b||null),d=this.values.slice(a,b||null),e={},f=0;f<c.length;f++)e[c[f]]=d[f];return e},d.splice=function(a,b){for(var c=this.keys.splice(a,b||null),d=this.values.splice(a,b||null),e={},f=0,g=c.length;g>f;f++)e[c[f]]=d[f];return e},d.filter=function(a){var b={};if("function"!=typeof a)return null;for(var c=0;c<this.keys.length;c++)a.call(this.values[c],this.values[c],this.keys[c])&&(b[this.keys[c]]=this.values[c]);return b},d.each=function(a){if("function"!=typeof a)return null;for(var b=0;b<this.keys.length;b++)a.call(this.values[b],this.values[b],this.keys[b],b)},d.valueOf=function(){for(var a={},b=0;b<this.keys.length;b++)a[this.keys[b]]=this.values[b];return a},d.sortBy=function(a){for(var b=_.sortBy(this.values,a),c=[],d=0;d<b.length;d++){var e=this.indexOf(b[d]);c[d]=e}this.values=b,this.keys=c},d.toString=function(){return"undefined"!=typeof JSON&&JSON.stringify?JSON.stringify(this.valueOf()):typeof this.values},c.Hash=new a.Class(d),c}),define("cUtilityServertime",["cUtilityHybrid"],function(a){var b={};return b.getServerDate=function(b){var c=new Date,d=function(a){return"function"==typeof b?b(a):a},e=function(){var a=window.localStorage.getItem("SERVERDATE");if(!a)return d(c);try{if(a=JSON.parse(a),a&&a.server&&a.local){var b=window.parseInt(a.server),e=window.parseInt(a.local),f=(new Date).getTime(),g=new Date(b+f-e);return d(g)}return d(c)}catch(h){return d(c)}},f=function(){if("undefined"==typeof __SERVERDATE__||!__SERVERDATE__.server)return d(c);var a=new Date(__SERVERDATE__.server.valueOf()+((new Date).valueOf()-__SERVERDATE__.local.valueOf()));return d(a)};return a.isInApp()?e():f()},b}),define("cUtilityDate",["cCoreInherit","cUtilityServertime"],function(a,b){var c={};return c.Date=new a.Class({initialize:function(a){a=a||new Date,this.date=new Date(a)},addDay:function(a){return a=a||0,this.date.setDate(this.date.getDate()+a),this},addMonth:function(a){return a=a||0,this.date.setMonth(this.date.getMonth()+a),this},addHours:function(a){return a=a||0,this.date.setHours(this.date.getHours()+a),this},addMinutes:function(a){return a=a||0,this.date.setMinutes(this.date.getMinutes()+a),this},addSeconds:function(a){return a=a||0,this.date.setSeconds(this.date.getSeconds()+a),this},addYear:function(a){return a=a||0,this.date.setYear(this.date.getFullYear()+a),this},setHours:function(){return this.date.setHours.apply(this.date,arguments),this},valueOf:function(){return this.date},getTime:function(){return this.date.valueOf()},toString:function(){return this.date.toString()},format:function(a){"string"!=typeof a&&(a="");for(var b in this._MAPS)a=this._MAPS[b].call(this,a,this.date,b);return a},diffMonth:function(a){var b=parseInt(this.format("Y"),10),d=parseInt(this.format("m"),10),e=new c.Date(a),f=parseInt(e.format("Y"),10),g=parseInt(e.format("m"),10);return 12*(f-b)+(g-d)},_DAY1:["周日","周一","周二","周三","周四","周五","周六"],_DAY2:["星期天","星期一","星期二","星期三","星期四","星期五","星期六"],_MAPS:{d:function(a,b,c){var d=b.getDate().toString();return d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},j:function(a,b,c){return a.replace(new RegExp(c,"mg"),b.getDate())},N:function(a,b,c){var d=b.getDay();return 0===d&&(d=7),a.replace(new RegExp(c,"mg"),d)},w:function(a,b,c){var d=b.getDay(),e=this._DAY1[d];return a.replace(new RegExp(c,"mg"),e)},W:function(a,b,c){var d=b.getDay(),e=this._DAY2[d];return a.replace(new RegExp(c,"mg"),e)},m:function(a,b,c){var d=(b.getMonth()+1).toString();return d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},n:function(a,b,c){return a.replace(c,b.getMonth()+1)},Y:function(a,b,c){return a.replace(new RegExp(c,"mg"),b.getFullYear())},y:function(a,b,c){return a.replace(new RegExp(c,"mg"),b.getYear())},g:function(a,b,c){var d=b.getHours();return d>=12&&(d-=12),a.replace(new RegExp(c,"mg"),d)},G:function(a,b,c){return a.replace(new RegExp(c,"mg"),b.getHours())},h:function(a,b,c){var d=b.getHours();return d>=12&&(d-=12),d+="",d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},H:function(a,b,c){var d=b.getHours().toString();return d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},i:function(a,b,c){var d=b.getMinutes().toString();return d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},s:function(a,b,c){var d=b.getSeconds().toString();return d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},I:function(a,b,c){var d=b.getMinutes().toString();return a.replace(new RegExp(c,"mg"),d)},S:function(a,b,c){var d=b.getSeconds().toString();return a.replace(new RegExp(c,"mg"),d)},D:function(a,c,d){var e=b.getServerDate();e.setHours(0,0,0,0),c=new Date(c.valueOf()),c.setHours(0,0,0,0);var f=864e5,g="",h=c-e;return h>=0&&(f>h?g="今天":2*f>h?g="明天":3*f>h&&(g="后天")),a.replace(new RegExp(d,"mg"),g)}}}),a.extend(c.Date,{parse:function(a,b){if("undefined"==typeof a)return new Date;if("string"==typeof a){a=a||"";var d=/^(\d{4})\-?(\d{1,2})\-?(\d{1,2})/i;a.match(d)&&(a=a.replace(d,"$2/$3/$1"));var e=Date.parse(a),f=new Date(e||new Date);return b?f:new c.Date(f)}return"number"==typeof a?new Date(a):new Date},getHM:function(a){var b=this._getDate(a),c=b.getHours(),d=b.getMinutes();return(10>c?"0"+c:""+c)+":"+(10>d?"0"+d:""+d)},getIntervalDay:function(a,b){var c=this._getDate(a),d=this._getDate(b);return c.setHours(0,0,0,0),d.setHours(0,0,0,0),parseInt((d-c)/864e5)},m2H:function(a){var b=Math.floor(a/60),c=a%60;return(b>0?b+"小时":"")+(c>0?c+"分钟":"")},_getDate:function(a){var b=c.Date.parse(a,!0),d=new Date;return d.setTime(b),d},format:function(a,b){return new c.Date(a).format(b)},weekday:function(a){var b=["周日","周一","周二","周三","周四","周五","周六"],c=new Date(a);return b[c.getDay()]},diffMonth:function(a,b){return a=new c.Date(a),a.diffMonth(b)}}),c.Date}),define("Validate",["$"],function(){var a={};_toString=Object.prototype.toString,$.each("String Function Boolean RegExp Number Date Object Null Undefined".split(" "),function(b,c){var d;switch(c){case"Null":d=function(a){return null===a};break;case"Undefined":d=function(a){return void 0===a};break;default:d=function(a){return new RegExp(c+"]","i").test(_toString.call(a))}}a["is"+c]=d});var b={isEmail:function(a){var b=/^(?:\w+\.?)*\w+@(?:\w+\.?)*\w+$/;return b.test(a)},isPassword:function(a){var b=/^[a-zA-Z0-9]{6,20}$/;return b.test(a)},isMobile:function(a){var b=/^(1[3-8][0-9])\d{8}$/;return b.test(a)},isChinese:function(a){var b=/^[\u4e00-\u9fff]{0,}$/;return b.test(a)},isEnglish:function(a){var b=/^[A-Za-z]+$/;return b.test(a)},isZip:function(a){var b=/^\d{6}$/;return b.test(a)},isDate:function(a){var b=/^(([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})(((0[13578]|1[02])(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)(0[1-9]|[12][0-9]|30))|(02(0[1-9]|[1][0-9]|2[0-8]))))|((([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))0229)$/;return b.test(a)?!0:!1},isNum:function(a){var b=/^\d+$/;return b.test(a)},isCellPhone:function(a){var b=/(^0{0,1}1[3|4|5|6|7|8][0-9]{9}$)/;return b.test(a)},isIDCardNo:function(a){var b=/^[A-Za-z0-9]+$/;return b.test(a)},isEnglishAndSpace:function(a){var b=/^([a-zA-Z ]+|[\u4e00-\u9fa5]+)$/;return b.test(a)},isTraditional:function(a){for(var b="萬與醜專業叢東絲兩嚴喪個爿豐臨為麗舉麼義烏樂喬習鄉書買亂爭於虧雲亙亞產畝親褻嚲億僅從侖倉儀們價眾優夥會傴傘偉傳傷倀倫傖偽佇體餘傭僉俠侶僥偵側僑儈儕儂俁儔儼倆儷儉債傾傯僂僨償儻儐儲儺兒兌兗黨蘭關興茲養獸囅內岡冊寫軍農塚馮衝決況凍淨淒涼淩減湊凜幾鳳鳧憑凱擊氹鑿芻劃劉則剛創刪別剗剄劊劌剴劑剮劍剝劇勸辦務勱動勵勁勞勢勳勩勻匭匱區醫華協單賣盧鹵臥衛卻巹廠廳曆厲壓厭厙廁廂厴廈廚廄廝縣參靉靆雙發變敘疊葉號歎嘰籲後嚇呂嗎唚噸聽啟吳嘸囈嘔嚦唄員咼嗆嗚詠哢嚨嚀噝吒噅鹹呱響啞噠嘵嗶噦嘩噲嚌噥喲嘜嗊嘮啢嗩唕喚嘖嗇囀齧囉嘽嘯噴嘍嚳囁嗬噯噓嚶囑嚕劈囂謔團園囪圍圇國圖圓聖壙場壞塊堅壇壢壩塢墳墜壟壟壚壘墾堊墊埡墶壋塏堖塒塤堝墊垵塹墮壪牆壯聲殼壺壼處備複夠頭誇夾奪奩奐奮獎奧妝婦媽嫵嫗媯姍薑婁婭嬈嬌孌娛媧嫻嫿嬰嬋嬸媼嬡嬪嬙嬤孫學孿寧寶實寵審憲宮寬賓寢對尋導壽將爾塵堯尷屍盡層屭屜屆屬屢屨嶼歲豈嶇崗峴嶴嵐島嶺嶽崠巋嶨嶧峽嶢嶠崢巒嶗崍嶮嶄嶸嶔崳嶁脊巔鞏巰幣帥師幃帳簾幟帶幀幫幬幘幗冪襆幹並廣莊慶廬廡庫應廟龐廢廎廩開異棄張彌弳彎彈強歸當錄彠彥徹徑徠禦憶懺憂愾懷態慫憮慪悵愴憐總懟懌戀懇惡慟懨愷惻惱惲悅愨懸慳憫驚懼慘懲憊愜慚憚慣湣慍憤憒願懾憖懣懶懍戇戔戲戧戰戩戶紮撲扡執擴捫掃揚擾撫摶摳掄搶護報擔擬攏揀擁攔擰撥擇掛摯攣掗撾撻挾撓擋撟掙擠揮撏撈損撿換搗據撚擄摑擲撣摻摜摣攬撳攙擱摟攪攜攝攄擺搖擯攤攖撐攆擷擼攛擻攢敵斂數齋斕鬥斬斷無舊時曠暘曇晝曨顯晉曬曉曄暈暉暫曖劄術樸機殺雜權條來楊榪傑極構樅樞棗櫪梘棖槍楓梟櫃檸檉梔柵標棧櫛櫳棟櫨櫟欄樹棲樣欒棬椏橈楨檔榿橋樺檜槳樁夢檮棶檢欞槨櫝槧欏橢樓欖櫬櫚櫸檟檻檳櫧橫檣櫻櫫櫥櫓櫞簷檁歡歟歐殲歿殤殘殞殮殫殯毆毀轂畢斃氈毿氌氣氫氬氳彙漢汙湯洶遝溝沒灃漚瀝淪滄渢溈滬濔濘淚澩瀧瀘濼瀉潑澤涇潔灑窪浹淺漿澆湞溮濁測澮濟瀏滻渾滸濃潯濜塗湧濤澇淶漣潿渦溳渙滌潤澗漲澀澱淵淥漬瀆漸澠漁瀋滲溫遊灣濕潰濺漵漊潷滾滯灩灄滿瀅濾濫灤濱灘澦濫瀠瀟瀲濰潛瀦瀾瀨瀕灝滅燈靈災燦煬爐燉煒熗點煉熾爍爛烴燭煙煩燒燁燴燙燼熱煥燜燾煆溜愛爺牘犛牽犧犢強狀獷獁猶狽麅獮獰獨狹獅獪猙獄猻獫獵獼玀豬貓蝟獻獺璣璵瑒瑪瑋環現瑲璽瑉玨琺瓏璫琿璡璉瑣瓊瑤璦璿瓔瓚甕甌電畫暢疇癤療瘧癘瘍鬁瘡瘋皰屙癰痙癢瘂癆瘓癇癡癉瘮瘞瘺癟癱癮癭癩癬癲臒皚皺皸盞鹽監蓋盜盤瞘眥矓睜睞瞼瞞矚矯磯礬礦碭碼磚硨硯碸礪礱礫礎硜碩硤磽磑礄確鹼礙磧磣堿镟滾禮禕禰禎禱禍稟祿禪離禿稈種積稱穢穠穭稅穌穩穡窮竊竅窯竄窩窺竇窶豎競篤筍筆筧箋籠籩築篳篩簹箏籌簽簡籙簀篋籜籮簞簫簣簍籃籬籪籟糴類秈糶糲粵糞糧糝餱緊縶糸糾紆紅紂纖紇約級紈纊紀紉緯紜紘純紕紗綱納紝縱綸紛紙紋紡紵紖紐紓線紺絏紱練組紳細織終縐絆紼絀紹繹經紿綁絨結絝繞絰絎繪給絢絳絡絕絞統綆綃絹繡綌綏絛繼綈績緒綾緓續綺緋綽緔緄繩維綿綬繃綢綯綹綣綜綻綰綠綴緇緙緗緘緬纜緹緲緝縕繢緦綞緞緶線緱縋緩締縷編緡緣縉縛縟縝縫縗縞纏縭縊縑繽縹縵縲纓縮繆繅纈繚繕繒韁繾繰繯繳纘罌網羅罰罷羆羈羥羨翹翽翬耮耬聳恥聶聾職聹聯聵聰肅腸膚膁腎腫脹脅膽勝朧腖臚脛膠脈膾髒臍腦膿臠腳脫腡臉臘醃膕齶膩靦膃騰臏臢輿艤艦艙艫艱豔艸藝節羋薌蕪蘆蓯葦藶莧萇蒼苧蘇檾蘋莖蘢蔦塋煢繭荊薦薘莢蕘蓽蕎薈薺蕩榮葷滎犖熒蕁藎蓀蔭蕒葒葤藥蒞蓧萊蓮蒔萵薟獲蕕瑩鶯蓴蘀蘿螢營縈蕭薩蔥蕆蕢蔣蔞藍薊蘺蕷鎣驀薔蘞藺藹蘄蘊藪槁蘚虜慮虛蟲虯蟣雖蝦蠆蝕蟻螞蠶蠔蜆蠱蠣蟶蠻蟄蛺蟯螄蠐蛻蝸蠟蠅蟈蟬蠍螻蠑螿蟎蠨釁銜補襯袞襖嫋褘襪襲襏裝襠褌褳襝褲襇褸襤繈襴見觀覎規覓視覘覽覺覬覡覿覥覦覯覲覷觴觸觶讋譽謄訁計訂訃認譏訐訌討讓訕訖訓議訊記訒講諱謳詎訝訥許訛論訩訟諷設訪訣證詁訶評詛識詗詐訴診詆謅詞詘詔詖譯詒誆誄試詿詩詰詼誠誅詵話誕詬詮詭詢詣諍該詳詫諢詡譸誡誣語誚誤誥誘誨誑說誦誒請諸諏諾讀諑誹課諉諛誰諗調諂諒諄誶談誼謀諶諜謊諫諧謔謁謂諤諭諼讒諮諳諺諦謎諞諝謨讜謖謝謠謗諡謙謐謹謾謫譾謬譚譖譙讕譜譎讞譴譫讖穀豶貝貞負貟貢財責賢敗賬貨質販貪貧貶購貯貫貳賤賁貰貼貴貺貸貿費賀貽賊贄賈賄貲賃賂贓資賅贐賕賑賚賒賦賭齎贖賞賜贔賙賡賠賧賴賵贅賻賺賽賾贗讚贇贈贍贏贛赬趙趕趨趲躉躍蹌蹠躒踐躂蹺蹕躚躋踴躊蹤躓躑躡蹣躕躥躪躦軀車軋軌軒軑軔轉軛輪軟轟軲軻轤軸軹軼軤軫轢軺輕軾載輊轎輈輇輅較輒輔輛輦輩輝輥輞輬輟輜輳輻輯轀輸轡轅轄輾轆轍轔辭辯辮邊遼達遷過邁運還這進遠違連遲邇逕跡適選遜遞邐邏遺遙鄧鄺鄔郵鄒鄴鄰鬱郟鄶鄭鄆酈鄖鄲醞醱醬釅釃釀釋裏钜鑒鑾鏨釓釔針釘釗釙釕釷釺釧釤鈒釩釣鍆釹鍚釵鈃鈣鈈鈦鈍鈔鍾鈉鋇鋼鈑鈐鑰欽鈞鎢鉤鈧鈁鈥鈄鈕鈀鈺錢鉦鉗鈷缽鈳鉕鈽鈸鉞鑽鉬鉭鉀鈿鈾鐵鉑鈴鑠鉛鉚鈰鉉鉈鉍鈹鐸鉶銬銠鉺銪鋏鋣鐃銍鐺銅鋁銱銦鎧鍘銖銑鋌銩銛鏵銓鉿銚鉻銘錚銫鉸銥鏟銃鐋銨銀銣鑄鐒鋪鋙錸鋱鏈鏗銷鎖鋰鋥鋤鍋鋯鋨鏽銼鋝鋒鋅鋶鐦鐧銳銻鋃鋟鋦錒錆鍺錯錨錡錁錕錩錫錮鑼錘錐錦鍁錈錇錟錠鍵鋸錳錙鍥鍈鍇鏘鍶鍔鍤鍬鍾鍛鎪鍠鍰鎄鍍鎂鏤鎡鏌鎮鎛鎘鑷鐫鎳鎿鎦鎬鎊鎰鎔鏢鏜鏍鏰鏞鏡鏑鏃鏇鏐鐔钁鐐鏷鑥鐓鑭鐠鑹鏹鐙鑊鐳鐶鐲鐮鐿鑔鑣鑞鑲長門閂閃閆閈閉問闖閏闈閑閎間閔閌悶閘鬧閨聞闥閩閭闓閥閣閡閫鬮閱閬闍閾閹閶鬩閿閽閻閼闡闌闃闠闊闋闔闐闒闕闞闤隊陽陰陣階際陸隴陳陘陝隉隕險隨隱隸雋難雛讎靂霧霽黴靄靚靜靨韃鞽韉韝韋韌韍韓韙韞韜韻頁頂頃頇項順須頊頑顧頓頎頒頌頏預顱領頗頸頡頰頲頜潁熲頦頤頻頮頹頷頴穎顆題顒顎顓顏額顳顢顛顙顥纇顫顬顰顴風颺颭颮颯颶颸颼颻飀飄飆飆飛饗饜飣饑飥餳飩餼飪飫飭飯飲餞飾飽飼飿飴餌饒餉餄餎餃餏餅餑餖餓餘餒餕餜餛餡館餷饋餶餿饞饁饃餺餾饈饉饅饊饌饢馬馭馱馴馳驅馹駁驢駔駛駟駙駒騶駐駝駑駕驛駘驍罵駰驕驊駱駭駢驫驪騁驗騂駸駿騏騎騍騅騌驌驂騙騭騤騷騖驁騮騫騸驃騾驄驏驟驥驦驤髏髖髕鬢魘魎魚魛魢魷魨魯魴魺鮁鮃鯰鱸鮋鮓鮒鮊鮑鱟鮍鮐鮭鮚鮳鮪鮞鮦鰂鮜鱠鱭鮫鮮鮺鯗鱘鯁鱺鰱鰹鯉鰣鰷鯀鯊鯇鮶鯽鯒鯖鯪鯕鯫鯡鯤鯧鯝鯢鯰鯛鯨鯵鯴鯔鱝鰈鰏鱨鯷鰮鰃鰓鱷鰍鰒鰉鰁鱂鯿鰠鼇鰭鰨鰥鰩鰟鰜鰳鰾鱈鱉鰻鰵鱅鰼鱖鱔鱗鱒鱯鱤鱧鱣鳥鳩雞鳶鳴鳲鷗鴉鶬鴇鴆鴣鶇鸕鴨鴞鴦鴒鴟鴝鴛鴬鴕鷥鷙鴯鴰鵂鴴鵃鴿鸞鴻鵐鵓鸝鵑鵠鵝鵒鷳鵜鵡鵲鶓鵪鶤鵯鵬鵮鶉鶊鵷鷫鶘鶡鶚鶻鶿鶥鶩鷊鷂鶲鶹鶺鷁鶼鶴鷖鸚鷓鷚鷯鷦鷲鷸鷺鸇鷹鸌鸏鸛鸘鹺麥麩黃黌黶黷黲黽黿鼂鼉鞀鼴齇齊齏齒齔齕齗齟齡齙齠齜齦齬齪齲齷龍龔龕龜誌製谘隻裡係範鬆冇嚐嘗鬨麵準鐘彆閒儘臟拚",c=0;c<a.length;c++){var d=a.charAt(c);if(b.indexOf(d)>-1)return!0}return!1},isIdCard:function(a){var b=a.toLowerCase().match(/\w/g);if(a.match(/^\d{17}[\dx]$/i)){for(var c=0,d=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],e=0;17>e;e++)c+=parseInt(b[e],10)*d[e];return"10x98765432".charAt(c%11)!=b[17]?!1:!!a.replace(/^\d{6}(\d{4})(\d{2})(\d{2}).+$/,"$1-$2-$3")}return a.match(/^\d{15}$/)?!!a.replace(/^\d{6}(\d{2})(\d{2})(\d{2}).+$/,"19$1-$2-$3"):!1},isIdCard_bak:function(a){var b,c,d,e,f=new Array(!0,!1,!1,!1,!1),g={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"xinjiang",71:"台湾",81:"香港",82:"澳门",91:"国外"},h=[];if(h=a.split(""),null===g[parseInt(a.substr(0,2))])return f[4];switch(a.length){case 18:return ereg=parseInt(a.substr(6,4))%4===0||parseInt(a.substr(6,4))%100===0&&parseInt(a.substr(6,4))%4===0?/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/:/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/,ereg.test(a)?(d=7*(parseInt(h[0])+parseInt(h[10]))+9*(parseInt(h[1])+parseInt(h[11]))+10*(parseInt(h[2])+parseInt(h[12]))+5*(parseInt(h[3])+parseInt(h[13]))+8*(parseInt(h[4])+parseInt(h[14]))+4*(parseInt(h[5])+parseInt(h[15]))+2*(parseInt(h[6])+parseInt(h[16]))+1*parseInt(h[7])+6*parseInt(h[8])+3*parseInt(h[9]),b=d%11,e="F",c="10X98765432",e=c.substr(b,1),e.toUpperCase()==h[17].toUpperCase()?f[0]:f[3]):f[2];default:return f[1]}},isRightVerifycode:function(a){var b=/^[a-z0-9]{4,30}$/;return b.test(a)},isAllowSetTradingPass:function(a){for(var b=!0,c=!0,d=!0,e=!0,f=0;f<a.length-1;f++){var g=parseInt(a[f]),h=parseInt(a[f+1]);b=b&&g==h,c=c&&h==g+1;var i=f<a.length+1?parseInt(a[f+3]):-1,j=parseInt(a[5-f]);if(f<a.length/2-1?(d=d&&g==i&&h==g+1,e=e&&g==j&&h==g+1):f==a.length/2-1&&(d=d&&g==i,e=e&&g==j),f+2==a.length&&6==a.length&&(b||c||d||e))return!1}return!0},isQq:function(a){return/^[1-9]\d{4,}$/.test(a)},isPhone:function(a){return/^[0-9]{3,4}-[0-9]{7,8}$/.test(a)},isUrl:function(a){return a?(a=a.replace(/#.*$/,""),a=a.replace(/\?.*$/,""),/^\w+:\/\/([^\s\.]+\.\S{2}|localhost[\:?\d]*)\S*$/.test(a)):!1},isIP:function(b){if(!b||a.isNull(b))return!1;var c=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/g;return c.test(b)&&RegExp.$1<256&&RegExp.$2<256&&RegExp.$3<256&&RegExp.$4<256?!0:!1},isEmptyObject:function(a){for(var b in a)return!1;return!0},isCharsLenWithinRange:function(b,c){if(!a.isString(b))return!1;var d=b.match(/\W/g),e=null==d?b.length:b.length+d.length,f=e>=0&&c>=e;return f?(this.cutLen=b.length,!0):!1},isContactName:function(b){return a.isString(b)?this.isCharsLenWithinRange.call(this,b,26):!1},isBookPS:function(b){return a.isString(b)?this.isCharsLenWithinRange.call(this,b,100):!1},isInvTitle:function(b){return a.isString(b)?this.isCharsLenWithinRange.call(this,b,100):!1},isBoardTitle:function(b){return a.isString(b)?this.isCharsLenWithinRange.call(this,b,40):!1},isAreaTitle:function(b){return a.isString(b)?this.isCharsLenWithinRange.call(this,b,80):!1},isMobileNumber:function(b){if(!a.isString(b))return!1;var c=11;return b.length==c&&/^(\d| )+$/g.test(b)},isFlightNumber:function(b){if(!a.isString(b))return!1;var c=3,d=7;return b.length>=c&&b.length<=d&&/^(\d|\w)+$/g.test(b)}};return b.isPostcode=b.isZip,b}),define("cUtilityPath",["$"],function(){var a={urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(a){var b=a?this.parseUrl(a):location,c=this.parseUrl(a||location.href).hash;return c="#"===c?"":c,b.protocol+"//"+b.host+b.pathname+b.search+c},parseLocation:function(){return this.parseUrl(this.getLocation())},isRelativeUrl:function(b){return""===a.parseUrl(b).protocol},parseUrl:function(b){var c=a.urlParseRE.exec(b||"")||[];return{href:c[0]||"",hrefNoHash:c[1]||"",hrefNoSearch:c[2]||"",domain:c[3]||"",protocol:c[4]||"",doubleSlash:c[5]||"",authority:c[6]||"",username:c[8]||"",password:c[9]||"",host:c[10]||"",hostname:c[11]||"",port:c[12]||"",pathname:c[13]||"",directory:c[14]||"",filename:c[15]||"",search:c[16]||"",hash:c[17]||""}},isSameDomain:function(b,c){return a.parseUrl(b).domain===a.parseUrl(c).domain},makePathAbsolute:function(a,b){var c,d,e,f;if(a&&"/"===a.charAt(0))return a;for(a=a||"",b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",c=b?b.split("/"):[],d=a.split("/"),e=0;e<d.length;e++)switch(f=d[e]){case".":break;case"..":c.length&&c.pop();break;default:c.push(f)}return"/"+c.join("/")},makeUrlAbsolute:function(b,c){if(!a.isRelativeUrl(b))return b;void 0===c&&(c=this.documentBase);var d=a.parseUrl(b),e=c,f=d.protocol||e.protocol,g=d.protocol?d.doubleSlash:d.doubleSlash||e.doubleSlash,h=d.authority||e.authority,i=""!==d.pathname,j=a.makePathAbsolute(d.pathname||e.filename,e.pathname),k=d.search||!i&&e.search||"",l=d.hash;return f+g+h+j+k+l},formatHybridUrl:function(a,b){var c="";if(!a)return c;if(c=a,!a.match(/^(http|ctrip)/gim)){a=a.replace(/file:[/]*/,"");var d=/(webapp|webapp_work)\/([^\/]*)\/([\S\s]*)/,e=a.match(d);
if(e&&e.length>3){var f=e[2],g=e[3];c=g.indexOf(".html#")<0?f+"/index.html#/webapp/"+f+"/"+g:f+"/"+g}b&&(c=b+c)}return c}};a.documentUrl=a.parseLocation();var b=$("head").find("base");return a.documentBase=b.length?a.parseUrl(a.makeUrlAbsolute(b.attr("href"),a.documentUrl.href)):a.documentUrl,a}),define("cUtility",["cUtilityHybrid","cUtilityHash","cUtilityDate","cUtilityServertime","Validate","cUtilityPath"],function(a,b,c,d,e,f){var g=function(a){return Object.prototype.toString.call(a)},h={};return $.extend(h,a),h.Date=c,h.Hash=b.Hash,h.inApp=a.isInApp(),h.trim=function(a){return a.replace(/(^[\s\u3000]*)|([\s\u3000]*$)/g,"")},h.stripTags=function(a){return(a||"").replace(/<[^>]+>/g,"")},h.mix=function(a,b){return _.extend(a,b)},h.indexOf=function(a,b){return _.indexOf(b,a)},h.each=_.each,h.grep=_.filter,h.getServerDate=d.getServerDate,h.getGuid=function(){var a=h.getCookie("GUID"),b=window.localStorage;if(a)try{b.setItem("GUID",a)}catch(c){console.log("GUID 写入 localStorage 失败")}else a=b.getItem("GUID")||"";return a},h.getCookie=function(a){var b=document.cookie,c="";if(b)for(var d,e,f=b.split("; "),g=0;g<f.length;g++)d=f[g],e=d.indexOf("="),d.substr(0,e)==a&&(c=d.substr(e+1));return c},h.setCookie=function(a,b,c,d,e,f){b=_.isObject(b)?JSON.stringify(b):b,document.cookie=a+"="+escape(b)+(c?"; expires="+c:"")+(d?"; path="+d:"")+(e?"; domain="+e:"")+(f?"; secure":"")},h.createGuid=function(){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function b(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}return b()},h.Object={},h.Object.set=function(a,b,c){if(!b)return null;var d=b.split(".");a=a||{};for(var e=0,f=d.length,g=Math.max(f-1,0);f>e;e++)g>e?a=a[d[e]]=a[d[e]]||{}:a[d[e]]=c;return a},h.Object.get=function(a,b){if(!a||!b)return null;var c=b.split(".");a=a||{};var d=0,e=c.length;for(Math.max(e-1,0);e>d;d++)if(a=a[c[d]],null===a||"undefined"==typeof a)return null;return a},h.SimpleQueue=function(){this.initialize()},h.SimpleQueue.prototype={initialize:function(){this.index=0,this.handlers=[],this.isStart=!1},add:function(a){this.handlers.push(a),this.isStart||(this.isStart=!0,this._next())},_next:function(a){var b=this.handlers.shift();b&&b.call(this,this,a)},next:function(){this._next.apply(this,arguments),this.stop()},stop:function(){this.isStart=!1}},h.tryUrl=function(a){var b=document.createElement("iframe");b.height=1,b.width=1,b.frameBorder=0,b.style.position="absolute",b.style.left="-9999px",b.style.top="-9999px",document.body.appendChild(b),h.tryUrl=function(a){b.src=a},h.tryUrl(a)},h.validate=e,h.JsonArrayToObject=function(a){if(!a)return[];for(var b=a.shift(),c=[],d=null,e=0,f=a.length;f>e;e++){d={};for(var h=0,i=a[e].length;i>h;h++)switch(g(a[e][h])){case"[object Array]":d[b[h]]=U.JsonArrayToObject(a[e][h]);break;default:d[b[h]]=a[e][h]}c.push(d)}return c},h.dateParse=function(a){var b=new RegExp("^\\d+(\\-|\\/)\\d+(\\-|\\/)\\d+$");if("string"==typeof a){if(b.test(a)||isNaN(Date.parse(a))){var c=a.split(/ |T/),d=c.length>1?c[1].split(/[^\d]/):[0,0,0],e=c[0].split(/[^\d]/);return new Date(e[0]-0,e[1]-1,e[2]-0,d[0]-0,d[1]-0,d[2]-0)}return new Date(a)}return new Date},h.deleteValue=function(a,b){var c=U.indexOf(a,b);return c>-1?b.splice(c,1):null},h.urlParse=function(a){return f.parseUrl(a)},h.getUrlParam=function(a,b){var c=new RegExp("(\\?|&)"+b+"=([^&]+)(&|$)","i"),d=a.match(c);return d?d[2]:""},h.getUrlParams=function(a){for(var b,c,d,a=a.split("://"),e=/([^&=?]+)=([^&]+)/g,f={};b=e.exec(a[0]);)name=b[1],c=b[2],f[name]=c;if(a[1]){var g=0;d=_.size(f),_.each(f,function(b,c){++g==d&&(f[c]+="://"+a[1])})}return f},h}),define("cBase",["libs","cCoreInherit","cUtility"],function(a,b,c){"undefined"==typeof console&&(console={log:function(){},error:function(){}});var d={};d.isInApp=c.isInApp,d.Class=b.Class,d.extend=b.extend,d.implement=b.implement;[].slice;d.Object=new d.Class({});var e={keys:function(a){var b=[];if("object"==typeof a)if("function"==typeof Object.keys)Object.keys(a);else for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}};return d.extend(d.Object,e),d.Date=c.Date,d.Hash=c.Hash,d.getInstance=function(){return this.instance||new this},d.getServerDate=c.getServerDate,d}),define("cAbstractStorage",["cBase"],function(a){var b=window.JSON,c=a.Date,d=new a.Class({__propertys__:function(){this.proxy=null,this.overdueClearKey="C_CLEAR_OVERDUE_CATCH"},initialize:function(){},removeOverdueCathch:function(){var a=(new c).getTime(),b=this.proxy.getItem(this.overdueClearKey),d=[],e=[];if(b){d=JSON.parse(b);for(var f,g=0;g<d.length;g++)f=d[g],new Date(f.timeout).getTime()<=a?this.proxy.removeItem(f.key):e.push(f);this.proxy.setItem(this.overdueClearKey,JSON.stringify(e))}},_removeOdCLately:function(a){a=a||5;var b=this.proxy.getItem(this.overdueClearKey),c=[];if(b){c=JSON.parse(b),c.sort(function(a,b){var c=new Date(a.timeout).getTime(),d=new Date(b.timeout).getTime();return c-d});for(var d=c.splice(0,a)||[],e=0;e<d.length;e++)this.proxy.removeItem(d[e].key);this.proxy.removeItem(this.overdueClearKey),c.length>0&&this.proxy.setItem(this.overdueClearKey,JSON.stringify(c))}},_setOverdueCathch:function(a,b){if(a&&b&&!(c.parse(b,!0)<new Date)){var d={},e=[],f=this.proxy.getItem(this.overdueClearKey);d.key=a,d.timeout=b,f&&(e=JSON.parse(f));for(var g,h=!1,i=0;i<e.length;i++)g=e[i],g.key==a&&(e[i]=d,h=!0);h||e.push(d),this.proxy.setItem(this.overdueClearKey,JSON.stringify(e))}},_buildStorageObj:function(a,b,c,d,e){return{value:a,oldvalue:e||null,timeout:b,tag:c,savedate:d}},set:function(a,d,e,f,g,h){g=g||(new c).format("Y/m/d H:i:s"),e=e?new c(e):(new c).addDay(30);var i=e.format("Y/m/d H:i:s");this._setOverdueCathch(a,i);var j=this._buildStorageObj(d,i,f,g,h);try{return this.proxy.setItem(a,b.stringify(j)),!0}catch(k){"QuotaExceededError"==k.name&&(this._removeOdCLately(),this.set(a,d,e,f,g,h))}return!1},get:function(a,d,e){var f,g=null;try{f=this.proxy.getItem(a),f&&(f=b.parse(f),c.parse(f.timeout,!0)>=new Date&&(d?d===f.tag&&(g=e?f.oldvalue:f.value):g=e?f.oldvalue:f.value))}catch(h){console&&console.log(h)}return g},getTag:function(a){var c,d=null;try{c=this.proxy.getItem(a),c&&(c=b.parse(c),d=c&&c.tag)}catch(e){console&&console.log(e)}return d},getSaveDate:function(a,d){var e,f=null;try{e=this.proxy.getItem(a),e&&(e=b.parse(e),e.savedate&&(f=c.parse(e.savedate),d||(f=f.valueOf())))}catch(g){console&&console.log(g)}return f},getExpireTime:function(a){var c=null,d=null;try{c=this.proxy.getItem(a),c&&(c=b.parse(c),d=Date.parse(c.timeout))}catch(e){console&&console.log(e)}return d},remove:function(a){return this.proxy.removeItem(a)},getAll:function(){for(var a=this.proxy.length,b=[],c=0;a>c;c++){var d=this.proxy.key(c),e={key:d,value:this.get(d)};b.push(e)}return b},clear:function(){this.proxy.clear()},gc:function(){for(var a=this.proxy,b=this.proxy.length,c=0;b>c;c++){var d=a.key(c);if("GUID"==d)break;try{this.get(d)||this.remove(d)}catch(e){}}}});return d}),define("cStorage",["cBase","cAbstractStorage"],function(a,b){var c=new a.Class(b,{__propertys__:function(){},initialize:function($super,a){this.proxy=window.localStorage,$super(a)},oldGet:function(b){var c=localStorage.getItem(b),d=c?JSON.parse(c):null;if(d&&d.timeout){var e=new Date,f=a.Date.parse(d.timeout).valueOf();if(d.timeby){if(f-e>=0)return d}else if(f-a.Date.parse(a.Date.format(e,"Y-m-d")).valueOf()>=0)return d;return localStorage.removeItem(b),null}return d},oldSet:function(a,b){localStorage.setItem(a,b)},getExpireTime:function(b){var c=localStorage.getItem(b),d=c?JSON.parse(c):null;return d&&d.timeout?d.timeout:new a.Date(a.getServerDate()).format("Y-m-d")},oldRemove:function(a){localStorage.removeItem(a)}});return c.getInstance=function(){return this.instance?this.instance:this.instance=new this},c.localStorage=c.getInstance(),c}),define("cAbstractStore",["cBase","cStorage","cUtility"],function(a,b,c){CDate=a.Date,HObject=c.Object;var d=new a.Class({__propertys__:function(){this.NULL={},this.key=this.NULL,this.lifeTime="30M",this.useServerTime=!1,this.defaultData=null,this.rollbackEnabled=!1,this.sProxy=this.NULL},initialize:function(a){for(var b in a)this[b]=a[b];this.assert()},assert:function(){},set:function(a,b,c){var d=this._getNowTime(),e=new CDate(this.getExpireTime());d.addSeconds(this._getLifeTime());var f=e.getTime();d.getTime()<f&&(d=e),this.rollbackEnabled&&!c&&(c=a),this.sProxy.set(this.key,a,d,b,null,c)},setLifeTime:function(a,b){this.lifeTime=a;var c,d=this.getTag(),e=this.get();c=b?this._getNowTime():this.sProxy.getSaveDate(this.key,!0)||this._getNowTime();var f=new CDate(c.valueOf()).format("Y/m/d H:i:s");c.addSeconds(this._getLifeTime()),this.sProxy.set(this.key,e,c,d,f)},setAttr:function(a,b,c){if(!_.isObject(a)){c=c||this.getTag();var d=this.get(c)||{},e={};if(d){if(this.rollbackEnabled){e=this.get(c,!0);var f=HObject.get(d,a);HObject.set(e,a,f)}return HObject.set(d,a,b),this.set(d,c,e)}return!1}for(var g in a)a.hasOwnProperty(g)&&this.setAttr(g,a[g],b)},get:function(b,c){var d=null,e=!0;"[object Array]"===Object.prototype.toString.call(this.defaultData)?d=this.defaultData.slice(0):this.defaultData&&(d=_.clone(this.defaultData));var f=this.sProxy.get(this.key,b,c),g=typeof f;if({string:!0,number:!0,"boolean":!0}[g])return f;if(f)if("[object Array]"==Object.prototype.toString.call(f)){d=[];for(var h=0,i=f.length;i>h;h++)d[h]=f[h]}else f&&!d&&(d={}),a.extend(d,f);for(var j in d){e=!1;break}return e?null:d},getAttr:function(a,b){var c=this.get(b),d=null;return c&&(d=HObject.get(c,a)),d},getTag:function(){return this.sProxy.getTag(this.key)},remove:function(){this.sProxy.remove(this.key)},removeAttr:function(a){var b=this.get()||{};b[a]&&delete b[a],this.set(b)},getExpireTime:function(){var a=null;try{a=this.sProxy.getExpireTime(this.key)}catch(b){console&&console.log(b)}return a},setExpireTime:function(a){var b=this.get(),c=CDate.parse(a);this.sProxy.set(this.key,b,c)},_getNowTime:function(){return this.useServerTime?new CDate(a.getServerDate()):new CDate},_getLifeTime:function(){var a=0,b=this.lifeTime+"",c=b.charAt(b.length-1),d=+b.substring(0,b.length-1);return c="number"==typeof c?"M":c.toUpperCase(),a="D"==c?24*d*60*60:"H"==c?60*d*60:"M"==c?60*d:"S"==c?d:60*d},rollback:function(a){if(this.rollbackEnabled){var b=this.getTag(),c=this.sProxy.get(this.key,b),d=this.sProxy.get(this.key,b,!0);if(a&&a instanceof Array)for(var e in a){var f=a[e],g=d[f];"undefined"!=typeof g&&(c[f]=g)}else c=d,d={};this.set(c,b,d)}}});return d.getInstance=function(){return this.instance?this.instance:this.instance=new this},d}),define("cStore",["cBase","cAbstractStore","cStorage"],function(a,b,c){var d=new a.Class(b,{__propertys__:function(){this.sProxy=c.getInstance()},initialize:function($super,a){$super(a)}});return d}),define("CommonStore",["cBase","cStore","cStorage","cUtility"],function(a,b,c,d){var e={},f=c.localStorage;return e.UserStore=new a.Class(b,{__propertys__:function(){this.key="USER",this.lifeTime="30D"},initialize:function($super,a){$super(a)},getUser:function(){var a=f.oldGet("USERINFO");return a=a&&a.data||null,a&&this.set(a),a||this.get()},setUser:function(a){this.set(a);var b=f.getExpireTime("USERINFO"),c={data:a,timeout:b};f.oldSet("USERINFO",JSON.stringify(c))},removeUser:function(){f.oldRemove("USERINFO"),this.remove()},isNonUser:function(){var a=this.getUser();return a&&!!a.IsNonUser},isLogin:function(){var a=this.getUser();return a&&!!a.Auth&&!a.IsNonUser},getUserName:function(){var a=this.getUser();return a.UserName},getUserId:function(){var a=this.getUser()||{};return a.UserID||d.getGuid()},getAuth:function(){var a=e.HeadStore.getInstance(),b=this.getUser();return b&&b.Auth&&a.setAttr("auth",b.Auth),a.getAttr("auth")},setAuth:function(a){var b=this.isLogin(),c=this.getUser()||{};c.Auth=a,c.IsNonUser=b?!1:!0,this.setUser(c)},setThirdParts:function(a){var b=this.isLogin(),c=this.getUser()||{};b&&a&&(c.thirdParts=a,this.setUser(c))},setThirdPartsNon:function(){var a=this.getUser()||{};a.thirdParts="",this.setUser(a)},getThirdParts:function(){var a=this.getUser();return a&&a.thirdParts},getThirdPart:function(a){var b=this.getUser();if(a&&b&&b.thirdParts&&b.thirdParts.length>0){var c=b.thirdParts;return _.find(c,function(b){return b.ThirdPartType==a?b:void 0})}},setNonUser:function(a){var b=e.HeadStore.getInstance();b.setAttr("auth",a);var c={};c.Auth=a,c.IsNonUser=!0,this.setUser(c)},setExpireTime:function($super,a){$super(a);var b=this.get(),c={data:b,timeout:a};f.oldSet("USERINFO",JSON.stringify(c))}}),e.HeadStore=new a.Class(b,{userStore:e.UserStore.getInstance(),__propertys__:function(){this.key="HEADSTORE",this.lifeTime="15D",this.defaultData={cid:d.getGuid(),ctok:"351858059049938",cver:"1.0",lang:"01",sid:"8888",syscode:"09",auth:""};var a=this.get;this.get=function(){var b=a.apply(this,arguments),c=this.userStore.getUser(),f=e.SalesObjectStore.getInstance().get();return d.isInApp()||(b.sid=f&&f.sid?f.sid:"8888"),b.auth=c&&c.Auth?c.Auth:"",this.set(b),b}},initialize:function($super,a){$super(a)},setAuth:function(a){var b=e.UserStore.getInstance();b.setAuth(a),this.setAttr("auth",a)},setExtension:function(a){var b=this.getAttr("extension");_.isEmpty(b)&&(b=[]),a&&a.name&&(_.some(b,function(c,d){return c.name==a.name?(b[d]=a,!0):void 0})||b.push(a)),this.setAttr("extension",b)}}),e.UnionStore=new a.Class(b,{__propertys__:function(){this.key="UNION",this.lifeTime="7D",this.store=c.localStorage},initialize:function($super,a){$super(a)},get:function(){var a=this.store.oldGet(this.key);return a&&a.data||null},set:function(b,c){c||(c=new a.Date(d.getServerDate()),c.addSeconds(this._getLifeTime()));var e={data:b,timeout:c.format("Y/m/d H:i:s")};this.store.oldSet(this.key,JSON.stringify(e))}}),e.SalesStore=new a.Class(b,{__propertys__:function(){this.key="SALES",this.lifeTime="30D",this.store=c.localStorage},initialize:function($super,a){$super(a)},get:function(){var a=this.store.oldGet(this.key);return a&&a.data||null},set:function(b,c){c||(c=new a.Date(d.getServerDate()),c.addSeconds(this._getLifeTime()));var e={data:b,timeout:c.format("Y/m/d H:i:s")};this.store.oldSet(this.key,JSON.stringify(e))}}),e.SalesObjectStore=new a.Class(b,{__propertys__:function(){this.key="SALES_OBJECT",this.lifeTime="30D"},initialize:function($super,a){$super(a)}}),e.UnionStore.getInstance=e.SalesStore.getInstance=a.getInstance,e}),function(){window.localStorage.removeItem("LIZARD_GETUSERINFOS");var a=window.location.href,b="GetUserInfos",c=new RegExp("(\\?|&)"+b+"=([^&]+)(&|$)","i"),d=a.match(c),e=d?d[2]:"";e&&(window.localStorage.setItem("LIZARD_GETUSERINFOS",e),a=a.replace(e,"").replace(/[\S\s]GetUserInfos=/,""),window.history.replaceState?window.history.replaceState(null,document.title,a):window.location.replace(a))}(),function(){function a(){var a=navigator.userAgent.toLowerCase();return"ctripwireless"==a.match(/ctripWireless/i)?!0:!1}function b(){for(var a=0;a<j.length;a++){var b=j[a];b&&b.call(window)}}function c(a,b){n[a]=b}function d(){for(var a=document.getElementsByTagName("script")||[],b="",c=/lizard\.seed\.(src\.)*js.*$/gi,d=0;d<a.length;d++){var e=a[d].getAttribute("src");if(e&&c.test(e)){b=e.replace(c,"");var f=a[d].getAttribute("pdConfig");f&&(g=f);try{a[d].getAttribute("lizardConfig")&&(h=new Function("return {"+a[d].getAttribute("lizardConfig")+"}")())}catch(i){console.log(i.message)}return b}}return b}function e(a,b){var c=document.createElement("script");c.type="text/javascript",c.async=!0,c.onload=b,c.src=a,document.body.appendChild(c)}function f(a,b){function c(){f++,f>=d&&b()}var d=a.length,f=0;if(!d)return void c();for(var g=0;d>g;g++){var h=a[g];e(h,c)}}!function(){navigator.userAgent.indexOf("Android")>0&&(JSON.stringify={}),function(){function a(a){return 10>a?"0"+a:a}function b(a){return d.lastIndex=0,d.test(a)?'"'+a.replace(d,function(a){var b=g[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var g,i,j,k,l,m=e,n=d[a];switch(n&&"object"==typeof n&&"function"==typeof n.toJSON&&(n=n.toJSON(a)),"function"==typeof h&&(n=h.call(d,a,n)),typeof n){case"string":return b(n);case"number":return isFinite(n)?String(n):"null";case"boolean":case"null":return String(n);case"object":if(!n)return"null";if(e+=f,l=[],"[object Array]"===Object.prototype.toString.apply(n)){for(k=n.length,g=0;k>g;g+=1)l[g]=c(g,n)||"null";return j=0===l.length?"[]":e?"[\n"+e+l.join(",\n"+e)+"\n"+m+"]":"["+l.join(",")+"]",e=m,j}if(h&&"object"==typeof h)for(k=h.length,g=0;k>g;g+=1)"string"==typeof h[g]&&(i=h[g],j=c(i,n),j&&l.push(b(i)+(e?": ":":")+j));else for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(j=c(i,n),j&&l.push(b(i)+(e?": ":":")+j));return j=0===l.length?"{}":e?"{\n"+e+l.join(",\n"+e)+"\n"+m+"}":"{"+l.join(",")+"}",e=m,j}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var d,e,f,g,h;"function"!=typeof JSON.stringify&&(d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,d){var g;if(e="",f="","number"==typeof d)for(g=0;d>g;g+=1)f+=" ";else"string"==typeof d&&(f=d);if(h=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return c("",{"":a})})}()}();var g="",h="",i=!1,j=[];"undefined"==typeof Lizard&&(Lizard={}),Lizard.version="2.0",Lizard.app=function(){var a,b,c,d,e={MASTER:["Ctrip_CtripWireless","Unicom_CtripWireless","Pro_CtripWireless"],YOUTH:["Youth_CtripWireless"],GS:["gs_wireless"]},f=function(a){a+="",a.indexOf(".")<0&&(a+=".0"),a=(a+"").split(".");for(var b=0;b<a.length;b++)a[b]="000".substr(a[b].length)+a[b];return a.join(".")},g=RegExp,h=window.navigator.userAgent;for(var i in e)for(var j=0;j<e[i].length;j++)if(new g(e[i][j]+"_([\\d.]+)$").test(h)){a="CTRIP",b=i,c=g.$1;break}return a||/MicroMessenger\/([\d.]+)/.test(h)&&(a="TECENT",b="WEIXIN",c=g.$1),c&&(d=f(c)),{vendor:{toString:function(){return a},is:function(b){return b.toUpperCase()==a}},code:{toString:function(){return b},is:function(a){return a.toUpperCase()==b}},version:{toString:function(){return c},lt:function(a){return d<f(a)},lte:function(a){return d<=f(a)},eq:function(a){return d==f(a)},gte:function(a){return d>=f(a)},gt:function(a){return d>f(a)}}}}(),Lizard.isInCtripApp=a()&&"file:"!=window.location.protocol;var k=window.location.search;if(Lizard.isInCtripApp||!k||-1==k.indexOf("from_native_type=3")&&-1==k.indexOf("from_native_type%3D3")){if(window.localStorage){var l=window.localStorage.getItem("isInWinOS");l&&(Lizard.isInCtripApp=!0)}}else Lizard.isInCtripApp=!0,window.localStorage&&window.localStorage.setItem("isInWinOS","1");if(Lizard.isHybrid=!!(window.Internal&&window.Internal.isInApp||window.LizardLocalroute||Lizard.isInCtripApp),Lizard.getAbsPath=function(a,b){if(a=decodeURIComponent(a),b){if("/"==a.charAt(0)){var c=window.location.protocol+"//"+window.location.hostname;a=c+a}}else if("/"==a.charAt(0)){var c=window.location.href.replace(/\/index\.html.*/,"");a=c+a}if(/^(https|http|ftp|rtsp|mms)?:\/\//.test(a));else{var d=document.createElement("script");d.src=a;var a=d.src;d=null}return a},Lizard.hrefresh=function(){CtripUtil.app_open_url(window.location.href.replace(/#.*/g,""),0)},Lizard.toUBTURL=function(a,b){var c;return c=b?a:a.replace(/.*\/[^\/]*?webapp[^\/]*\//,"http://hybridm.ctrip.com/webapp/")},Lizard.isHybrid&&(Lizard.localRoute={config:{},addConfig:function(a){for(var b in a)a.hasOwnProperty(b)&&(Lizard.localRoute.config[b]=a[b])},mapUrl:function(a){var b="",c=0;for(var d in Lizard.localRoute.config)if(Lizard.localRoute.config.hasOwnProperty(d)){var e=Lizard.schema2re(d,a);e.reStr&&e.param&&e.reStr.length>c&&(c=e.reStr.length,b=Lizard.localRoute.config[d])}return b}},window.LizardLocalroute)){Lizard.localRoute.addConfig(window.LizardLocalroute);var m=document.getElementById("LizardLocalroute");m&&(Lizard.weinre=m.getAttribute("LizardWeinre"),Lizard.ip=m.getAttribute("LizardIP"),Lizard.chanal=m.getAttribute("LizardChanal"))}Lizard.ready=function(a){i?a&&a.call(window):j.push(a)};var n={};Lizard.config=function(a,b){var d=typeof a;switch(d){case"string":return c(a,b);case"object":for(var e in a)a.hasOwnProperty(e)&&c(e,a[e]);break;default:return n}};var o=d();if(!o)throw"没有引入lizard.seed.js文件";Lizard.dir="http://webresource.c-ctrip.com/code/lizard/2.0/web/",h&&Lizard.config(h);var p=(Lizard.dir+"parser.js",Lizard.dir+"3rdlibs/require.min.js"),q=[],r="undefined"!=typeof require;q=r?[]:[p],f(q,function(){function a(){window.requirejs&&define("R",function(){}),window.JSON&&define("json2",function(){}),window.__bridge_callback&&define("bridge",function(){}),window.Zepto&&define("$",function(){}),window._&&define("_",function(){}),window.Backbone&&define("B",function(){}),window.$&&window.$.bindFastClick&&define("F",function(){})}function c(){var a=["lizard","cWidgetFactory","cWidgetGuider","cWidgetMember"];window.LizardLocalroute||a.push("//webresource.c-ctrip.com/ResCRMOnline/R5/basewidget/ui.loadFailed.js","//webresource.c-ctrip.com/ResCRMOnline/R5/basewidget/ui.loading.js"),require(a,function(){function a(){function a(){var a=_.extend({},n),b=new c(a);Lizard.instance=b;var e=b["interface"]();for(var f in e)Lizard[f]=$.proxy(e[f],b);if(Lizard.isHybrid||Lizard.app.code.is("GS")){var g=d.create("Guider");g.create()}!Lizard.isHybrid||Lizard.isInCtripApp,!Lizard.isHybrid||Lizard.isInCtripApp?!function(){for(var a=document.getElementsByTagName("script")||[],b=/_bfa\.min\.js/i,c=0;c<a.length;c++)if(b.test(a[c].src))return;if(!(window.$_bf&&window.$_bf.loaded||window.$LAB||window.CtripJsLoader)){var d=new Date,e="?v="+d.getFullYear()+d.getMonth()+"_"+d.getDate()+".js",f=document.createElement("script");f.type="text/javascript",f.charset="utf-8",f.async=!0;try{var g="https:"==document.location.protocol}catch(h){var g="https:"==document.URL.match(/[^:]+/)+":"}f.src=g?"https://webresource.c-ctrip.com/code/ubt/_mubt.min.js"+e:"http://webresource.c-ctrip.com/code/ubt/_mubt.min.js"+e;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(f,i)}}():!function(){var a="ubt/_mubt.min.js",b=Lizard.dir;if(b){var c=b.substr(0,b.indexOf("lizard/webresource"));a=c+a}var d=document.createElement("script");d.src=a;var e=d.src;d=null,require([e],function(){})}()}i=!0,b(),n.version&&require.config({urlArgs:n.version}),g?require(g.split(","),a):a()}var c=arguments[0],d=arguments[1];if(Lizard.isHybrid||Lizard.isInCtripApp||Lizard.app.code.is("GS"))a();else{var e=d.create("Member");e.autoLogin({callback:a})}})}var d=["appBaseUrl","webresourceBaseUrl","restfullApi","restfullApiHttps","WebresourcePDBaseUrl"];!function(){for(var a=document.getElementsByTagName("meta"),b=0;b<a.length;b++){var c=a[b].getAttribute("name"),e=a[b].getAttribute("content");a[b].getAttribute("lizardExpansion")&&(Lizard[c]=e);for(var f=0;f<d.length;f++){var g=d[f];c==g&&(Lizard[c]||(Lizard[c]=e))}}}();var e=function(){var a=Lizard.dir+"3rdlibs/zepto",b=window.navigator.userAgent.indexOf("IEMobile")>-1?!0:!1,c=(window.navigator.userAgent.indexOf("MSIE")>-1?!0:!1,0);return b&&(c=window.navigator.userAgent.match(/IEMobile\/\d+/),c.length>0&&(c=c[0].split("/"),c=c[1])),(!("__proto__"in{})||b&&10>c)&&(a=Lizard.dir+"3rdlibs/jquery"),a}();if(Lizard.weinre&&require.config({urlArgs:"v="+(new Date).getTime(),baseUrl:"http://"+Lizard.ip+":5389/"+Lizard.chanal}),require.config({waitSeconds:40,shim:{$:{exports:"zepto"},_:{exports:"_"},B:{deps:["_","$"],exports:"Backbone"},F:{deps:["$"],exports:"Fastclick"},lizard:{deps:["$","_","B","F"]},cHybridShell:{deps:["$","_"]},libs:{deps:["_","$","B"],exports:"libs"},common:{deps:["libs"]},cBase:{exports:"cBase"},cAjax:{exports:"cAjax"},cPageView:{deps:["B"],exports:"cPageView"}},paths:{json2:Lizard.dir+"3rdlibs/json2",bridge:Lizard.dir+"3rdlibs/bridge",R:Lizard.dir+"3rdlibs/require",$:e,_:Lizard.dir+"3rdlibs/underscore",B:Lizard.dir+"3rdlibs/backbone",F:Lizard.dir+"3rdlibs/fastclick",lizard:Lizard.dir+"lizard",libs:Lizard.dir+"3rdlibs/libs",text:Lizard.dir+"3rdlibs/require.text",cCoreInherit:Lizard.dir+"core/c.core.inherit",rsa:Lizard.dir+"business/c.business.rsa",cBusinessCommon:Lizard.dir+"business/c.business.common",c:Lizard.dir+"common/c",cBase:Lizard.dir+"common/c.base",cSales:Lizard.dir+"common/c.sales",cLazyload:Lizard.dir+"common/c.lazyload",cListAdapter:Lizard.dir+"common/c.common.listadapter",cGeoService:Lizard.dir+"common/c.geo.service",cGeoHelper:Lizard.dir+"common/c.geo.helper",cMessageCenter:Lizard.dir+"common/c.message.center",cAjax:Lizard.dir+"common/c.ajax",cImgLazyload:Lizard.dir+"common/c.img.lazyload",cGeo:Lizard.dir+"common/c.geo",cUtilityHybrid:Lizard.dir+"util/c.utility.hybrid",cUtilityHash:Lizard.dir+"util/c.utility.hash",cUtilityDate:Lizard.dir+"util/c.utility.date",cUtilityServertime:Lizard.dir+"util/c.utility.servertime",cUtilityCrypt:Lizard.dir+"util/c.utility.crypt",cUtility:Lizard.dir+"util/c.utility",cUtilityFlip:Lizard.dir+"util/c.utility.flip",Validate:Lizard.dir+"util/c.validate",cUtilityPath:Lizard.dir+"util/c.utility.path",cUtilityUtil:Lizard.dir+"util/c.utility.utils",cUtilityStateHistory:Lizard.dir+"util/c.utility.state.history",cUtilityPerformance:Lizard.dir+"util/c.utility.performance",cUtilityCacheView:Lizard.dir+"util/c.utility.cacheview",cPageParser:Lizard.dir+"page/c.page.parser",cAbstractStore:Lizard.dir+"store/c.abstract.store",cAbstractStorage:Lizard.dir+"store/c.abstract.storage",cStore:Lizard.dir+"store/c.local.store",cStorage:Lizard.dir+"store/c.local.storage",cSessionStore:Lizard.dir+"store/c.session.store",cSessionStorage:Lizard.dir+"store/c.session.storage",memStore:Lizard.dir+"store/c.memorystore",CommonStore:Lizard.dir+"store/c.common.store",PageStore:Lizard.dir+"store/c.store.package",cAbstractModel:Lizard.dir+"model/c.abstract.model",cModel:Lizard.dir+"model/c.model",cUserModel:Lizard.dir+"model/c.user.model",cMultipleDate:Lizard.dir+"model/c.multiple.data",cUI:Lizard.dir+"ui/c.ui",cUICore:Lizard.dir+"ui/c.ui.core",cHistory:Lizard.dir+"ui/c.ui.history",cUIView:Lizard.dir+"ui/c.ui.view",cDataSource:Lizard.dir+"ui/c.ui.datasource",cUIBase:Lizard.dir+"ui/c.ui.base",cUIAbstractView:Lizard.dir+"ui/c.ui.abstract.view",cUIAlert:Lizard.dir+"ui/c.ui.alert",cUIHeader:Lizard.dir+"ui/c.ui.header",cUIAnimation:Lizard.dir+"ui/c.ui.animation",cUICitylist:Lizard.dir+"ui/c.ui.citylist",cUIHeadWarning:Lizard.dir+"ui/c.ui.head.warning",cUIInputClear:Lizard.dir+"ui/c.ui.input.clear",cUILayer:Lizard.dir+"ui/c.ui.layer",cUILoading:Lizard.dir+"ui/c.ui.loading",cUILoadingLayer:Lizard.dir+"ui/c.ui.loading.layer",cUIMask:Lizard.dir+"ui/c.ui.mask",cUIPageview:Lizard.dir+"ui/c.ui.page.view",cUIScrollRadio:Lizard.dir+"ui/c.ui.scroll.radio",cUIScrollRadioList:Lizard.dir+"ui/c.ui.scroll.radio.list",cUIScrollList:Lizard.dir+"ui/c.ui.scrolllist",cUIToast:Lizard.dir+"ui/c.ui.toast",cUIWarning:Lizard.dir+"ui/c.ui.warning",cUIWarning404:Lizard.dir+"ui/c.ui.warning404",cUIHashObserve:Lizard.dir+"ui/c.ui.hash.observe",cUIEventListener:Lizard.dir+"ui/c.ui.event.listener",cUISwitch:Lizard.dir+"ui/c.ui.switch",cUIScroll:Lizard.dir+"ui/c.ui.scroll",cUINum:Lizard.dir+"ui/c.ui.num",cUIGroupList:Lizard.dir+"ui/c.ui.group.list",cUIBusinessGroupList:Lizard.dir+"ui/c.ui.business.group.list",cUITab:Lizard.dir+"ui/c.ui.tab",cUIImageSlider:Lizard.dir+"ui/c.ui.imageSlider",cUIBubbleLayer:Lizard.dir+"ui/c.ui.bubble.layer",cUILayerList:Lizard.dir+"ui/c.ui.layer.list",cUIIdentitycard:Lizard.dir+"ui/c.ui.identitycard",cUISidebar:Lizard.dir+"ui/c.ui.sidebar",cWidgetFactory:Lizard.dir+"widget/c.widget.factory",cWidgetHeaderView:Lizard.dir+"widget/c.widget.headerview",cWidgetListView:Lizard.dir+"widget/c.widget.listview",cWidgetTipslayer:Lizard.dir+"widget/c.widget.tipslayer",cWidgetInputValidator:Lizard.dir+"widget/c.widget.inputValidator",cWidgetPublisher:Lizard.dir+"widget/c.widget.publisher",cWidgetGeolocation:Lizard.dir+"widget/c.widget.geolocation",cWidgetAbstractCalendar:Lizard.dir+"widget/c.widget.abstract.calendar",cWidgetCalendar:Lizard.dir+"widget/c.widget.calendar",cWidgetCalendarPrice:Lizard.dir+"widget/c.widget.calendar.price",cWidgetSlide:Lizard.dir+"widget/c.widget.slide",cWidgetMember:Lizard.dir+"widget/c.widget.member",cWidgetGuider:Lizard.dir+"widget/c.widget.guider",cWidgetCaptcha:Lizard.dir+"widget/c.widget.captcha",cCalendar:Lizard.dir+"widget/c.calendar",cHolidayCalendar:Lizard.dir+"widget/c.holiday.calendar",cHolidayPriceCalendar:Lizard.dir+"widget/c.holiday.price.calendar",cBasePageView:Lizard.dir+"page/c.page.base",cCommonPageFactory:Lizard.dir+"page/c.page.factory",cCommonListPage:Lizard.dir+"page/c.page.common.list",cPageView:Lizard.dir+"page/c.page.view",cBI:Lizard.dir+"business/c.bi",cHybridFacade:Lizard.dir+"hybrid/c.hybrid.facade",cHybridShell:Lizard.dir+"hybrid/c.hybrid.shell",cShell:Lizard.dir+"shell/c.shell",cShell_CTRIP_MASTER:Lizard.dir+"shell/c.shell.ctrip.master",cShell_TECENT_WEIXIN:Lizard.dir+"shell/c.shell.tecent.weixin"},map:{"*":{cCommonStore:"CommonStore"}}}),a(),Lizard.isHybrid||Lizard.isInCtripApp||Lizard.app.code.is("GS"))if(window.appInstance=!1,window.localStorage.setItem("ISINAPP","1"),window.app={},n.isBeforeViewFinishedLoadInitApp&&c(),window.app.callback=function(a){var b={web_view_finished_load:function(){if(!Lizard.web_view_finished_load){if(Lizard.web_view_finished_load=1,window.localStorage){var b=a.param;b&&window.localStorage.setItem("APPINFO",JSON.stringify(b)),console.log("appInfo"),console.log(b)}!n.isBeforeViewFinishedLoadInitApp&&n.isViewFinishedLoadInitApp&&c(),CtripUtil.app_init_member_H5_info()}},init_member_H5_info:function(a){require(["libs","CommonStore"],function(b,d){window.appInstance=!0;var e=window.localStorage;if(e&&a){console.log("params"),console.log(a);var f=d.HeadStore.getInstance(),g=d.UserStore.getInstance(),h=d.UnionStore.getInstance(),i=f.get();if(a.userInfo)try{{g.getUser()}a.userInfo.data.BMobile=a.userInfo.data.BindMobile,g.setUser(a.userInfo.data),i.auth=a.userInfo.data.Auth}catch(j){alert("set data error")}else g.removeUser();if(a.device){var k={device:a.device};e.setItem("DEVICEINFO",JSON.stringify(k))}if(a.appId){var l={version:a.version,appId:a.appId,serverVersion:a.serverVersion,platform:a.platform};e.setItem("APPINFO",JSON.stringify(l))}if(a.timestamp){var m=new Date,o={server:a.timestamp,local:m.getTime()};e.setItem("SERVERDATE",JSON.stringify(o))}if(a.sourceId&&(i.sid=a.sourceId,e.setItem("SOURCEID",a.sourceId)),e.removeItem("isPreProduction"),a.isPreProduction&&e.setItem("isPreProduction",a.isPreProduction),a.clientID&&(i.cid=a.clientID,e.setItem("GUID",a.clientID)),a.extSouceID&&(i.xsid=a.extSouceID),a.platform&&(i.syscode="1"==a.platform?12:32),a.version&&(i.cver=a.internalVersion||a.version),a.allianceId&&a.sId){var p={AllianceID:a.allianceId,SID:a.sId,OUID:a.ouId?a.ouId:""};h.set(p)}f.set(i)}n.isBeforeViewFinishedLoadInitApp||n.isViewFinishedLoadInitApp||c(),e.setItem("CINFO",JSON.stringify(a))}),Lizard.networkType=a.networkStatus},app_h5_need_refresh:function(){c()}};a&&"function"==typeof b[a.tagname]&&b[a.tagname](a.param),n.isBeforeViewFinishedLoadInitApp?Lizard.facadeMethods={web_view_finished_load:b.web_view_finished_load,init_member_H5_info:b.init_member_H5_info}:n.isViewFinishedLoadInitApp&&(Lizard.facadeMethods={init_member_H5_info:b.init_member_H5_info})},Internal.isIOS||Internal.isAndroid||Internal.isWinOS);else{var f=function(){return"Win32"==window.navigator.platform}(),h=window.navigator.userAgent.indexOf("IEMobile")>-1?!0:!1;if(h&&(f=!1),!f)return;var j={tagname:"web_view_finished_load",param:{platform:"2",osVersion:"Android_18",extSouceID:"",version:"5.5"}};Internal.isAndroid="2"==j.param.platform,Internal.isInApp=!0,Internal.appVersion=j.param.version,Internal.osVersion=j.param.osVersion,window.localStorage&&(window.localStorage.clear(),j&&window.localStorage.setItem("APPINFO",JSON.stringify(j)),window.localStorage.setItem("ISINAPP","1")),window.Util_a={},window.Util_a.h5Log=function(a){console.log("h5Log::",a)
},window.Util_a.openUrl=function(a){console.log("h5Log::",a)},window.Locate_a={},window.Locate_a.locate=function(){},window.NavBar_a={},window.NavBar_a.setNavBarHidden=function(){},window.User_a={},window.User_a.initMemberH5Info=function(){},window.Util_a.checkNetworkStatus=function(){},window.Business_a={},window.Business_a.logGoogleRemarking=function(){},window.Business_a.sendUBTLog=function(){},window.app.callback({tagname:"web_view_finished_load"}),window.app.callback({tagname:"init_member_H5_info",param:{appId:"ctrip.android.view",clientID:"32043596200000129090",device:"samsung_GT-N7102",extSouceID:"",isPreProduction:"0",osVersion:"Android_18",platform:"2",serverVersion:"5.7",sourceId:"8892",timestamp:"1402930469100",userInfo:{data:{Auth:"",BMobile:"",BindMobile:"",IsNonUser:!0,UserID:""},timeby:1,timeout:"2015/06/16"},version:"5.5"}})}else c()});var s=!1;if(window.onpageshow=function(){s&&window.location.reload(),s=!0},window.LizardLocalroute){var t=Lizard.dir.substr(0,Lizard.dir.indexOf("lizard/webresource"));document.write("<SCRIPT src = '"+t+"basewidget/res/js/ui.loadFailed.js'></SCRIPT>"),document.write("<SCRIPT src = '"+t+"basewidget/res/js/ui.loading.js'></SCRIPT>")}window.getAppUITemplatePath=function(a){return Lizard.notpackaged&&(document.location.href.indexOf("172.16.140.104:5389")>0||document.location.href.indexOf("localhost")>0)?"text!"+Lizard.dir+"ui/"+a+".html":"text!ui/"+a+".html"}}.call(this),define("lizard.seed",function(){}),define("cMessageCenter",["cBase"],function(a){var b=a.Class({__propertys__:function(){this.msgGroup={}},initialize:function(){},_verify:function(a){if(!a)throw Error("参数错误");if(!a.namespace)throw Error("必须知道该消息的命名空间");if(!a.id)throw Error("该消息必须具备key值");if(!a.handler&&_.isFunction(a.handler))throw Error("该消息必须具备事件句柄")},register:function(a,b,c){var d={};_.isObject(a)?d=a:(d.namespace=a,d.id=b,d.handler=c),this._verify(d),this.msgGroup[d.namespace]||(this.msgGroup[d.namespace]={}),this.msgGroup[d.namespace][d.id]||(this.msgGroup[d.namespace][d.id]=[]),this.msgGroup[d.namespace][d.id].push(d.handler)},unregister:function(){var a=["clearMessageGroup","clearNamespace","clearObservers","removeObserver"],b=a[arguments.length];_.isFunction(b)&&b.call(this,arguments)},clearMessageGroup:function(){this.msgGroup={}},clearNamespace:function(a){this.msgGroup[a]&&(this.msgGroup[a]={})},clearObservers:function(a,b){this.msgGroup[a]&&this.msgGroup[a][b]&&(this.msgGroup[a][b]=[])},removeObserver:function(a,b,c){var d,e,f;if(this.msgGroup[a]&&this.msgGroup[a][b])for(f=this.msgGroup[a][b],d=0,e=f.length;e>d;d++)f[d]===c&&f[b].splice(d,1)},dispatch:function(a,b,c,d){var e,f,g;if(a&&b&&this.msgGroup[a]&&this.msgGroup[a][b])for(g=this.msgGroup[a][b],e=0,f=g.length;f>e;e++)_.isFunction(g[e])&&g[e].call(d||this,c)},MAP:{APP:"app",VIEW:"view",MODEL:"model",UI:"ui"}});return b.getInstance=function(){return this.instance||(this.instance=new b),this.instance},b.getInstance()}),define("cUIBase",[],function(){var a={};return a.config={prefix:"cui-"},a.setConfig=function(b,c){a.config[b]=c},a.getElementPos=function(a){var b=0,c=0;do b+=a.offsetTop,c+=a.offsetLeft;while(a=a.offsetParent);return{top:b,left:c}},a.getCreateId=function(){var b=(new Date).getTime();return function(){return a.config.prefix+ ++b}}(),a.getBiggerzIndex=function(){var a=3e3;return function(){return++a}}(),a.getCurStyleOfEl=function(a,b){if(document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(a).getPropertyValue(b);if(a.currentStyle){for(var c,d=b.split("-"),e=[],f=0;f<d.length;f++)0==f?e.push(d[f]):(c=d[f].split(""),c[0]=c[0].toUpperCase(),e.push(c.join("")));return e=e.join(""),a.currentStyle[e]}},a.bindthis=function(a,b){return function(){a.apply(b,arguments)}},a.strToNum=function(a){var b=parseInt(a.replace(/[a-z]/i,""));return isNaN(b)?0:b},a.getElementRealSize=function(a){var b=$(a);return{width:b.width(),height:b.height()}},a.getPageSize=function(){var a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:a,height:b}},a.getPageScrollPos=function(){var a=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),b=Math.max(document.documentElement.scrollTop,document.body.scrollTop),c=Math.min(document.documentElement.clientHeight,document.body.clientHeight),d=Math.min(document.documentElement.clientWidth,document.body.clientWidth),e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),f=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{top:b,left:a,height:c,width:d,pageWidth:e,pageHeight:f}},a.getMousePos=function(a){var b=Math.max(document.body.scrollTop,document.documentElement.scrollTop),c=Math.max(document.body.scrollLeft,document.documentElement.scrollLeft);return{top:b+a.clientY,left:c+a.clientX}},a.getMousePosOfElement=function(b,c){var d=a.getMousePos(b),e=a.getElementPos(c),f=c.clientWidth,g=c.clientHeight,h=d.left-e.left,i=d.top-e.top;return h=0>h?0:h>f?f:h,i=0>i?0:i>g?g:i,{x:h,y:i}},a.createElement=function(a,b){var c,d,e=document.createElement(a);if(b)for(c in b)switch(c){case"attr":if("object"==typeof b[c])for(d in b[c])null!=b[c][d]&&e.setAttribute(d,b[c][d]);break;case"styles":if("object"==typeof b[c])for(d in b[c])null!=b[c][d]&&(e.style[d]=b[c][d]);break;case"id":e.id=b[c];break;case"class":e.className=b[c];break;case"html":e.innerHTML=b[c]}return e},a}),define("cUIAbstractView",["libs","cBase","cUIBase"],function(a,b,c){var d=Array.prototype.slice,e=Array.prototype.push,f=Object.prototype.toString,g="notCreate",h="onCreate",i="onShow",j="onHide",k={};return k.__propertys__=function(){this.allowEvents={onCreate:!0,onShow:!0,onHide:!0},this.allowsPush={classNames:!0},this.allowsConfig={rootBox:!0},this.events={onCreate:[],onShow:[],onHide:[]},this.status=g,this.setOptionHander=[],this.rootBox,this.id=c.getCreateId(),this.classNames=[c.config.prefix+"view"],this.root,this.isCreate=!1,this.eventArr={}},k.bindEvents=function(){var a=this.eventArr;if(!a&&!(a=_.result(this,"events")))return this;this.unBindEvents();var b,c,d,e,f,g=/^(\S+)\s*(.*)$/;for(b in a)c=a[b],_.isFunction(c)||(c=this[a[b]]),c&&(d=b.match(g),e=d[1],f=d[2],c=_.bind(c,this),e+=".delegateUIEvents"+this.id,""===f?this.root.on(e,c):this.root.on(e,f,c));return this},k.unBindEvents=function(){return this.root.off(".delegateUIEvents"+this.id),this},k.initialize=function(a){this.setOption(function(a,b){switch(!0){case this.allowEvents[a]:this.addEvent(a,b);break;case this.allowsPush[a]:"[object Array]"===f.call(b)?e.apply(this[a],b):this[a].push(b);break;case this.allowsConfig[a]:this[a]=b}}),this.readOption(a)},k.readOption=function(a){a=a||{};var b=this;$.each(a,function(a,c){$.each(b.setOptionHander,function(d,e){"function"==typeof e&&e.call(b,a,c)})})},k.setOption=function(a){this.setOptionHander.push(a)},k.createRoot=function(){var a=document.createElement("div");return a.className=this.classNames.join(" "),a.id=this.id,$(a)},k.addClass=function(a){if(this.classNames.push(a),this.root)if("array"==typeof a)for(var b in a)this.root.addClass(a[b]);else"string"==typeof a&&this.root.addClass(a)},k.removeClass=function(a){if("array"==typeof a)for(var b in a)this.root.removeClass(a[b]);else"string"==typeof a&&this.root.removeClass(a)},k.createHtml=function(){throw new Error("未定义createHtml方法")},k.setRootHtml=function(a){this.root&&(this.root.empty(),this.root.append(a))},k.getRoot=function(){return this.root},k.addEventType=function(a){this.allowEvents[a]=!0,this.events[a]=[]},k.addEvent=function(a,b){return this.allowEvents[a]?void(this.events[a]&&this.events[a].push(b)):!1},k.removeEvent=function(a,b){this.events[a]&&(this.events[a]=b?_.without(this.events[a],b):[])},k.remove=function(){this.hide(),this.root.remove()},k.trigger=function(a){var b,c,e=d.call(arguments,1),f=this.events,g=[];if(this.events[a])for(b=0,c=f[a].length;c>b;b++)g[g.length]=f[a][b].apply(this,e);return g},k.create=function(){this.isCreate||this.status===h||(this.rootBox=this.rootBox||$("body"),this.root=this.createRoot(),this.root.hide(),this.rootBox.append(this.root),this.root.append(this.createHtml()),this.trigger("onCreate"),this.status=h,this.isCreate=!0)},k.template=function(a){return _.template(a)},k.showAction=function(a){this.bindEvents(),this.root.show(),"function"==typeof a&&a()},k.hideAction=function(a){this.unBindEvents(),this.root.hide(),"function"==typeof a&&a()},k.setzIndexTop=function(a){a="number"!=typeof a?0:a,this.root.css("z-index",c.getBiggerzIndex()+a)},k.isNotCreate=function(){return this.status===g},k.isShow=function(){return this.status===i},k.isHide=function(){return this.status===j},k.show=function(a){this.status!==i&&(this.create(),this.showAction($.proxy(function(){this.trigger("onShow"),this.status=i,a&&a.call(this)},this)))},k.hide=function(a){this.root&&this.status!==j&&this.hideAction($.proxy(function(){this.trigger("onHide"),this.status=j,a&&a.call(this)},this))},k.reposition=function(){this.root.css({"margin-left":-($(this.root).width()/2)+"px","margin-top":-($(this.root).height()/2)+"px"})},b.Class(k)}),define("cUIMask",["libs","cBase","cUIAbstractView"],function(a,b,c){var d={},e={prefix:"cui-"};return d.__propertys__=function(){},d.initialize=function($super,a){this.bindEvent(),this.addClass(e.prefix+"mask"),$super(a)},d.bindEvent=function(){this.addEvent("onCreate",function(){this.setRootStyle(),this.onResize=$.proxy(function(){this.resize()},this),this.onResize()}),this.addEvent("onShow",function(){this.setzIndexTop(-1),$(window).bind("resize",this.onResize),this.root.bind("touchmove",function(a){a.preventDefault()}),this.onResize()}),this.addEvent("onHide",function(){$(window).unbind("resize",this.onResize),this.root.unbind("touchmove")})},d.setRootStyle=function(){this.root.css({position:"absolute",left:"0px",top:"0px"})},d.createHtml=function(){return"<div></div>"},d.resize=function(){var a=(Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),Math.max(document.documentElement.scrollHeight,document.body.scrollHeight));this.root.css({width:"100%",height:a+"px"})},new b.Class(c,d)}),define("cUILayer",["libs","cBase","cUIAbstractView","cUIMask"],function(a,b,c,d){var e={},f={prefix:"cui-"};return e.__propertys__=function(){this.tpl=this.template(['<div class="'+f.prefix+'layer-padding">','<div class="'+f.prefix+'layer-content"><%=content%></div>',"</div>"].join("")),this.content="",this.contentDom,this.mask=new d({classNames:[f.prefix+"opacitymask"]}),this.addClass(f.prefix+"layer"),this.viewdata={},this.windowResizeHander,this.setIntervalResource,this.setIntervalTotal=0},e.initialize=function($super,a){var b={content:!0};this.setOption(function(a,c){switch(!0){case b[a]:this[a]=c;break;case"class"===a:this.addClass(c)}}),this.bindEvent(),$super(a),this.loadViewData()},e.loadViewData=function(){this.viewdata.content=this.content},e.setViewData=function(a){this.viewdata=cUtility.mix(this.viewdata,a),this.setRootHtml(this.createHtml())},e.bindEvent=function(){this.addEvent("onCreate",function(){this.windowResizeHander=$.proxy(this.reposition,this),this.contentDom=this.root.find("."+f.prefix+"layer-content")}),this.addEvent("onShow",function(){this.mask.show(),$(window).bind("resize",this.windowResizeHander),this.reposition(),this.setIntervalResource=setInterval($.proxy(function(){this.setIntervalTotal<10?this.windowResizeHander():(this.setIntervalTotal=0,this.root.css("visibility","visible"),clearInterval(this.setIntervalResource)),this.setIntervalTotal++},this),1),this.setzIndexTop(),$("html").addClass("noneTouch")}),this.addEvent("onHide",function(){$(window).unbind("resize",this.windowResizeHander),clearInterval(this.setIntervalResource),this.root.css("visibility","visible"),this.mask.hide(),$("html").removeClass("noneTouch")})},e.createHtml=function(){return this.tpl(this.viewdata)},e.maskToHide=function(a){this.mask.root.on("click",$.proxy(function(){this.hide(),"function"==typeof a&&a(),this.mask.root.off("click")},this)),this.mask.addEvent("onHide",function(){this.root.off("click"),this.root.remove()})},new b.Class(c,e)}),define("cUILoading",["libs","cBase","cUILayer"],function(a,b,c){var d={},e={prefix:"cui-"},f={};return f["class"]=e.prefix+"loading",f.onCreate=function(){},f.onShow=function(){this.contentDom.html('<div class="cui-breaking-load"><div class="cui-i cui-w-loading"></div><div class="cui-i cui-m-logo"></div></div>'),this.reposition()},d.__propertys__=function(){this.contentDom,this.loadHtml=""},d.initialize=function($super){$super(f)},d.setHtml=function(a){this.loadHtml=a},new b.Class(c,d)}),define("cUIHashObserve",["libs","cBase"],function(a,b){var c={};return c.__propertys__=function(){this.hash,this.callback,this._hashchange=$.proxy(function(){this.hashchange()},this),this.isend=!0,this.scope},c.initialize=function(a){this.setOption(a)},c.setOption=function(a){var b={hash:!0,callback:!0,scope:!0};for(var c in a)switch(!0){case b[c]:this[c]=a[c]}},c.start=function(){window.Lizard&&(Lizard.hashObserveCount?Lizard.hashObserveCount++:Lizard.hashObserveCount=1,Lizard.stopStateWatch=!0),this.isend=!1,window.location.hash+="|"+this.hash,$(window).bind("hashchange",this._hashchange)},c.end=function(){$(window).unbind("hashchange",this._hashchange),this.isend||(this.isend=!0,window.history.go(-1)),Lizard.hashObserveCount&&Lizard.hashObserveCount--,window.Lizard&&!Lizard.hashObserveCount&&setTimeout(function(){Lizard.stopStateWatch=!1},200)},c.hashchange=function(){var a=window.location.hash;a.match(new RegExp("\\b"+this.hash+"\\b","ig"))||(this.isend=!0,this.callback.call(this.scope||this),this.end())},new b.Class(c)}),define("cUIPageview",["libs","cBase","cUIAbstractView","cUIMask","cUIHashObserve"],function(a,b,c,d,e){var f={},g={prefix:"cui-"};return f.__propertys__=function(){this.mask=new d({classNames:[g.prefix+"warning-mask"]}),this.hashObserve=new e({hash:this.id,scope:this,callback:function(){this.hide()}})},f.initialize=function($super,a){this.addClass(g.prefix+"pageview"),this.addEvent("onCreate",function(){this.mask.create(),this.mask.root.css({background:"url(data:image/gif;base64,R0lGODlhAQABAIAAAPX19QAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==) repeat"}),this.root.css({position:"absolute",left:"0px",top:"0px"})}),this.addEvent("onShow",function(){this.mask.show(),this.hashObserve.start(),this.root.bind("touchmove",function(a){a.preventDefault()})}),this.addEvent("onHide",function(){this.mask.hide(),setTimeout($.proxy(function(){this.hashObserve.end()},this),10)}),$super(a)},f.createHtml=function(){return""},new b.Class(c,f)}),define("cWidgetFactory",["libs"],function(){var a=a||{};return a.products={},a.hasWidget=function(b){return!!a.products[b]},a.register=function(b){if(!(b&&b.name&&b.fn))throw"WidgetFactory: widget is lack of necessary infomation.";if(a.products[b.name])throw"WidgetFactory: widget has been register in WidgetFactory";a.products[b.name]=b.fn},a.create=function(b){return a.products[b]},a}),define("cHybridShell",[],function(){var a={},b=window;a.CLASSES=[];for(var c in b)"Ctrip"==c.substr(0,5)&&a.CLASSES.push(b[c]);a.FNINFO={abort_http_pipe_request:{realname:"app_abort_HTTP_pipe_request"},do_business_job:{sidIndex:3},send_h5_pipe_request:{realname:"app_send_H5_pipe_request"},send_http_pipe_request:{realname:"app_send_HTTP_pipe_request"}},a.fninfo=function(b){var c=d.ifHasnot(a.FNINFO,b,{});return c._READY||(d.ifHasnot(c,"realname","app_"+b),c.hasOwnProperty("klass")||(c.klass=_.find(a.CLASSES,function(a){return!!a[c.realname]})),c._READY=!0),c};var d={EXCEPTION:new Error("HYBRID-SHEL-2014"),SN:{DEFAULT:0,UPON:"UPON.2014",PRE:"PRE.2014",POST:"POST.2014",PX:"PX.2014",gen:function(){return(new Date).getTime()}},abort:function(a){if(a){if(a==d.EXCEPTION)return!0;throw a}throw d.EXCEPTION},apiFn:function(b){var c=function(){},e=a.fninfo(b);return e.klass&&(c=function(){var a=arguments,c=!1;_.find(d.fn("find",b,d.SN.PRE),function(b){try{a=b.apply(null,a)}catch(c){return d.abort(c)}}),c||e.klass[e.realname].apply(e.klass,a)}),c},fn:function(){var a={};return function(c,e,f,g){!g&&f instanceof Function&&(g=f,f=void 0),f||(f=d.SN.DEFAULT);var h,i,j;switch(h=d.ifHasnot(a,e,{}),h=d.ifHasnot(h,f,{fns:[],times:[]}),i=_.indexOf(h.fns,g),j=0>i?0:h.times[i],c){case"on":case"once":return void(g&&(j="once"==c?1:b.Infinity,0>i&&(i=h.fns.length),h.times[i]=j,h.fns[i]=g));case"find":return h.fns;case"try":return h.times[i]=--j,void(0==j&&(arguments[0]="off",d.fn.apply(d,arguments)));case"off":if(g){var k=function(a,b){return _.union(_.first(a,b),_.rest(a,b+1))};h.fns=k(h.fns,i),h.times=k(h.times,i)}else h.fns=[],h.times=[];return}}}(),ifHasnot:function(a,b,c){return a.hasOwnProperty(b)||(a[b]=c),a[b]}},e={abort:d.abort,fn:function(a,b,c){this.on(a,b,c);var e=d.apiFn(a);return e.run=e,e},init:_.once(function(){b.app||(b.app={}),b.app.callback=function(c){var e,f;if("string"==typeof c)try{c=JSON.parse(decodeURIComponent(c))}catch(g){return}var h=c.tagname;if(e=a.fninfo(h).paramsMixed?c:c.param,"string"==typeof e)try{e=JSON.parse(e)}catch(g){}c.error_code&&(/^(\((-?\d+)\))?(.+)$/.exec(c.error_code),f=new Error,f.number=parseInt(RegExp.$2),f.message=RegExp.$3);var i,j=e?e.sequenceId:void 0,k=d.fn("find",h,d.SN.UPON),l=d.fn("find",h,d.SN.POST),m=d.fn("find",h,j),n=!1;if(b.Lizard&&"2.0"==b.Lizard.version&&(i=b.Lizard.facadeMethods,i&&(i=i[h]),"function"==typeof i?m=m.concat(i):i=void 0),k.length+m.length){_.find(l,function(a){try{e=a(e,f)}catch(b){return d.abort(b)}});var o=function(a,b){return d.fn("try",h,a,b),n=b(e,f)===!1};return n||_.find(k,function(a){return o(d.SN.UPON,a)}),n||_.find(m,function(a){return o(j,a)}),i&&k.length+m.length==1?void 0:!0}}}),on:function(a,b,c){return d.fn("on",a,b,c),this},once:function(a,b,c){return d.fn("once",a,b,c),this},preTreat:function(a,b){return d.fn("on",a,d.SN.PRE,b),this},postTreat:function(a,b){return d.fn("on",a,d.SN.POST,b),this},off:function(a,b,c){return d.fn("off",a,b,c),this},upon:function(a,b){return d.fn("on",a,d.SN.UPON,b),this},Fn:function(){var b,c,f;return function(g,h){return this===e?new this.Fn(g,h):(b=g,f=a.fninfo(b).sidIndex,_.isNumber(f)?c=d.SN.gen():e.off(g),e.once(g,c,h),_.each(["on","once","off"],function(a){this[a]=function(d){return e[a](b,c,d),this}},this),void(this.run=function(){var a=arguments;if(_.isNumber(f)){a=[];for(var e=0,g=Math.max(f+1,arguments.length);g>e;e++)e==f&&a.push(c),a.push(arguments[e])}return d.apiFn(b).apply(null,a),this}))}}()};return e}),define("cHybridFacade",["cHybridShell","CommonStore"],function(a,b){"use strict";var c={ABORT_HTTP_PIPE_REQUEST:{argnames:["sequenceId"]},ADD_WEIXIN_FRIEND:{},APP_CALL_SYSTEM_SHARE:{argnames:["imageRelativePath","text","title","linkUrl","isIOSSystemShare"]},APP_CHECK_ANDROID_PACKAGE_INFO:{},APP_CHECK_NETWORK_STATUS:{},APP_CHOOSE_INVOICE_TITLE:{argnames:["title"]},APP_CHOOSE_PHOTO:{argnames:[{maxFileSize:200},{maxPhotoCount:1},{meta:{canEditSinglePhoto:!1}}]},APP_FINISHED_LOGIN:{argnames:["userInfo"]},APP_FINISHED_REGISTER:{argnames:["userInfo"]},APP_GET_DEVICE_INFO:{},APP_LOG_GOOGLE_REMARKTING:{argnames:[{url:function(){return window.location.href}}]},APP_NETWORK_DID_CHANGED:{},APP_READ_VERIFICATION_CODE_FROM_SMS:{},APP_SHOW_MAP_WITH_POI_LIST:{tagname:"show_map_with_POI_list",argnames:["poiList"]},APP_SHOW_VOICE_SEARCH:{argnames:["bussinessType"]},AUTO_LOGIN:{tagname:"member_auto_login"},BACK:{},BACK_TO_BOOK_CAR:{},BACK_TO_HOME:{},BACK_TO_LAST_PAGE:{argnames:[{param:""}]},BECOME_ACTIVE:{},CALL_PHONE:{argnames:["tel"]},CALL_SERVICE_CENTER:{argnames:[{tel:""},{pageId:""},{businessCode:""}],tagname:"call_phone"},CHECK_APP_INSTALL:{tagname:"check_app_install_status",argnames:["url","package"]},CHECK_FILE_EXIST:{argnames:["fileName","relativeFilePath"]},CHECK_PAY_APP_INSTALL_STATUS:{},CHECK_UPDATE:{},CHOOSE_CONTACT_FROM_ADDRESSBOOK:{},CITY_CHOOSE:{tagname:"cityChoose"},COMMIT:{},COPY_TO_CLIPBOARD:{tagname:"copy_string_to_clipboard",argnames:["content"]},CROSS_DOMAIN_HREF:{argnames:["moduleType","anchor","param"]},CROSS_JUMP:{tagname:"cross_package_href",argnames:["path","param"]},DELETE_FILE:{argnames:["fileName","relativeFilePath"]},DOWNLOAD_DATA:{argnames:["url","suffix"]},ENABLE_DRAG_ANIMATION:{argnames:["show"]},ENCRYPT_BASE64:{tagname:"base64_encode",argnames:["info"]},ENCRYPT_CTRIP:{tagname:"ctrip_encrypt",argnames:["inString","encType"]},ENTRY:{},FAVORITE:{},FAVORITED:{},GET_CURRENT_SANDBOX_NAME:{},GET_FILE_SIZE:{argnames:["fileName","relativeFilePath"]},GO_TO_BOOK_CAR_FINISHED_PAGE:{argnames:["url"]},GO_TO_HOTEL_DETAIL:{argnames:["hotelId","hotelName","cityId","isOverSea"]},H5_NEED_REFRESH:{},H5_PAGE_FINISH_LOADING:{},HIDE_LOADING_PAGE:{},INIT:{tagname:"init_member_H5_info"},LOCATE:{argnames:[[3e3],[!0]],parseCallback:function(a){return function(b){try{a.success(b)}catch(c){a.error(b)}}}},LOG_EVENT:{argnames:["event_name"]},MAKE_DIR:{argnames:["dirname","relativeFilePath"]},MEMBER_LOGIN:{argnames:["isShowNonMemberLogin"]},NATIVE_LOG:{tagname:"log"},NON_MEMBER_LOGIN:{},OPEN_ADV_PAGE:{argnames:["url"]},OPEN_PAY_APP_BY_URL:{argnames:["payAppName","payURL","successRelativeURL","detailRelativeURL"]},OPEN_URL:{argnames:["openUrl","targetMode",{title:""},{pageName:""},{isShowLoadingPage:!1}]},PHONE:{},READ_FROM_CLIPBOARD:{tagname:"read_copied_string_from_clipboard"},READ_TEXT_FROM_FILE:{argnames:["fileName","relativeFilePath"]},RECOMMEND_APP_TO_FRIEND:{tagname:"recommend_app_to_friends"},REFRESH_NATIVE:{tagname:"refresh_native_page",argnames:["package","json"]},REFRESH_NAV_BAR:{argnames:["config"]},REGISTER:{tagname:"member_register"},SAVE_PHOTO:{argnames:["photoUrl","photoBase64String","imageName"]},SEARCH:{},SEND_H5_PIPE_REQUEST:{argnames:["serviceCode","header","data","sequenceId",{pipeType:""}]},SEND_HTTP_PIPE_REQUEST:{argnames:["target","methods","header","queryData","retryInfo","sequenceId"]},SET_NAVBAR_HIDDEN:{argnames:["isNeedHidden"]},SET_TOOLBAR_HIDDEN:{argnames:["isNeedHidden"]},SHARE:{},SHARE_TO_VENDOR:{tagname:"call_system_share",argnames:["imgUrl","text",{title:""},{linkUrl:""},{isIOSSystemShare:!1}]},SHOW_LOADING_PAGE:{},SHOW_MAP:{argnames:["latitude","longitude","title","subtitle"]},SHOW_NEWEST_INTRODUCTION:{},WEB_VEW_DID_APPEAR:{tagname:"web_view_did_appear"},WEB_VIEW_DID_APPEAR:{},WEB_VIEW_FINISHED_LOAD:{},WRITE_TEXT_TO_FILE:{argnames:["text","fileName","relativeFilePath","isAppend"]}},d={methodInfo:function(a){var b=c[a];return b.tagname||(b.tagname=a.toLowerCase().replace(/^app_/,"")),b},name2var:function(a){return"METHOD_"+a},var2name:function(a){return a.substr(7)},var2tagname:function(a){var b=d.var2name(a),c=d.methodInfo(b);return c.tagname}},e={init:function(){var c=e.init;if(!c.called){c.called=!0,a.init();var d,f,g;f=function(b,c){return window.localStorage.getItem("isPreProduction")||a.abort(),["@[Wireless H5] "+b,c]},a.preTreat("log",f),d=function(a){if(a&&a.data){{var c=b.UserStore.getInstance();c.getUser()}c.setUser(a.data);var d=b.HeadStore.getInstance(),e=d.get();e.auth=a.data.Auth,d.set(e)}},a.upon("init_member_H5_info",d).upon("member_auto_login",d).upon("member_login",d).upon("member_register",d).upon("non_member_login",d),d=function(a){if("undefined"!=typeof a){var c=b.UserStore.getInstance(),d=b.HeadStore.getInstance(),e=d.get(),f={SERVERDATE:a.timestamp,SOURCEID:a.sourceId,isPreProduction:a.isPreProduction,GUID:a.clientID};if(a.device&&(f.DEVICEINFO=JSON.stringify({device:a.device})),a.appId&&(f.APPINFO=JSON.stringify({version:a.version,appId:a.appId,serverVersion:a.serverVersion,platform:a.platform})),a.userInfo)try{{c.getUser()}a.userInfo.data.BMobile=a.userInfo.data.BindMobile,c.setUser(a.userInfo.data),e.auth=a.userInfo.data.Auth}catch(g){alert("set data error")}else c.removeUser();a.clientID&&(e.cid=a.clientID),d.set(e),_.each(f,function(a,b){a&&window.localStorage.setItem(b,a)})}},a.upon("init_member_H5_info",d),d=function(a){Lizard.networkType=a.networkType},a.on("network_did_changed",d).fn("check_network_status",d)(),g=function(a,b){return a||(a={}),b&&(a.error_code=b.number),a},a.postTreat("save_photo",g)}},getOpenUrl:function(a){var b=(Internal&&Internal.isYouthApp?"ctripyouth":"ctrip")+"://wireless/"+a.module+"?",c=[];for(var d in a.param)c.push(d+"="+a.param[d]);return b+c.join("&")},register:function(b){try{var c=d.var2tagname(b.tagname)}catch(e){return}a.off(c,b.sequenceId).on(c,b.sequenceId,b.callback)},registerOne:function(a,b){c[d.var2name(a)]={tagname:b}},request:function(b){var c=d.methodInfo(d.var2name(b.name)),e=[];c.parseArgs?e=c.parseArgs(b):c.argnames&&_.each(c.argnames,function(a){var c;if(_.isString(a))c=b[a];else if(_.isArray(a))c=a[0];else{{var d=_.pairs(a)[0];typeof d[1]}c=b[d[0]],"function"==typeof d[1]?c=d[1](c):c||(c=d[1])}e.push(c)});var f=c.parseCallback?c.parseCallback(b):b.callback;a.off(c.tagname,b.sequenceId).fn(c.tagname,b.sequenceId,f).apply(null,e)},unregister:function(b){"object"==typeof arguments[0]&&(b=arguments[0].tagname),a.off(b)}};return _.each(c,function(a,b){var c=d.name2var(b);e[c]=c}),e}),define("cWidgetGuider",["cUtilityHybrid","cWidgetFactory","cHybridFacade","cHybridShell","cUtilityPath"],function(a,b,c,d,e){function f(a){var b={};return _.each(a,function(c,d){_.isFunction(c)?b[d]=function(){return!1}:_.isObject(c)&&(b[d]=f(a[d]))}),b}var g="Guider",h={jump:function(a){var b={refresh:function(){c.request({name:c.METHOD_OPEN_URL,targetMode:0,title:a.title,pageName:a.pageName})},app:function(){if(a&&a.module){var b=c.getOpenUrl(a);c.request({name:c.METHOD_OPEN_URL,openUrl:b,targetMode:1,title:a.title,pageName:a.pageName})}else a&&a.url&&c.request({name:c.METHOD_OPEN_URL,openUrl:a.url,targetMode:1,title:a.title,pageName:a.pageName})},h5:function(){a&&a.url&&c.request({name:c.METHOD_OPEN_URL,openUrl:a.url,targetMode:2,title:a.title,pageName:a.pageName,isShowLoadingPage:a.isShowLoadingPage})},browser:function(){a&&a.url&&c.request({name:c.METHOD_OPEN_URL,openUrl:a.url,targetMode:3,title:a.title,pageName:a.pageName,isShowLoadingPage:a.isShowLoadingPage})},open:function(){a&&a.url&&c.request({name:c.METHOD_OPEN_URL,openUrl:a.url,targetMode:4,title:a.title,pageName:a.pageName,isShowLoadingPage:a.isShowLoadingPage})},open_relative:function(){a&&a.url&&c.request({name:c.METHOD_OPEN_URL,openUrl:a.url,targetMode:5,title:a.title,pageName:a.pageName,isShowLoadingPage:a.isShowLoadingPage})}};"function"==typeof b[a.targetModel]&&b[a.targetModel]()},apply:function(a){_.isObject(a)&&_.isFunction(a.hybridCallback)&&a.hybridCallback()},call:function(){return!1},init:function(a){c.request(a&&window.parseFloat(a.version)<5.2?{name:c.METHOD_ENTRY,callback:a.callback}:{name:c.METHOD_INIT,callback:a.callback})},log:function(a){c.request({name:c.METHOD_LOG_EVENT,event_name:a.name})},print:function(a){c.request({name:c.METHOD_NATIVE_LOG,log:a.log,result:a.result})},callService:function(a){var b,d,e,f;Lizard&&Lizard.instance&&Lizard.instance.curView&&(b=Lizard.instance.curView),d=a&&a.businessCode||b&&b.businessCode||"",e=a&&a.tel||"",f=a&&a.pageId||b&&b.hpageid||"",c.request(d?{name:c.METHOD_CALL_SERVICE_CENTER,tel:e,pageId:f,businessCode:d}:{name:c.METHOD_CALL_SERVICE_CENTER})},backToLastPage:function(a){var b=a?a.param:"";c.request({name:c.METHOD_BACK_TO_LAST_PAGE,param:b})},checkUpdate:function(){c.request({name:c.METHOD_CHECK_UPDATE})},recommend:function(){c.request({name:c.METHOD_RECOMMEND_APP_TO_FRIEND})},addWeixinFriend:function(){c.request({name:c.METHOD_ADD_WEIXIN_FRIEND})},showNewestIntroduction:function(){c.request({name:c.METHOD_SHOW_NEWEST_INTRODUCTION})},register:function(a){a&&a.tagname&&a.callback&&c.register({tagname:a.tagname,callback:a.callback})},create:function(){c.init()},home:function(){c.request({name:c.METHOD_BACK_TO_HOME})},jumpHotel:function(a){c.request({name:c.METHOD_GO_TO_HOTEL_DETAIL,hotelId:a.hotelId,hotelName:a.name,cityId:a.cityId,isOverSea:a.isOverSea})},injectUbt:function(){return!1},checkAppInstall:function(a){c.request({name:c.METHOD_CHECK_APP_INSTALL,url:a.url,"package":a["package"],callback:a.callback})},callPhone:function(a){c.request({name:c.METHOD_CALL_PHONE,tel:a.tel})},cross:function(a){c.request({name:c.METHOD_CROSS_JUMP,param:a.param,path:a.path})},refreshNative:function(a){c.request({name:c.METHOD_REFRESH_NATIVE,"package":a["package"],json:a.json})},copyToClipboard:function(a){c.request({name:c.METHOD_COPY_TO_CLIPBOARD,content:a.content})},readFromClipboard:function(a){c.request({name:c.METHOD_READ_FROM_CLIPBOARD,callback:a.callback})},shareToVendor:function(a){c.request({name:c.METHOD_SHARE_TO_VENDOR,imgUrl:a.imgUrl,text:a.text,title:a.title,linkUrl:a.linkUrl,isIOSSystemShare:a.isIOSSystemShare})},downloadData:function(a){c.request({name:c.METHOD_DOWNLOAD_DATA,url:a.url,callback:a.callback,suffix:a.suffix})},encode:function(a){a&&"base64"===a.mode&&c.request({name:c.METHOD_ENCRYPT_BASE64,callback:a.callback,info:a.info})},chooseContactFromAddressbook:function(a){c.request({name:c.METHOD_CHOOSE_CONTACT_FROM_ADDRESSBOOK,callback:a.callback})},hideLoadingPage:function(){c.request({name:c.METHOD_HIDE_LOADING_PAGE})},showLoadingPage:function(){c.request({name:c.METHOD_SHOW_LOADING_PAGE})},choose_invoice_title:function(a){c.request({name:c.METHOD_APP_CHOOSE_INVOICE_TITLE,callback:a.callback,title:a.title})},get_device_info:function(a){c.request({name:c.METHOD_APP_GET_DEVICE_INFO,callback:a.callback})},show_voice_search:function(a){c.request({name:c.METHOD_APP_SHOW_VOICE_SEARCH,bussinessType:a.bussinessType})},choose_photo:function(a){c.request({name:c.METHOD_APP_CHOOSE_PHOTO,maxFileSize:a.maxFileSize,maxPhotoCount:a.maxPhotoCount,meta:a.meta,callback:a.callback})},finished_register:function(a){c.request({name:c.METHOD_APP_FINISHED_REGISTER,userInfo:a.userInfo})},app_call_system_share:function(a){c.request({name:c.METHOD_APP_CALL_SYSTEM_SHARE,imageRelativePath:a.imageRelativePath,text:a.text,title:a.title,linkUrl:a.linkUrl})},app_check_network_status:function(a){c.request({name:c.METHOD_APP_CHECK_NETWORK_STATUS,callback:a.callback})},app_check_android_package_info:function(a){c.request({name:c.METHOD_APP_CHECK_ANDROID_PACKAGE_INFO,callback:a.callback})},app_log_google_remarkting:function(a){c.request({name:c.METHOD_APP_LOG_GOOGLE_REMARKTING,url:a})},app_read_verification_code_from_sms:function(a){c.request({name:c.METHOD_APP_READ_VERIFICATION_CODE_FROM_SMS,callback:a.callback})},app_h5_page_finish_loading:function(){c.request({name:c.METHOD_H5_PAGE_FINISH_LOADING})},enable_drag_animation:function(a){c.request({name:c.METHOD_ENABLE_DRAG_ANIMATION,show:a.show})},save_photo:function(a){a.photoUrl||(a.photoUrl=null),a.photoBase64String||(a.photoBase64String=null),a.name=c.METHOD_SAVE_PHOTO,c.request(a)}};h.file={isFileExist:function(a){c.request({name:c.METHOD_CHECK_FILE_EXIST,callback:a.callback,fileName:a.fileName,relativeFilePath:a.relativeFilePath})},deleteFile:function(a){c.request({name:c.METHOD_DELETE_FILE,callback:a.callback,fileName:a.fileName,relativeFilePath:a.relativeFilePath})},getCurrentSandboxName:function(a){c.request({name:c.METHOD_GET_CURRENT_SANDBOX_NAME,callback:a.callback})},getFileSize:function(a){c.request({name:c.METHOD_GET_FILE_SIZE,callback:a.callback,fileName:a.fileName,relativeFilePath:a.relativeFilePath})},makeDir:function(a){c.request({name:c.METHOD_MAKE_DIR,callback:a.callback,dirname:a.dirname,relativeFilePath:a.relativeFilePath})},readTextFromFile:function(a){c.request({name:c.METHOD_READ_TEXT_FROM_FILE,callback:a.callback,fileName:a.fileName,relativeFilePath:a.relativeFilePath})},writeTextToFile:function(a){c.request({name:c.METHOD_WRITE_TEXT_TO_FILE,callback:a.callback,text:a.text,isAppend:a.isAppend,fileName:a.fileName,relativeFilePath:a.relativeFilePath})}},h.pipe={socketRequest:function(a){var b=Date.now();return c.request({name:c.METHOD_SEND_H5_PIPE_REQUEST,callback:a.callback,serviceCode:a.serviceCode,header:a.header,data:a.data,sequenceId:b,pipeType:a.pipeType}),b},httpRequest:function(a){var b=Date.now();return c.request({name:c.METHOD_SEND_HTTP_PIPE_REQUEST,callback:a.callback,target:a.url,method:a.method,header:a.header,queryData:a.param,retryInfo:a.retry,sequenceId:b}),b
},abortRequest:function(a){c.request({name:c.METHOD_ABORT_HTTP_PIPE_REQUEST,sequenceId:a.id})},abortSocketRequest:function(a){c.unregister({name:c.METHOD_SEND_H5_PIPE_REQUEST,sequenceId:a})}},h.pay={checkStatus:function(a){c.request({name:c.METHOD_CHECK_PAY_APP_INSTALL_STATUS,callback:a.callback})},payOut:function(a){c.request({name:c.METHOD_OPEN_PAY_APP_BY_URL,payAppName:a.payAppName,payURL:a.payURL,successRelativeURL:a.successRelativeURL,detailRelativeURL:a.detailRelativeURL})},callPay:function(a){if(console.log("before options: "+a.param),!Lizard.isInCtripApp)try{var b="file://webapp/",c=/(token=)([^&]*)/i,f=a.param,g=f.match(c)[2],h=CtripTool.base64Decode(decodeURIComponent(g));console.log("before paramStr: "+h);var i=JSON.parse(h);i.from=e.formatHybridUrl(i.from,b),i.rback=e.formatHybridUrl(i.rback,b),i.sback=e.formatHybridUrl(i.sback,b),i.eback=e.formatHybridUrl(i.eback,b);var j=JSON.stringify(i);console.log("after paramStr: "+j),j=encodeURIComponent(CtripTool.base64Encode(j)),a.param=f.replace(g,j),console.log("after options: "+a.param)}catch(k){}d.Fn("call_pay").run(a)}},h.encrypt={ctrip_encrypt:function(a){c.request({name:c.METHOD_ENCRYPT_CTRIP,callback:a.callback,inString:a.inStr,encType:1})},ctrip_decrypt:function(a){c.request({name:c.METHOD_ENCRYPT_CTRIP,callback:a.callback,inString:a.inStr,encType:2})}};var i=f(h);i=_.extend(i,{jump:function(a){a&&a.url&&"string"==typeof a.url&&(window.location.href=a.url)},apply:function(a){a&&a.callback&&"function"==typeof a.callback&&a.callback()},call:function(a){var b=document.getElementById("h5-hybrid-caller");return a&&a.url?void(b&&b.src==a.url?b.contentDocument.location.reload():b&&b.src!=a.url?b.src=a.url:(b=document.createElement("iframe"),b.id="h5-hybrid-caller",b.src=a.url,b.style.display="none",document.body.appendChild(b))):!1},log:function(a){window.console&&window.console.log(a.name)},print:function(a){return console.log(a.log,a.result)},callService:function(){window.location.href="tel:4000086666"},backToLastPage:function(){window.location.href=document.referrer},home:function(){window.location.href="/"},create:function(){c.init()}}),i.encrypt={ctrip_encrypt:function(){return!1},ctrip_decrypt:function(){return!1}},b.register({name:g,fn:a.isInApp()&&!Lizard.app.code.is("GS")?h:i})}),define("cUIWarning404",["libs","cBase","cUIPageview","cWidgetFactory","cWidgetGuider"],function(a,b,c,d){var e=d.create("Guider"),f={},g={prefix:"cui-"},h={};h["class"]=g.prefix+"warning",h.onCreate=function(){this.options()},h.onShow=function(){this.mask.root.css({"z-index":"1000"}),this.root.css({"z-index":"1001"}),window.scrollTo(0,0)},h.onHide=function(){this.options({})},f.__propertys__=function(){this.retryDom,this.tel="4000086666",this.callback=function(){},this.hashObserve={start:function(){},end:function(){}}},f.initialize=function($super,a){$super(h,a)},f.retryClick=function(a){a&&(this.callback=a)};var i={loadFailCls:"cui-wifi cui-fail-icon",loadFail:"加载失败，请稍后再试试吧",telText:"或者拨打携程客服电话",tryAgain:"重试",contact:"联系客服",showContact:!0},j=['<div class="head-warning">','<div class="head-warning-padding">','<div class="head-warning-content">','<div class="cui-load-fail cui-text-center">','<div class="cui-load-error">','<div class="cui-i <%= loadFailCls %>">',"</div>","</div>",'<p class="cui-gray"><%= loadFail %></p>','<button type="button" class="cui-btns-retry"><%= tryAgain %></button>',"<% if (showContact) { %>",'<div class="cui-404-tel">','<div class="cui-glines"></div>','<p class="cui-grayc"><%= telText %></p>','<span id="telBtn" class="cui-btns-tel"><span class="cui-i cui-warning-kf"></span><%= contact %></span>',"</div>","<% } %>","</div>","</div>","</div>","</div>"].join("");return f.setTmpl=function(a,b){this.templateStr=a,this.retryClass=b},f.options=function(a){a=_.extend({},i,a||{}),this.root.html(_.template(this.templateStr||j,a)),this.addClass("head-warning-top"),this.retryDom=this.root.find(this.retryClass||".cui-btns-retry"),this.retryDom.on("click",$.proxy(function(){this.callback&&this.callback()},this));var b=this;a.showContact&&this.root.find("#telBtn").click(function(){e.apply({hybridCallback:function(){e.callService()},callback:function(){window.location.href="tel:"+b.tel}})})},new b.Class(c,f)}),define("cUISidebar",["cBase","cUIAbstractView"],function(a,b){return new a.Class(b,{__propertys__:function(){this.template=['<section class="cm-pop cm-pop--triangle-up cm-pop--user-nav">','<i class="icond-pop-triangle"></i>','<div class="cm-pop-bd">','<ul class="cm-pop-list">',"<%for(var i = 0, len = data.length; i < len; i++) {%>",'<li data-index="<%=i%>" class="js_<%=data[i].tagname%>" ><i class="<%=data[i].className%>"></i><%=data[i].value%></li>',"<%}%>","</ul>","</div>","</section>"].join("")},resetProperty:function(){this.viewdata={data:this.moreMenus},this.eventArr={};for(var a=0,b=this.moreMenus.length;b>a;a++){var c=this.moreMenus[a];c.className&&(this.eventArr["click .js_"+c.tagname]=c.callback)}},initialize:function($super,a){for(var b in a)this[b]=a[b];this.resetProperty(),$super(a)},createHtml:function(){return _.template(this.template)(this.viewdata)}})}),define("cUIHeader",["cBase","cUIAbstractView","cUtility","cHybridFacade","cUISidebar"],function(a,b,c,d,e){var f=f||{},g=Lizard.isInCtripApp&&window.Internal.isWinOS;f.htmlMap={home:'<i class="icon_home i_bef" id="c-ui-header-home"></i>',moreMenus:'<i class="icon-list"></i>',tel:'<a href="tel:<%=tel.number||4000086666 %>" class="icon_phone i_bef __hreftel__" id="c-ui-header-tel"></a>',customtitle:"<div><%=customtitle %></div>",title:"<h1><%=title %></h1>",back:'<%if (obj.backtext) {%><i id="c-ui-header-return" class="header_r" style="left:0;width:44px;"><%=obj.backtext%></i><%} else {%><i id="c-ui-header-return" class="returnico i_bef"></i><%}%>',btn:'<i id="<%=btn.id%>" class="<%=btn.classname%> c-ui-header-btn"><%=btn.title %></i>'},f.__propertys__=function(){this.headerData={back:!0},this.STATE_NOTCREATE="notCreate",this.STATE_ONCREATE="onCreate",this.isInApp=c.isInApp()&&!g},f.initialize=function($super,a){this.rootBox=this.root=a.root||$("body"),this.parseHeader(),this.bindEvent(),this.__show=$super.show,$super(a)},f.bindEvent=function(){this.addEvent("onShow",this.onShow),this.addEvent("onHide",this.onHide)},f.parseHeader=function(){var a=this.rootBox;if(a&&a.size()){this.rootBox=a,this.backBtn=a.find("#c-ui-header-return"),this.homeBtn=a.find("#c-ui-header-home"),this.telBtn=a.find("#c-ui-header-tel"),this.titleDom=a.find("h1"),this.searchBtn=this.commitBtn=a.find(".c-ui-header-btn");var b=this.headerData.events,c=this.headerData.view;this.headerData.back=!0,this.headerData.home=this.homeBtn.size(),this.headerData.tel=!!this.telBtn.size(),b&&(this.headerData.events=b),c&&(this.headerData.view=c)}},f.set=function(a){if(this.puppetDestory(),a&&_.extend(this.headerData,a),this.__show=this.show,this.show=function(){},this.isInApp){var b=this.headerData.home,c=this.headerData.tel;this.rootBox.hide(),this.parseHeader(),this.headerData.home=b,this.headerData.tel=c,this.saveHead(this.headerData),this.onShow()}else this.rootBox.html(this.createHtml()),this.__show(),this.parseHeader();this.delegateEvents(this.headerData.events),this.headerData.moreMenus&&this.rootBox.find(".icon-list").on("click",_.bind(function(){this.sidebar||(this.sidebar=new e({moreMenus:this.headerData.moreMenus})),this.sidebar.show()},this))},f.create=function(){this.isInApp||this.isCreate||this.status===this.STATE_ONCREATE||(this.rootBox=this.root=this.rootBox||$("body"),this.rootBox.html(this.createHtml()),this.trigger("onCreate"),this.status=b.STATE_ONCREATE,this.isCreate=!0)},f.createHtml=function(){var a=this._setTemplate(this.headerData);return _.template(a,this.headerData)},f.delegateEvents=function(a){this.rootBox.off("click");var b=this;if(a){if(a.returnHandler)if(this.isInApp){var c=function(){a.returnHandler.call(b)};d.register({tagname:d.METHOD_BACK,callback:c})}else if(g){var c=function(){a.returnHandler.call(b)};d.register({tagname:d.METHOD_BACK,callback:c}),this.backBtn.off("click"),this.backBtn.on("click",_.bind(a.returnHandler,b.headerData.view||b))}else this.backBtn.off("click"),this.backBtn.on("click",_.bind(a.returnHandler,b.headerData.view||b));if(a.homeHandler&&(this.isInApp||(this.homeBtn.off("click"),this.homeBtn.on("click",_.bind(a.homeHandler,b.headerData.view||b)))),a.citybtnHandler&&this.isInApp){var e=function(){a.citybtnHandler.call(b)};d.register({tagname:d.METHOD_CITY_CHOOSE,callback:e})}if(_.isFunction(a.commitHandler))if(this.isInApp){var f=function(){a.commitHandler.call(b)};d.register({tagname:d.METHOD_COMMIT,callback:f})}else this.commitBtn.off("click"),this.commitBtn.on("click",_.bind(a.commitHandler,b.headerData.view||b));if(_.isFunction(a.searchHandler))if(this.isInApp){var h=function(){a.searchHandler.call(b)};d.register({tagname:d.METHOD_SEARCH,callback:h})}else this.searchBtn.removeClass("c-ui-header-btn").addClass("icon_search_w i_bef"),this.searchBtn.off("click"),this.searchBtn.on("click",_.bind(a.searchHandler,b.headerData.view||b));this.headerData&&this.headerData.btn&&_.isFunction(a.customHandler)&&(this.custBtn=this.rootBox.find("#"+this.headerData.btn.id),this.custBtn.off("click"),this.custBtn.on("click",_.bind(a.customHandler,b.headerData.view||b)))}},f.saveHead=function(a){var b=a.events,c={left:[],center:[],centerButtons:[],right:[]};if(a.back&&c.left.push({tagname:"back"}),a.title&&c.center.push({tagname:"title",value:a.title}),a.subtitle&&c.center.push({tagname:"subtitle",value:a.subtitle}),a.btn&&(_.isFunction(b.commitHandler)&&c.right.push({tagname:"commit",value:a.btn.title}),_.isFunction(b.searchHandler)&&c.right.push({tagname:"search",value:a.btn.title})),a.tel){var e={tagname:"call"};if(Lizard&&Lizard.instance&&Lizard.instance.curView){var f=Lizard.instance.curView;f.businessCode&&(e.businessCode=f.businessCode,e.pageId=f.hpageid)}c.right.push(e)}if(a.home&&c.right.push({tagname:"home"}),a.citybtn){var g={tagname:"cityChoose",value:a.citybtn};a.citybtnImagePath&&(g.imagePath=a.citybtnImagePath,g.pressedImagePath=a.citybtnPressedImagePath?a.citybtnPressedImagePath:g.imagePath),a.citybtnIcon&&(g.a_icon=g.i_icon=a.citybtnIcon),g.imagePath||(g.a_icon="icon_arrowx",g.i_icon="icon_arrowx.png"),c.centerButtons.push(g)}a.share&&c.right.push({tagname:"share"}),a.favorite&&c.right.push({tagname:"favorite"}),a.favorited&&c.right.push({tagname:"favorited"}),a.phone&&c.right.push({tagname:"phone"}),a.moreMenus&&(c.moreMenus=a.moreMenus,c.right.push({tagname:"more"}),_.each(a.moreMenus,function(a){d["METHOD_"+a.tagname.toUpperCase()]="METHOD_"+a.tagname.toUpperCase(),d.registerOne(d["METHOD_"+a.tagname.toUpperCase()],a.tagname),a.callback&&d.register({tagname:"METHOD_"+a.tagname.toUpperCase(),callback:a.callback})})),a.moreRightMenus&&(c.moreRightMenus=a.moreRightMenus,c.right=c.right.concat(a.moreRightMenus),_.each(c.moreRightMenus,function(a){d["METHOD_"+a.tagname.toUpperCase()]="METHOD_"+a.tagname.toUpperCase(),d.registerOne(d["METHOD_"+a.tagname.toUpperCase()],a.tagname),a.callback&&d.register({tagname:"METHOD_"+a.tagname.toUpperCase(),callback:a.callback})}));try{var h=JSON.stringify(c);d.request({name:d.METHOD_REFRESH_NAV_BAR,config:h})}catch(i){}},f.updateHeader=function(a,b){if(this.headerData.hasOwnProperty(a)&&this.headerData[a])if("events"==a)this.delegateEvents(b);else if(this.headerData[a]=b,this.isInApp)try{var c=JSON.stringify(_.omit(this.headerData,"view"));d.request({name:d.METHOD_REFRESH_NAV_BAR,config:c})}catch(e){}else this.set(this.headerData)},f._setTemplate=function(a){this.htmlTpl="";var b={home:"",moreMenus:"",tel:"",customtitle:"",title:"",back:"",btn:""},c=!1;if(a){a.customtitle&&this.htmlMap.title&&(c=!0);for(var d in this.htmlMap)"title"==d&&c||a[d]&&(b[d]=this.htmlMap[d]);var e="",f=a.style;f&&(e=' style="'+f+'"');var g=[b.home,b.moreMenus,b.tel,b.customtitle,b.title,b.back,b.btn];return this.htmlTpl+=g.join(""),this.htmlTpl="<header"+e+' class="old-header" >'+this.htmlTpl+"</header>"}},f.onShow=function(a){this.isInApp?(this.rootBox.hide(),d.request({name:d.METHOD_SET_NAVBAR_HIDDEN,isNeedHidden:!1})):this.rootBox.show(),a&&a()},f.onHide=function(){this.isInApp?d.request({name:d.METHOD_SET_NAVBAR_HIDDEN,isNeedHidden:!0}):this.rootBox.hide()},f.puppetDestory=function(){this.status=this.STATE_NOTCREATE,this.isCreate=!1};var h=new a.Class(b,f);return h}),define("cUtilityPerformance",[],function(){function a(){this.performance={},this.isapp=Lizard.isHybrid?"1":"0",this.defaults={Domready:{name:"JS.Lizard.Domready",tags:{}},Onload:{name:"JS.Lizard.Onload",tags:{}},AjaxReady:{name:"JS.Lizard.AjaxReady",tags:{url:""}},AjaxMessageSize:{name:"JS.Lizard.AjaxMessageSize",tags:{url:""}},TemplateRender:{name:"JS.Lizard.TemplateRender",tags:{url:""}},GeoRequest:{name:"JS.Lizard.GeoRequest",tags:{url:"",errno:"0"}}},this.uuid=0}return window.__bfi||(window.__bfi=[]),a.prototype={send:function(a,b,c,d){var e=["_trackMatrix",a,b,c,d];("JS.Lizard.GeoRequest"!=a||"string"==typeof b.url&&b.url.match(/^(Native|Web) function (number|detail|error)$/))&&window.__bfi.push(e)},getTime:function(){return(new Date).getTime()},initOptions:function(a){a.version=Lizard.version,a.isapp=this.isapp,a.network=Lizard.networkType||"unknown"},log:function(a,b){a.url&&_.isString(a.url)&&(a.url=a.url.replace(new RegExp((+new Date+"").slice(0,8)+"\\d{5}"),"__TIME__"));var c=this.defaults[a.name],d={};this.initOptions(d);for(var e in c.tags)d[e]=(a[e]||c.tags[e])+"";"AjaxMessageSize"!=a.name&&(d.distribution=this.distribution(b)),this.send(c.name,d,b,this.getTime())},group:function(a,b){b.startTime=this.getTime(),this.performance[a]=b},groupTag:function(a,b,c){var d=this.performance[a];return d||(this.performance[a]=d={}),3==arguments.length&&(d[b]=c),d[b]},groupEnd:function(a){var b=this.performance[a]||{};this.log(b,this.getTime()-b.startTime)},getUuid:function(){return"Performance_"+ ++this.uuid},distribution:function(a){var b="";return a>=0&500>=a?b="[0,500]":a>=501&1e3>=a?b="[501,1000]":a>=1001&2e3>=a?b="[1001,2000]":a>=2001&3e3>=a?b="[2001,3000]":a>=3001&4e3>=a?b="[3001,4000]":a>=4001&&(b="[4001,--]"),b+"(ms)"}},a}),define("cAjax",["libs","cUtilityPerformance"],function(a,b){var c=new b,d={json:"application/json",jsonp:"application/json"},e=function(a){return a&&(a=d[a]?d[a]:a),a},f=function(a){function b(a,b,c,d){var e=j(a,b,c,d);return e.type="GET",i(e)}function d(a,b,c,d,f){var g=b.contentType;b=JSON.stringify(b);var h=j(a,b,c,d);return h.type="POST",h.dataType="json",h.timeout=f||3e4,h.contentType=e(g)||"application/json",i(h)}function f(a,b,c,d,e){var f=j(a,b,c,d);return f.type="GET",f.dataType="jsonp",f.timeout=e,f.crossDomain=!0,i(f)}function g(a,b,c,d,f,g){var h=c.contentType;"get"!==b.toLowerCase()&&(c=JSON.stringify(c));var k=j(a,c,d,f);return k.type=b,k.dataType="json",k.crossDomain=!0,k.data=c,k.timeout=g,k.contentType=e(h)||"application/json",i(k)}function h(b,c,d,e){var f=null,g="";f=a("string"==typeof c?"#"+c:c),f&&f.length>0&&(g=f.serialize());var h=j(b,g,d,e);return i(h)}function i(b){var d=c.getUuid();c.group(d,{name:"AjaxReady",url:b.url,data:b.data});var e=0,f={url:b.url,type:b.type,dataType:b.dataType,data:b.data,contentType:b.contentType,timeout:Lizard.timeout||b.timeout||5e4,beforeSend:function(a){a.onprogress=function(a){e=a.loaded?a.loaded:a.position}},success:function(a){c.log({name:"AjaxMessageSize",url:b.url},e),c.groupEnd(d),b.callback(a)},error:function(a){c.groupEnd(d),b.error&&b.error(a)}};return-1===b.url.indexOf(window.location.host)&&(f.crossDomain=!!b.crossDomain),a.ajax(f)}function j(a,b,c,d){return{url:a,data:b,callback:c,error:d}}return{get:b,post:d,jsonp:f,cros:g,form:h}}($);return f}),define("cAbstractModel",["libs","cBase","cAjax","cUtility"],function(a,b,c,d){var e=new b.Class({__propertys__:function(){this.url=null,this.param=null,this.dataformat=null,this.validates=[],this.debug=!1,this.protocol=window.location.protocol.indexOf("https")>-1?"https":"http",this.contentType=e.CONTENT_TYPE_JSON,this.method="POST",this.timeout="30000",this.ajax,this.isAbort=!1,this.onBeforeCompleteCallback=null},initialize:function(a){this.assert();for(var b in a)this[b]=a[b]},setAttr:function(a,b){this[a]=b},assert:function(){},pushValidates:function(a){"function"==typeof a&&this.validates.push($.proxy(a,this))},setParam:function(a,b){"object"!=typeof a||b?this.param[a]=b:this.param=a},getParam:function(){return this.param},buildurl:function(){throw"[ERROR]abstract method:buildurl, must be override"},execute:function(a,b,d,f,g){this.isAbort=!1;var h=this.appendSuffix(this.buildurl()),i=this,j=$.proxy(function(c){if(this.validates&&this.validates.length>0)for(var e=0,f=this.validates.length;f>e;e++){var g=this.validates[e](c);if("boolean"==typeof g){if(!g)return"function"==typeof b?b.call(d||this,c):!1}else g&&g.overdue&&require(["cWidgetMember","cWidgetFactory"],function(a,b){a=b.create("Member"),a.memberLogin({param:"from="+encodeURIComponent(window.location.href)})})}var h="function"==typeof this.dataformat?this.dataformat(c):c;"function"==typeof this.onBeforeCompleteCallback&&this.onBeforeCompleteCallback(h),"function"==typeof a&&a.call(d||this,h,c)},this),k=$.proxy(function(a){return i.isAbort?(i.isAbort=!1,"function"==typeof f?f.call(d||this,a):!1):void("function"==typeof b&&b.call(d||this,a))},this),g=g||_.clone(this.getParam()||{});return g.contentType=this.contentType,this.ajax=this.contentType===e.CONTENT_TYPE_JSON?c.cros(h,this.method,g,j,k,this.timeout):this.contentType===e.CONTENT_TYPE_JSONP?c.jsonp(h,g,j,k,this.timeout):c.post(h,g,j,k,this.timeout)},abort:function(){this.isAbort=!0,this.ajax&&this.ajax.abort&&this.ajax.abort()},appendSuffix:function(a){var b=d.getGuid("GUID");if(!Lizard.isHybrid&&!Lizard.isInCtripApp&&b&&b.indexOf("-")<0){var c=a.indexOf("?")>-1?"&":"?";a=a+c+"_fxpcqlniredt="+b}return a}});return e.getInstance=function(){return this.instance instanceof this?this.instance:this.instance=new this},e.baseurl=function(){throw"[ERROR]abstract method:baseurl, must be override"},e.CONTENT_TYPE_JSON="json",e.CONTENT_TYPE_FORM="form",e.CONTENT_TYPE_JSONP="jsonp",e}),define("cModel",["libs","cBase","cStore","cUtility","CommonStore","cAbstractModel","cStorage","cUtilityPath"],function(a,b,c,d,e,f,g,h){var i=d.Object,j=new b.Class(f,{__propertys__:function(){this.usehead=!0,this.head=e.HeadStore.getInstance(),this.result=null,this.headinfo=null,this.ajaxOnly=!1,this.isUserData=!1,this.checkAuth=!0},initialize:function($super,a){$super(a),this.baseurl||(this.baseurl=j.baseurl.call(this,this.protocol))},setHead:function(a){if(!a instanceof c)throw"Set head is not a store";this.head=a},getHead:function(){return this.head},getParamStore:function(){return this.param},setParamStore:function(a){if("object"!=typeof a)throw"Set param is not a store";this.param=a},getResultStore:function(){return this.result},clearResult:function(){this.result&&"function"==typeof this.result.remove&&this.result.remove()},setParam:function(a,b){var d={};"object"!=typeof a||b?d[a]=b:d=a;for(var e in d)this.param instanceof c?this.param.setAttr(e,d[e]):i.set(this.param,e,d[e])},getParam:function(){return this.param instanceof c?this.param.get():this.param},buildurl:function(){return d.validate.isUrl(this.url)?this.url.replace(h.parseUrl(this.url).hostname,this.baseurl.domain):this.protocol+"://"+this.baseurl.domain+"/"+this.baseurl.path+("function"==typeof this.url?this.url():this.url)},getTag:function(){var a=_.clone(this.getParam()||{});if(this.isUserData&&!a.cid){var b=this.head.userStore;a.cid=b.getUserId()}return JSON.stringify(a)},excute:function(a,b,d,e,f){var g=_.clone(this.getParam()||{});this.pushValidates(function(a){var b=(this.head.get(),this._getResponseHead(a));return b.overdue?{overdue:b.overdue}:b.success});var h=this.getTag(),i=this.result&&this.result.get(h);return!i||this.ajaxOnly||d?("get"!==this.method.toLowerCase()&&this.usehead&&this.contentType!==j.CONTENT_TYPE_JSONP?g.head=this.head.get():"get"===this.method.toLowerCase()||this.usehead||this.contentType===j.CONTENT_TYPE_JSONP||this.headinfo&&(g.head=this.headinfo),this.onBeforeCompleteCallback=function(a){if(this.result instanceof c){try{}catch(b){}this.result.set(a,h)}},this.execute(a,b,e,f,g)):void("function"==typeof a&&a.call(e||this,i))},_getResponseHead:function(a){var b=!!a.ResponseStatus,c=b?a.ResponseStatus:a.head,d="",e=!1,f=!1;if(b&&c){var g=c.Ack;if("Failure"===g||1==g){var h=c.Errors;if(h instanceof Array&&h.length>0)for(var i,j=0;j<h.length;j++)if(i=h[j],i&&i.ErrorCode&&"MobileRequestFilterException"==i.ErrorCode){this.checkAuth&&(f=!0,this.getHead().setAuth(""));break}}var k=c.Extension;for(var j in k){var l=k[j];if("auth"==l.id){d=l.value;break}}e="Success"===c.Ack||"0"==c.Ack}else d=c&&c.auth,e=c&&0===c.errcode;return{auth:d,success:e,overdue:f}}});return j.baseurlold=function(a){var b=location.host,c="m.ctrip.com",e="restapi";return c=d.isInApp()?"1"==d.isPreProduction()?"https"==a?"wpg.ctrip.com":"10.8.14.28:8080":"0"==d.isPreProduction()?"https"==a?"secure.fws.qa.nt.ctripcorp.com":"m.fat19.qa.nt.ctripcorp.com":"2"==d.isPreProduction()?"https"==a?"restful.m.uat.nt.qa.ctripcorp.com":"m.uat.qa.nt.ctripcorp.com":"https"==a?"wpg.ctrip.com":"m.ctrip.com":b.match(/^m\.ctrip\.com/i)||b.match(/^secure\.ctrip\.com/i)?j.isHttps(a)?"wpg.ctrip.com":"m.ctrip.com":b.match(/^m\.uat\.qa/i)?j.isHttps(a)?"restful.m.uat.qa.nt.ctripcorp.com":"m.uat.qa.nt.ctripcorp.com":b.match(/^(localhost|172\.16|127\.0)/i)?j.isHttps(a)?"secure.fws.qa.nt.ctripcorp.com":"m.fat19.qa.nt.ctripcorp.com":b.match(/^10\.8\.2\.111/i)?"10.8.14.28:8080":b.match(/\.fat/i)?j.isHttps(a)?"secure.fws.qa.nt.ctripcorp.com":"m.fat19.qa.nt.ctripcorp.com":"m.ctrip.com",{domain:c,path:e}},j.baseurl=function(a){var b=(location.host,"m.ctrip.com"),c="restapi";if(Lizard.restfullApiHttps&&"https"==a)return b=h.parseUrl(Lizard.restfullApiHttps).hostname,{domain:b,path:c};if(Lizard.restfullApi&&"http"==a)return b=h.parseUrl(Lizard.restfullApi).hostname,{domain:b,path:c};var d=j.baseurlold(a);return d},j.isHttps=function(a){return"https"==location.protocol||"https"==a},j}),define("memStore",["cBase","cStore"],function(a,b){var c=new a.Class(b,{__propertys__:function(){this.idField="",this.data=null,this.store=null,this.useLocalStore=!1},initialize:function(a){for(var c=["key","lifeTime","useServerTime","isLocal","defaultData","rollbackEnabled","useLocalStore"],d={},e=0,f=c.length;f>e;e++){var g=a[c[e]]||this[c[e]];"undefined"!=typeof g&&(d[c[e]]=g)}this.store=new b(d)},refresh:function(){var a=this.store.get();!this.data&&a&&this.data&&this.data[this.idField]!==a[this.idField]&&(this.data=a)},commit:function(){this.store.set(this.data)},rollback:function(){this.data=null},set:function(a,b){this.data=a,b&&(this.dataMap||(this.dataMap={}),this.dataMap[b]=a,this.store.useLocalStore&&this.store.set(_.pick(this.dataMap,[b])))},setAttr:function(a,b){this.data[a]=b},set2Store:function(a){this.set(a),this.commit()},get:function(a){return a?(this.dataMap||(this.dataMap=this.store.get()),this.dataMap&&this.dataMap[a]?this.dataMap[a]:null):this.data},getAttr:function(a){return this.data[a]}});return c.getInstance=function(){return this.instance?this.instance:this.instance=new this},c}),define("cUtilityUtil",["cUtilityPath"],function(a){function b(a,b,d){return"post"!=a?location.href=b:c(b,d),!0}function c(a,b){var c,d="hidden",e="none",f=window.document,g=$("<FORM/>").attr({method:"post",action:a,target:"_blank"}).css({display:e}).appendTo(f.body).eq(0);for(c in b)$("<INPUT/>").attr({type:d,name:c,value:b[c]}).appendTo(g);g.submit(),$(g).remove()}var d={};return d.isSupportPushState=function(){return Lizard.isHybrid&&"file:"==window.location.protocol?!1:!!(window.history&&window.history.pushState&&window.history.replaceState)}(),d.uuid=0,d.dialogUuid=0,d.isExternalLink=function(a){var b=new RegExp(/^mailto:|^tel:|^javascript:/);return b.test(a)},d.goExternalLink=function(c,e){var f=a.isSameDomain(a.makeUrlAbsolute(c),window.location.href),e=e||{},g=e.type||"get",h=e.data||{};if(!f)return b(g,c,h);if(Lizard.isHybrid){if("get"==g){if(e.target||e.jump){var i=["cWidgetFactory","cWidgetGuider"];return require(i,function(){var a=arguments[0],b=a.create("Guider");b.jump({targetModel:"open",url:location.href.replace(/[\?#].+$/,"")+"#"+encodeURIComponent(c),title:""})}),!0}return!1}return!1}return e.target||e.jump||!d.isSupportPushState?b(g,c,h):!1},d}),define("cUtilityStateHistory",["cUtilityUtil"],function(a){function b(){this.forwardStack=[],this.historyStack=[]}return b.prototype={getTimestamp:function(){return(new Date).getTime()},getHash:function(){var a=window.location.hash;return"#"==a.charAt(0)&&(a=a.substring(1)),decodeURIComponent(a)},setHash:function(a){a||(a=""),window.location.hash=encodeURIComponent(a)},replaceHash:function(a){a||(a=""),location.replace("#"+encodeURIComponent(a))},handleBackButton:function(){var a=this.historyStack.pop(),b=this.historyStack[this.historyStack.length-1];return this.forwardStack.push(a),b},handleForwardButton:function(){var a=this.forwardStack.pop();return this.historyStack.push(a),a},addToHistory:function(a,b){b?0==this.historyStack.length?this.historyStack.push(a):this.historyStack[this.historyStack.length-1]=a:0==this.historyStack.length?this.historyStack.push(a):a&&(this.historyStack[this.historyStack.length-1].hash==a.hash||this.historyStack.push(a))},pushState:function(b,c,d){if(Lizard.group(),Lizard.isHybrid&&"file:"==window.location.protocol){Lizard.log("data:",JSON.stringify(b)),Lizard.log("title:",c),Lizard.log("url:",d);var e=(this.getTimestamp(),d);this.setHash(e),this.addToHistory({hash:e,state:b,title:c,url:d},!1)}else if(a.isSupportPushState)Lizard.log("data:",JSON.stringify(b)),Lizard.log("title:",c),Lizard.log("url:",d),history.pushState(b,c,d);else{Lizard.log("isSupportPushState:",a.isSupportPushState),Lizard.log("data:",JSON.stringify(b)),Lizard.log("title:",c),Lizard.log("url:",d);var f=d.split("#DIALOG_")[1];f&&(DialogMag[d]=b,DialogHist.unshift(b),location.hash="#DIALOG_"+f)}Lizard.groupEnd()},replaceState:function(b,c,d){if(Lizard.group(),Lizard.isHybrid&&"file:"==window.location.protocol){Lizard.log("data:",JSON.stringify(b)),Lizard.log("title:",c),Lizard.log("url:",d);var e=(this.getTimestamp(),d);this.replaceHash(e),this.addToHistory({hash:e,state:b,title:c,url:d},!0)}else a.isSupportPushState?(Lizard.log("data:",JSON.stringify(b)),Lizard.log("title:",c),Lizard.log("url:",d),history.replaceState(b,c,d)):Lizard.log("isSupportPushState:",a.isSupportPushState);Lizard.groupEnd()},popstate:function(b){var c=this,d=$.proxy(function(a){delete Lizard.currentUrl,Lizard.log("popstate");var c=a.state||a.originalEvent&&a.originalEvent.state;if(!Lizard.stopStateWatch&&c)if(Lizard._stoploadpage=Lizard._isLoading?!0:!1,Lizard._stoploadpage)var d=setInterval(function(){Lizard._stoploadpage||(b.showView(c),clearInterval(d))},10);else{if(this.curView&&c.url==this.curView.$el.attr("page-url"))return void this._waring404.hide();this.showView(c)}},b),e=$.proxy(function(a){function c(a){Lizard.log("hashchange goBack",a.url),b.showView(a)}Lizard.log("hashchange"),a=a||{},Lizard.log("e:",a);var d=a.newURL,e=a.oldURL,f=e.split("#DIALOG_")[1]||d.split("#DIALOG_")[1];if(f){var g=location.href;if(g===(DialogHist[0]&&DialogHist[0].url)&&DialogHist.length>1)return Lizard.log("We are on the right panel."),!0;if(""===location.hash){Lizard.log("location.hash is empty"),DialogHist.shift();var h=DialogHist[0];return c(h),!0}if(DialogHist[1]&&g===DialogHist[1].url){Lizard.log("DialogHist[1] && url === DialogHist[1].url"),DialogHist.shift();var h=DialogHist[0];return c(h),!0}DialogMag[g]&&(Lizard.log("DialogMag[url] exist"),DialogHist.unshift(DialogMag[g]),c(DialogMag[g]))}},b),f=$.proxy(function(a){if(delete Lizard.currentUrl,!this.observe)return!1;Lizard.log("hybridHashChangeHandler");var b=c.historyStack.length,d=c.getHash(),e={id:"newPage",opts:{},url:d};if(!d){var f=this.bookmarkAnchor,g=f.href;window.location.href==g&&(d=decodeURIComponent(f.hash))}if(c.forwardStack.length>0&&c.forwardStack[c.forwardStack.length-1].hash===d){var a=c.handleForwardButton();return e=a.state,this.showView(e),void(1==c.historyStack.length&&(this.bookmarkAnchor.isFirst=!0))}var h=-1;if(b>=2){for(var i=b;i>=2;i--)c.historyStack[i-2].hash===d&&(h=i-2);if(h>-1){for(var i=b-2;i>=h;i--)a=c.handleBackButton();return e=a.state,this.showView(e),void(1==c.historyStack.length&&(this.bookmarkAnchor.isFirst=!0))}}this.showView(e)},b);Lizard.isHybrid&&"file:"==window.location.protocol?$(window).bind("hashchange",f):a.isSupportPushState?$(window).bind("popstate",d):$(window).bind("hashchange",e)}},b}),define("cUtilityCacheView",[],function(){function a(){this.catchs={},this.backups={},this.orderCaches=[]}return a.prototype={add:function(a,b){this.catchs[a]=b,this.orderCaches.push({key:a,url:b.url,viewName:b.viewName}),this.backups[a]={url:b.url,opts:b.opts,text:b.text,datas:b.datas,viewName:b.viewName}},_delElemFromCollection:function(a,b,c){a=_.reject(a,function(a){return a[b]==c})},delOrderCaches:function(a,b){this._delElemFromCollection(this.orderCaches,a,b)},delById:function(a){this.catchs[a]&&delete this.catchs[a],this.delOrderCaches("key",a)},delByName:function(a){this._delElemFromCollection(this.catchs,"viewName",a),this.delOrderCaches("viewName",a)},delByURL:function(a){this._delElemFromCollection(this.catchs,"url",a),this.delOrderCaches("url",a)},delByIdFromBackups:function(a){this.backups[a]&&delete this.backups[a],this.delOrderCaches("key",a)},delByNameFromBackups:function(a){this._delElemFromCollection(this.backups,"viewName",a),this.delOrderCaches("viewName",a)},delByURLFromBackups:function(a){this._delElemFromCollection(this.backups,"url",a),this.delOrderCaches("url",a)},findById:function(a){return this.catchs[a]},findByName:function(a){return _.findWhere(this.catchs,{viewName:a})},findByIdFromBackups:function(a){return this.backups[a]},findByNameFromBackups:function(a){return _.findWhere(this.backups,{viewName:a})},findByURLFromBackups:function(a){return _.findWhere(this.backups,{url:a})},length:function(){return _.size(this.catchs)},each:function(a){_.isFunction(a)&&_.each(this.catchs,function(b,c){a(c,b)})}},a}),define("cUIAnimation",[],function(){return{slideleft:function(a,b,c,d){{var e=a.$el;b.$el}b.hide(),e.show(),e.bind("webkitAnimationEnd",function(){e.unbind("webkitAnimationEnd"),$("body").removeClass("hiddenx"),e.removeClass("animatestart"),e.removeClass("sliderightin"),a.show(),"function"==typeof c&&(d?c.call(d,a,b):c(a,b))}),$("body").addClass("hiddenx"),e.addClass("animatestart"),e.addClass("sliderightin")},slideright:function(a,b,c,d){var e=(a.$el,b.$el);e.bind("webkitAnimationEnd",function(){e.unbind("webkitAnimationEnd"),$("body").removeClass("hiddenx"),e.removeClass("animatestart"),e.removeClass("sliderightout"),b.hide(),a.show(),"function"==typeof c&&(d?c.call(d,a,b):c(a,b))}),$("body").addClass("hiddenx"),e.addClass("animatestart"),e.addClass("sliderightout")},noAnimate:function(a,b,c,d){b&&b.__hide(a.viewname),a.__show(),c&&c.call(d,a,b)}}}),define("cUtilityFlip",[],function(){!function(){function a(a,b,c,d,e){var f=Math.abs(a-b),g=Math.abs(c-d),h=f>=g?a-b>0?"left":"right":c-d>0?"up":"down";return e&&("left"==h||"right"==h?g/f>e&&(h=""):("up"==h||"down"==h)&&f/g>e&&(h="")),h}function b(b,c,i,j,k){b&&b.on(f,function(a){var b=a.touches&&a.touches[0]||a;e.x1=b.pageX,e.y1=b.pageY}).on(g,function(a){var b=a.touches&&a.touches[0]||a;e.x2=b.pageX,e.y2=b.pageY,j||a.preventDefault()}).on(h,function(){if(e.x2&&Math.abs(e.x1-e.x2)>d||e.y2&&Math.abs(e.y1-e.y2)>d){var b=a(e.x1,e.x2,e.y1,e.y2,k);c===b&&"function"==typeof i&&i()}else"tap"===c&&"function"==typeof i&&i()})}function c(a){a&&a.off(f).off(g).off(h)}var d=20,e={},f="touchstart",g="touchmove",h="touchend";"ontouchstart"in window||(f="mousedown",g="mousemove",h="mouseup"),$.flip=b,$.flipDestroy=c}()}),define("cPageParser",["cBase","cStore","CommonStore"],function(cBase,cStore,CommonStore){function getID(){var a="client_id_viewport_"+ ++uuid+"_"+(new Date).getTime();
return a}function _containFunc(a,b){var c=!1;for(var d in a){if(c)return!0;if(_.isFunction(a[d])&&a[d].toString().indexOf(b.trim())>-1)return a[d]=a[d].toString().trim(),!0;(_.isObject(a[d])||_.isArray(a[d]))&&(c=_containFunc(a[d],b))}return c}function reString(a){var b={"\r":"\\r","\n":"\\n","	":"\\t"},c=/([\.\\\/\+\*\?\[\]\{\}\(\)\^\$\|])/g,d=/[\r\t\n]/g;return a.replace(c,"\\$1").replace(d,function(a){return b[a]})}function fixReString(a){for(var b=a.split(""),c=!1,d="",e=[];d=b.shift();)e.push(d),"\\"==d?e.push(b.shift()):"["!=d||c?"]"==d&&c?c=!1:"("!=d||c||"?"==b[0]&&("!"==b[1]||(":"==b[1]||"="==b[1]?(b.shift(),b.shift(),e.push("?"),e.push(":")):(e.push("?"),e.push(":")))):c=!0;return e.join("")}function urlParse(a,b){var c=[],d=[],e={},f=a.replace(/\{\{(.+?)\}\}/g,function(a,b){return d.push(b),"{@"+(d.length-1)+"}"}).replace(/\{(@?)(.+?)\}|[^\{\}]+/g,function(a,b,e){var f="";if(e)if(b){var g=d[e].match(/^(?:(?:\((\w+)\))?([^!=]+?)|([^!=]+?)=(.*))$/);if(g)if(g[2]){switch(g[1]){case"number":f="(\\d+(?:\\.\\d*)?|\\.\\d+)";break;case"int":f="(\\d+)";break;case"letter":f="([a-z _\\-\\$]+)";break;default:f="([^\\/]*)"}c.push(g[2])}else if(c.push(g[3]),/^\/.*\/$/.test(g[4]))f="("+fixReString(g[4].slice(1,-1))+")";else{for(var h=g[4].split("||"),i=0;i<h.length;i++)h[i]=reString(h[i]);f="("+h.join("|")+")"}else f=""}else c.push(e),f="([^\\/]*)";else f=reString(a);return f});b=b.replace(/[#\?].*$/g,"");var g=b.match(new RegExp(f,"i")),h="/([^/]*)";"\\"!=f[f.length-1]&&(h="\\/([^/]*)");var i=b.match(new RegExp(f+h,"i"));if(g&&!i){for(var j=0;j<c.length;j++)e[c[j]]=g[j+1]||null;return{reStr:f,param:e,index:g.index}}return{}}function getPageParams(a,b){a=decodeURIComponent(a);var c={};"string"==typeof b&&(b=[b]),_.each(b,function(b){var d=Lizard.schema2re(b,a);d.reStr&&d.param&&(c=d.param)});for(var d,e,f,g,h=a.replace(/^[^\?#]*\??/g,"").replace(/#DIALOG_.*$/g,"").replace(/#\|cui-.*$/g,""),i=/([^&=?]+)=([^&]+)/g,j=/\/+.*\?/,k=/(.+)\[\]$/;d=i.exec(h);){if(e=d[1].toLowerCase(),f=d[2],g=e.match(k),j.test(f)){c[e]=h.substr(h.indexOf(f));break}g?(e=g[1],c[e]=c[e]||[],c[e].push(f)):c[e]=f}return c}function getPageUrlschema(){var configStr=getPageConfigStr(),ret="",arr=configStr.match(/([\'\"])?url_schema\1\s*:\s*([\'\"])(.*?)\2/)||configStr.match(/([\'\"])?url_schema\1\s*:\s*\[\s*([\'\"])((.|\s)*?)\2(\s*|,)]/);return arr?(eval("ret = {"+arr[0]+"}['url_schema']"),ret):""}function getPageConfigStr(){var a=pageDocNode.find('script[type="text/lizard-config"]').text();return a||(a='{"url_schema": "","model": {"apis": []},"view":{}}'),a}function getPageConfig(){var configStr=getPageConfigStr(),ajaxDataMatch=configStr.match(/Lizard.D\(([\'\"])(.*?)([\'\"])\)(.*?)(,|\s)/g),dataexpr=[];return ajaxDataMatch&&_.each(ajaxDataMatch,function(a){var b=a.split(",").join("").split("}").join("");dataexpr.push(b)}),eval("var ret = "+configStr),ret.dataexpr=dataexpr,ret}function getPageTemplates(){var a={},b=pageDocNode.find('script[type="text/lizard-template"]');return _.each(b,function(b){var c=$(b);c.attr("id")&&(a[c.attr("id")]={runat:c.attr("runat")||"all",text:removeTags(c.text(),"client")})}),a}function removeTags(a,b){var c=$("<SCRIPT>"+a+"</SCRIPT>");return c.find("[runat="+b+"]").remove(),c.text()}function _runUnderscore(a,b){b||(b={});var c="";if(a){{var d=_.template(a);Lizard.T}c=d(b,{Lizard:Lizard}).trim()}return c}function _setTDKInfo(a,b){var c=[],d=b.model.setTDK?b.model.setTDK(a):{},e=pageDocNode.find("title");return d.title&&(e&&e.remove(),c.push("<title>"+d.title+"</title>")),_.each(d,function(a,b){if(a){var d=pageDocNode.find('meta[name="'+b+'"]');d&&d.remove(),c.push('<meta name="'+b+'" content="'+a+'" />')}}),{TDK:d,TDKStr:c.join("")}}function _setUBTInfo(){var varNames=["page_id","bf_ubt_orderid","ab_testing_tracker"];if(_.each(varNames,function(varName){var values="",node=pageDocNode.find("#"+varName);node.get(0)&&(values=node.val()),eval(varName+" = '"+values+"'")}),_.isArray(ab_testing_tracker)){var ret=[];_.each(ab_testing_tracker,function(a){_.each(a.attr("value").split(";"),function(a){a&&ret.push(a)})}),ab_testing_tracker=ret.join(";")}}var pageDocNode=null,uuid=0;Lizard._initParser=function(a,b){pageDocNode=$("<DIV>"+b+"</DIV>"),Lizard.T.lizTmpl=getPageTemplates(),Lizard.P.lizParam=getPageParams(a,getPageUrlschema());var c=getPageConfig();return c.pageUrl=a,c},Lizard.getModels=function(pageConfig){pageConfig.model||(pageConfig.model={});var apis=pageConfig.model.apis||[],ret=[],dataexpr=pageConfig.dataexpr;return _.each(apis,function(api){api.runat=api.runat||"all",("client"==api.runat&&api.runat==Lizard.renderAt||"all"==api.runat)&&ret.push(api),api.suspend="suspend"in api?api.suspend.toString():!1,_.each(dataexpr,function(p){var postdataStr=JSON.stringify(api.postdata);(JSON.stringify(postdataStr).indexOf(p)>-1||_containFunc(api.postdata,p)||api.suspend&&api.suspend.indexOf(p)>-1)&&(api.depends||(api.depends=[],api.expressionMap={}),api.depends.push(eval(p.match(/Lizard.D\(([\'\"])(.*?)([\'\"])\)/g)[0].split("Lizard.D").join(""))),api.expressionMap[p]=dataexpr[p])})}),Lizard.errorBack=_.isFunction(pageConfig.errorBack)?pageConfig.errorBack:null,apis},Lizard.S=function(a,b,c){return this.loacaStores||(this.loacaStores={}),this.loacaStores[a]||(this.loacaStores[a]="SALES"==a?CommonStore.SalesStore:"SALES_OBJECT"==a?CommonStore.SalesObjectStore:"UNION"==a?CommonStore.UnionStore:new cBase.Class(cStore,{__propertys__:function(){this.key=a}})),b?this.loacaStores[a].getInstance().get()&&this.loacaStores[a].getInstance().get().hasOwnProperty(b)?this.loacaStores[a].getInstance().get()[b]:c:this.loacaStores[a].getInstance().get()},Lizard.T=Lizard._T=function(a,b){if(1==arguments.length){var c="",d=Lizard.T.lizTmpl[a];return d&&"server"!=d.runat&&(c=d.text),c}return _runUnderscore(Lizard._T(a),b)},Lizard.P=function(a,b){var c=null;return c=_.isUndefined(b)?Lizard.P.lizParam[a]||Lizard.P.lizParam[a.toLowerCase()]:Lizard.P.lizParam[a]=b},Lizard.D=function(a){return this.ajaxDatas&&this.ajaxDatas[a]?this.ajaxDatas[a]:null},Lizard.schema2re=urlParse,Lizard.render=function(a,b,c){var d={header:"",viewport:""};2==arguments.length&&_setUBTInfo();var e=!0;if(_.isFunction(a.validate)&&(e=a.validate(b)),!e&&_.isFunction(a.modelOnError))d=a.modelOnError(b);else{var f=_setTDKInfo(b,a);a.model.filter&&(b=a.model.filter.call(this,b,f.TDK))}for(var g in a.view)a.view.hasOwnProperty(g)&&(d[g]=_runUnderscore(a.view[g],b));var h=c?c.pageID+"$"+c.dialogName:getID(a.pageUrl);return d.viewport=['<div id="',h,'" page-url="',a.pageUrl,'">',d.viewport,"</div>"].join("").trim(),d.id=h,d.controller=a.controller,d.config=a,d.datas=b,d.lizTmpl=Lizard.T.lizTmpl,d.lizParam=Lizard.P.lizParam,d.TDK=f?f.TDKStr:"",d.validateRet=e,c?d=_.extend(d,c.ubtInfo):(d.page_id=page_id,d.ab_testing_tracker=ab_testing_tracker,d.bf_ubt_orderid=bf_ubt_orderid),d},Lizard.getController=function(a){return a.controller}}),define("lizard",["CommonStore","cMessageCenter","cUILoading","cUIWarning404","cUIHeader","cBase","cModel","memStore","cUtilityPath","cUtilityUtil","cUtilityStateHistory","cUtilityPerformance","cUtilityCacheView","cUIAnimation","cUtility",Lizard.app.version.gte(6.4)?"cHybridShell":"","cUtilityFlip","cPageParser"],function(CommonStore,MessageCenter,Loading,Warning404,cUIHeader,Base,cModel,mStore,path,utils,History,Performance,CacheViews,animation,util,cHybridShell){function APP(a){this.initialize(a)}var oHtml=$.fn.html;$.fn.html=function(a){return void 0===a?this.length>0?this[0].innerHTML:null:oHtml.call(this,a)};var oText=$.fn.text;$.fn.text=function(a){return void 0===a?this.length>0?this[0].textContent:null:oText.call(this,a)};var location=window.location,history=window.history,DialogHist=[],DialogMag={};/\/html5\//i.test(location.href.replace(/[\?#].+$/,""))&&$("<base/>").attr("href",location.href.replace(/\/html5\//i,"/webapp/")).prependTo($("head").eq(0)),Lizard.runAt="client";var renderAt=$(".main-viewport").attr("renderat");Lizard.renderAt="server",renderAt||(Lizard.renderAt="client"),Lizard.allowDebug=!1,Lizard.log=function(){if(window.console&&console.log&&Lizard.allowDebug){var a=Array.prototype.splice.call(arguments,0,arguments.length);a.unshift("(LOG)"),console.log.apply(console,a)}},Lizard.group=function(){var a=Lizard.group.caller.name;if(window.console&&console.group&&console.time&&Lizard.allowDebug){var b="Lizard.";console.time(b+a),console.group(b+a)}},Lizard.groupEnd=function(a){var b=a||Lizard.groupEnd.caller.name;if(window.console&&console.groupEnd&&console.timeEnd&&Lizard.allowDebug){var c="Lizard.";console.timeEnd(c+b),console.groupEnd(c+b)}},Lizard.dirs=function(a){window.console&&console.dir&&Lizard.allowDebug&&console.dir(a)},Lizard.gaMarketing=function(){var a=new Image;a.onload=function(){},a.onerror=function(){},a.src=("https:"==document.location.protocol?"https:":"http:")+"//googleads.g.doubleclick.net/pagead/viewthroughconversion/1066331136/?value=1.000000&amp;label=cG9hCIyRngMQgNi7_AM&amp;guid=ON&amp;script=0"};var chistory=new History,cperformance=new Performance;return window.cacheViews=new CacheViews,window.cacheModels=new CacheViews,APP.defaults={mainRoot:"#main",header:"header",viewport:".main-viewport",animForwardName:"slideleft",animBackwardName:"slideright",isAnim:!1,maxsize:10},APP.prototype={registerMsg:function(a,b){MessageCenter.register(MessageCenter.MAP.APP,a,b)},dispatchMsg:function(a,b,c){MessageCenter.dispatch(MessageCenter.MAP.APP,a,b,c)},viewReady:function(a){this.registerMsg("viewReady",a)},createCommonUI:function(){this.loading=new Loading,this._waring404=new Warning404,require(["text!ui/h5Loading.html"],_.bind(function(a){var b=this.loading.showAction;this.loading.showAction=function(){this.contentDom.html(a),this.mask.show(),b.call(this),this.setzIndexTop()};var c=this.loading.hide;this.loading.hide=function(){this.root&&this.root.hide(),this.mask&&this.mask.hide(),c.call(this)},Lizard.__loadingtmpl=a},this)),require(["text!ui/loadFailed.html"],_.bind(function(a){this._waring404.setTmpl(a,".btn-retry"),Lizard.__loadingfailtmpl=a},this))},showLoading:function(){this.loading._showTimeout&&(clearTimeout(this.loading._showTimeout),delete this.loading._showTimeout),this.loading._showTimeout=setTimeout(_.bind(function(){if(_.isUndefined(cHybridShell)){if(!Lizard.__loadingtmpl)return;this.loading.show&&this.loading.show(),this.loading.reposition&&this.loading.reposition()}else{var a=new cHybridShell.Fn("show_loading_page");a.run()}delete this.loading._showTimeout},this),this.options&&this.options.showloadingtimeout||200)},hideLoading:function(){if(this.loading._showTimeout&&(clearTimeout(this.loading._showTimeout),delete this.loading._showTimeout),_.isUndefined(cHybridShell))this.loading.hide&&this.loading.hide();else{var a=new cHybridShell.Fn("hide_loading_page");a.run()}},initialize:function(a){var b=this.initProperty(a);this.options=b,this.firstState=null,this.mainRoot=$(b.mainRoot),this.header=$(b.header),this.viewport=this.mainRoot.find(b.viewport),this.curView=null,this.lastView=null,this.chistory=chistory,this.views=cacheViews,this.maxsize=b.maxsize,this.createCommonUI(),Lizard.animationAPI?require([Lizard.animationAPI],_.bind(function(a){this.animAPIs=a},this)):this.animAPIs=animation,this.animForwardName=b.animForwardName,this.animBackwardName=b.animBackwardName,this.isAnim=Lizard.animationAPI||b.isAnim,this.animatName=this.animForwardName,this.observe=!1;this.validate();this.start(),MessageCenter.register(MessageCenter.MAP.APP,"switchview",function(a){var b=a[0],c=a[1],d=a[2];b.nextPageShow||!this.isAnim?(this.curView&&this.curView.$el.hide(),c.show(),_.isFunction(this.header.html)&&this.header.html(d.header).css({display:""})):c.hide()})},initProperty:function(a){var b=_.extend({},APP.defaults,a||{});return b},validate:function(){return this.mainRoot.length<1?"mainRoot 不存在":this.header.length<1?"header 不存在":this.viewport.length<1?"viewport 不存在":!1},start:function(){if(Lizard.group(),this.bookmarkAnchor={},this.bindEvents(),Lizard.isInCtripApp&&window.Internal.isWinOS?this.header.parent().show():Lizard.isHybrid?this.header.parent().hide():this.header.parent().show(),!Lizard.isHybrid||Lizard.isInCtripApp){var a=path.documentUrl.href.replace(/#DIALOG_.*$/,""),b=document.documentElement.outerHTML;Lizard.log("Lizard.renderAt::"+Lizard.renderAt),Lizard.log("Lizard.runAt::"+Lizard.runAt);var c=a.indexOf(path.parseUrl(a).pathname);this.loadView(a.substring(c),b,{viewName:this.options.firstPageViewName||"viewName",loading:"server"!=Lizard.renderAt?this.options.isFirstPageHideLoading?!1:null:!1,landingpage:1},"server"==Lizard.renderAt)}else{var d=this.chistory.getHash();d||(d=Lizard.localRoute.config.defaultView?Lizard.localRoute.config.defaultView:_.first(_.keys(Lizard.localRoute.config)).replace(/(\{(.+?)\})/g,function(){return""}),d||(d="/index///"));var d=d.replace(/#DIALOG_.*$/,"");this.goTo(d,{viewName:this.options.firstPageViewName||"viewName",loading:this.options.isFirstPageHideLoading?!1:null})}Lizard.groupEnd()},bindEvents:function(){$.bindFastClick&&$.bindFastClick(),this._handleLink(),chistory.popstate(this)},_handleLink:function(){(Lizard.isHybrid||utils.isSupportPushState)&&$("body").on("click",$.proxy(function(a){for(var b=$(a.target),c=!1;;){if(!b[0])break;if("BODY"==b[0].nodeName)break;if(b.hasClass("sub-viewport"))break;if("A"==b[0].nodeName){c=!0;break}b=b.parent()}if(c){var d=b.attr("href"),e={},f=b.attr("lizard-data");if("off"==b.attr("lizard-catch")||d&&utils.isExternalLink(d))return!0;a.preventDefault(),f&&(e.data=JSON.parse(f)),"back"==b.attr("data-jumptype")?this.back(b.attr("href"),e):"forward"==b.attr("data-jumptype")&&this.goTo(b.attr("href"),e)}},this))},loadView:function(a,b,c,d){var e=this.curView||{hpageid:"",pageid:"",_getViewUrl:function(){return""},browserReferrer:""};window.__bfi||(window.__bfi=[]);var f,g=($("#page_id"),location.href),h=e.browserReferrer||"";if(util.isInApp()&&!Lizard.isInCtripApp){var i=Lizard.getAbsPath(g.replace(/.*#/,""));if(g=Lizard.toUBTURL(i),h){var j=Lizard.getAbsPath(h.replace(/.*#/,""));h=Lizard.toUBTURL(j)}else;f=e.hpageid}else if(f=e.pageid,h){var j=Lizard.getAbsPath(h,1);h=Lizard.toUBTURL(j,1)}else;window.__bfi.push(["_unload",{page_id:f,url:decodeURIComponent(g),refer:decodeURIComponent(h)}]),Lizard.group(),c=c||{};var k=!1;d||(k=c.pushState,k!==!1&&(k=!0),this.closeObserve());var l=cperformance.getUuid(),m=cperformance.getUuid();cperformance.group(l,{name:"Domready",landingpage:1==c.landingpage?1:0,url:a}),cperformance.group(m,{name:"Onload",landingpage:1==c.landingpage?1:0,url:a}),c.loading===!1||d||(this.options.isHideAllLoading?1==c.loading&&this.showLoading():this.showLoading()),this.parsePage(a,b,_.bind(this._renderCallback,this),[null,d,c,l,m,a,b,k])},_renderCallback:function(a,b,c,d,e,f,g,h){if(a.config.configEmpty)return void(c.loading===!1||b||this.hideLoading());var i=b?this.viewport.children().eq(0):$(a.viewport);b||(c.stateid?i.attr("id",c.stateid):i.attr("id",a.id)),cperformance.groupEnd(d),b||(this.firstState||this.viewport.html(""),i.hide(),i.appendTo(this.viewport));var j={id:b?i.attr("id"):c.stateid||a.id,url:b?location.href:f,opts:c},k=_.omit(_.clone(a),["header","viewport","TDK"]);(b||c.stateid)&&(k.id=i.attr("id"));var l=_.extend({viewName:a.config.viewName||c.viewName,text:g,opts:c,$el:i,state:j,url:f,single:!1,pushState:h,callback:$.proxy(function(d,f){c.loading===!1||b||this.hideLoading(),d&&d.switchByOut?d.turning=function(){f&&f.hide(),$(".main-viewport").children().hide(),MessageCenter.dispatch(MessageCenter.MAP.APP,"switchview",[c,i,a],this)}:MessageCenter.dispatch(MessageCenter.MAP.APP,"switchview",[c,i,a],this),this.switchView(d,f),cperformance.groupEnd(e)},this)},k);this.controller(l)},parsePage:function(a,b,c,d){Lizard.group();var e=Lizard._initParser(a,b),f=Lizard.getController(e);window.navigator.userAgent.indexOf("Android 2")>-1&&2==$("head").length&&$($("head")[1]).remove(),f&&require([f]),Lizard.retyClickFunc=function(){delete Lizard.currentUrl,Lizard.goTo(a)},this.getData(e,function(f){var g=cperformance.getUuid();cperformance.group(g,{name:"TemplateRender",url:a});var h=Lizard.render(e,f);cperformance.groupEnd(g),Lizard.urlSchemaMap||(Lizard.urlSchemaMap={}),h.config.url_schema&&(_.isString(h.config.url_schema)&&(h.config.url_schema=[h.config.url_schema]),_.each(h.config.url_schema,function(c){var d=Lizard.schema2re(c,a);d.reStr&&!Lizard.urlSchemaMap[d.reStr]&&(Lizard.urlSchemaMap[d.reStr]={html:b,urlMatchIndex:d.index})})),d[0]=h,_.isFunction(c)&&c.apply(this,d),Lizard.groupEnd("parsePage")})},getData:function(a,b){Lizard._isLoading=!0;var c=Lizard.getModels(a);0==c.length&&b.call(this,[]),Lizard.ajaxDatas={},Lizard.errorCalled=!1,this._processModels(c,b,[],_.isFunction(a.validate))},_transfuncToVal:function(obj){for(var p in obj)obj.hasOwnProperty(p)&&(_.isString(obj[p])&&0==obj[p].indexOf("function")?obj[p]=eval("("+obj[p]+")()"):(_.isObject(obj[p])||_.isArray(obj[p]))&&this._transfuncToVal(obj[p]))},_onSucess:function(a,b,c,d,e,f){var g=d[c];if(g.done=!0,g.error=!1,b[c]=a,g.name&&(Lizard.ajaxDatas[g.name]=a),_.every(d,function(a){return a.done})){if(Lizard._stoploadpage)return this.hideLoading(),void(Lizard._stoploadpage=!1);e.call(this,b)}else this._processModels(d,e,b,f)},_processModels:function(models,callback,datas,ignoreError){var _this=this;if(!_.some(models,function(a){return a.error})||Lizard.errorCalled)_.each(models,function(model,index){if(!model.processed&&(!model.depends||_.every(model.depends,function(a){return a in Lizard.ajaxDatas}))){var url=model.url,emodel=cacheModels.findById(url);if(emodel)_this._transfuncToVal(model.postdata),emodel.setAttr("param",model.postdata);else{emodel=new Base.Class(cModel,{__propertys__:function(){this.urlParseRet=path.parseUrl(url),this.protocol=this.urlParseRet.protocol.substr(0,this.urlParseRet.protocol.length-1)}}).getInstance(),emodel.setAttr("url",url),_this._transfuncToVal(model.postdata),emodel.setAttr("param",model.postdata);var cacheStore=emodel.getResultStore();if(!cacheStore){var cachStore=new mStore({key:url,useLocalStore:model.useLocalStore});emodel.setAttr("result",cachStore)}cacheModels.add(url,emodel)}model.processed=!0,model.suspend&&eval("("+model.suspend+")()")?_this._onSucess({},datas,index,models,callback):emodel.excute(function(a){_this._onSucess(a,datas,index,models,callback)},function(a){!ignoreError&&a instanceof XMLHttpRequest?(model.error=!0,_this._processModels(models,callback,datas,ignoreError)):(_this._onSucess(a,datas,index,models,callback,ignoreError),a instanceof XMLHttpRequest&&_this._stopdependModel(model,models,datas,callback))},model.ajaxOnly,this)}});else{Lizard.errorCalled=!0,this.hideLoading(),Lizard.currentUrl&&chistory.pushState({url:Lizard.currentUrl.url,id:"none_exist"},Lizard.currentUrl.url,Lizard.currentUrl.url),Lizard._isLoading=!1;var errorData={callback:function(){waring404.hide(),Lizard.retyClickFunc()},headData:{title:"网络不给力",events:{returnHandler:function(){waring404.hide(),Lizard.isHybrid&&this.bookmarkAnchor.isFirst?CtripUtil.app_back_to_home():window.location.reload()}}}};Lizard.errorBack&&(errorData=_.extend(errorData,Lizard.errorBack(datas)));var waring404=this._waring404;waring404.show(),waring404.options(errorData),errorData.tel&&(waring404.tel=errorData.tel),waring404.callback=function(){errorData.callback.call(this),waring404.hide()};var hDom=$("#headerview");if(errorData.headData){var headerview=new cUIHeader({root:hDom});if(errorData.headData.events||(errorData.headData.events={}),errorData.headData.events.returnHandler){var returnFunc=errorData.headData.events.returnHandler;errorData.headData.events.returnHandler=function(){waring404.hide(),returnFunc.call(this)}}else errorData.headData.events.returnHandler=function(){waring404.hide(),Lizard.isHybrid&&this.bookmarkAnchor.isFirst?CtripUtil.app_back_to_home():window.location.reload()};headerview.set(errorData.headData)}}},_stopdependModel:function(a,b,c,d){var e=this;_.each(b,function(f,g){f!=a&&f.depends&&_.indexOf(f.depends,a.name)>-1&&(f.done=!0,f.error=!1,c[g]={},f.name&&(Lizard.ajaxDatas[f.name]={}),e._stopdependModel(f,b,c,d))})},controller:function a(b){Lizard.group();var a=b.controller,c=_.clone(b),d=b.callback||function(){};c.pushState!==!1&&(c.pushState=!0),c=_.omit(c,["controller","header","viewport","TDK","callback"]),this.loadController(a,$.proxy(function(a){if(a){this.lastView=this.curView;{_.find(this.views.catchs,function(a){return a.config&&a.config.controller==c.config.controller})}this.curView=new a({el:c.$el}),c=_.omit(c,["$el","single"]),this.curView.timestamp=(new Date).getTime(),c.viewName&&this.curView.$el.data("viewName",c.viewName),c.viewportID=c.id,delete c.id,this.curView=_.extend(this.curView,c),this.curView.onmessage=this.curView.onmessage||function(a){Lizard.log("onmessage",a)},this.curView.postMessage=function(a){var a=a||{},b=a.viewName,c=a.data;if(b){var d=this.views.findByViewName(b);d&&d.onmessage&&c&&d.onmessage(c)}else this.views.values.each(function(a,b){b.onmessage&&c&&b.onmessage(c)})},this.curView.refresh=function(a){var b=this.config.view.viewport;if(b){var c=_.template(b),d=c(a);this.$el.html(d)}},this.curView.referrer=this.lastView&&this.lastView.url||"",this.curView.browserReferrer=this.lastView&&this.lastView.url||document.referrer,this.views.add(c.viewportID,this.curView)}else this.lastView=this.curView,c.timestamp=c.timestamp||(new Date).getTime(),c=_.omit(c,["single","opts","pushState","text","viewName"]),this.curView=c,this.curView.referrer=this.lastView&&this.lastView.url||"",this.curView.browserReferrer=this.lastView&&this.lastView.url||document.referrer,this.curView.show=function(){this.$el.show()},this.curView.hide=function(){this.$el.hide()},this.curView.refresh=function(){},this.curView.sendUbt=function(){},this.views.add(this.curView.id,this.curView);!this.firstState||this.replaceFirstState?(this.firstState=c.state,this.bookmarkAnchor.href=window.location.href,this.bookmarkAnchor.isFirst=!0,chistory.replaceState(c.state,c.url,c.url),this.bookmarkAnchor.hash=chistory.getHash()):c.pushState&&(chistory.pushState(c.state,c.url,c.url),this.bookmarkAnchor.isFirst=!1),Lizard.groupEnd("controller"),d(this.curView,this.lastView)},this))},loadController:function(a,b){return Lizard.group(),Lizard.log("controller:",a),a?void requirejs([a],function(a){return Lizard._isLoading=!1,Lizard._stoploadpage?(this.hideLoading(),void(Lizard._stoploadpage=!1)):(_.isFunction(b)&&b(a),void Lizard.groupEnd("loadController"))}):(_.isFunction(b)&&b(),void Lizard.groupEnd())},switchView:function(a,b){Lizard.group(),Lizard.log("inView.id:",a&&a.id),Lizard.log("outView.id:",b&&b.id),Lizard.log("this.isAnim:",this.isAnim),b&&!document.getElementById(b.id)&&a&&!a.switchByOut&&(b.$el.appendTo(this.viewport),b.$el.hide()),a&&!document.getElementById(a.id)&&(a.$el.appendTo(this.viewport),a.$el.hide());var c;if(!a)throw"inview 未被实例化";Lizard.T.lizTmpl=a.lizTmpl,Lizard.P.lizParam=a.lizParam,b?(b.saveScrollPos(),this.isAnim&&(c=this.animAPIs[this.animatName]),a.fromView=b.viewName,c&&_.isFunction(c)?c(a,b,$.proxy(function(a,b){Lizard.groupEnd("switchView"),this._onSwitchEnd(a,b)},this)):(a&&!a.switchByOut&&b.hide(),a.show(),Lizard.groupEnd("switchView"),this._onSwitchEnd(a,b))):(a.show(),Lizard.groupEnd("switchView"),this._onSwitchEnd(a,b))},_onSwitchEnd:function(a,b){b==a||a.switchByOut||setTimeout(function(){b&&b.$el&&b.$el.hide()},10),a.sendUbt(!0),this.dispatchMsg("viewReady",a),this._destroyViews()},_destroyViews:function(a){if(this.openObserve(),Lizard.group(),a){var b=this.views.findById(a);return void(b&&(b.destroy(),this.views.delById(a),this.views.delByIdFromBackups(a)))}var c=this.views.length()-this.maxsize;if(1>c)return void Lizard.groupEnd();for(var d=0;c>d;d++){var e=this.views.orderCaches.shift(),f=e.key,b=this.views.findById(f);if(b){b.$el.remove();var g=b.viewportID;this.views.delById(g)}}Lizard.groupEnd()},goTo:function(a,b){function c(){Lizard.log("url:",a),Lizard.log("opts:",JSON.stringify(b)),d.showPageByHref(a,b),Lizard.groupEnd()}var d=this;if(d.header=$("#headerview>header"),Lizard.group(),a&&(!_.isObject(a)||(b=a,a=b.url))&&(b=b||{},this.animatName=b.animatName||this.animForwardName,this.replaceFirstState=b.replaceFirstState||!1,!Lizard.currentUrl||Lizard.currentUrl.url!=a))if(Lizard.currentUrl={url:a,opts:b},b.viewName){var e=d.views,f=e.findByName(b.viewName);if(f)if(b.cache){var g=b.pushState;g!==!1&&(g=!0),d.lastView=d.curView,d.curView=f;var h=f.config.view.header;h&&d.header.html(h),d.curView.timestamp>d.lastView.timestamp?(d.curView.navigationType="forward",d.animatName=d.animForwardName):(d.curView.navigationType="back",d.animatName=d.animBackwardName),d.closeObserve(),g&&chistory.pushState(f.state,f.url,f.url),d.curView.referrer=d.lastView.url,d.switchView(d.curView,d.lastView)}else d._destroyViews(f.viewportID),c();else{var f=e.findByNameFromBackups(b.viewName);if(f)if(b.cache){var b=f.opts;b.viewName=f.viewName,d.loadView(f.url,f.text,b)}else d._destroyViews(f.viewportID),c();else c()}}else c()},showPageByHref:function(a,b){Lizard.group();var c=this,b=b||{},d=b.type||"get";b.data&&(d="post"),b.data||(b.data={});var e=b.data;if(b.jump=c.options.isAllPageJump,!utils.goExternalLink(a,b)){var f=Lizard.isHybrid&&Lizard.localRoute.mapUrl(a);f?requirejs([f],function(d){Lizard.log("localRouteRet 存在"),Lizard.groupEnd(),c.loadView(a,d,b)}):(Lizard.log("url:",a),Lizard.log("type:",d),Lizard.log("data:",JSON.stringify(e)),$[d](a,e,function(d){Lizard.log("新页面请求成功"),Lizard.groupEnd(),c.loadView(a,d,b)}))}},closeObserve:function(){Lizard.group(),this.observe=!1,Lizard.groupEnd()},openObserve:function(){Lizard.group();var a=this;setTimeout(function(){a.observe=!0},0),Lizard.groupEnd()},showView:function(a){Lizard.log("Lizard.showView start");var b=this.views.findById(a.id);if(b){Lizard.log("data.url: "+a.url+" already exist"),b.delegateEvents&&b.delegateEvents(),this.lastView=this.curView,this.curView=b;var c=b.config.view&&b.config.view.header;c&&this.header.html(c).css({display:""}),this.curView.timestamp>this.lastView.timestamp?(this.curView.navigationType="forward",this.animatName=this.animForwardName):(this.curView.navigationType="back",this.animatName=this.animBackwardName),Lizard.log("Lizard.showView end"),this.curView.referrer=this.lastView&&this.lastView.url||"",this.switchView(this.curView,this.lastView)}else{var b=this.views.findByIdFromBackups(a.id);if(b){var d=b.opts;this._destroyViews(b.viewportID),d.viewName=b.viewName,d.stateid=a.id,d.pushState=!1,this.loadView(b.url,b.text,d,!1)}else Lizard.log("data.url: "+a.url+" not exist"),Lizard.log("Lizard.showView end"),a.opts||(a.opts={}),a.opts.stateid=a.id,a.opts.pushState=!1,this.goTo(a.url,a.opts)}},goBack:function(a,b){var c=this;if(c.header=$("#headerview>header"),b=b||{},b.viewName){var d=b.pushState;d!==!1&&(d=!0);var e=c.views,f=e.findByName(b.viewName);if(f){c.lastView=c.curView,c.curView=f;var g=f.config.view.header;g&&c.header.html(g),c.curView.timestamp>c.lastView.timestamp?(c.curView.navigationType="forward",c.animatName=c.animForwardName):(c.curView.navigationType="back",c.animatName=c.animBackwardName),c.closeObserve(),d&&chistory.pushState(f.state,f.url,f.url),Lizard.currentUrl={url:f.url,opts:b},c.switchView(c.curView,c.lastView)}else{var f=e.findByNameFromBackups(b.viewName);if(f){var b=f.opts;c._destroyViews(f.viewportID),b.viewName=f.viewName,c.loadView(f.url,f.text,b)}else a&&this.goTo(a,b)}}else if("string"!=typeof a)if(history.length>1){if(!Lizard.isHybrid||!this.bookmarkAnchor.isFirst)return void history.back();var h=["cWidgetFactory","cWidgetGuider"];require(h,function(){var a=arguments[0],b=a.create("Guider");b.backToLastPage({})})}else"object"==typeof a&&(b=a,b.animatName=b.animatName||this.animBackwardName,b.replaceFirstState=!0,b.isPushState=!0,this.goTo(b.defaultView,b));else b.animatName=b.animatName||this.animBackwardName,b.isPushState=!1,this.goTo(a,b)},go:function(a){history.go(a)},jump:function(a,b){if(Lizard.isHybrid||Lizard.isInCtripApp){var c=a,d=b&&_.isNumber(b.targetModel),e="on"==Lizard.config.multiView,f=a.toLowerCase().indexOf("/webapp/");if(util.validate.isUrl(a)){if(targetModel=d?b.targetModel:e?2:5,targetModel>=4){var g=a.match(/webapp\/([^\/]+)/i);if(g.length>1){var h=g[1];c=h+"/index.html#"+a.substr(a.indexOf("/webapp"))}}}else if(0==a.indexOf("ctrip://"))targetModel=1;else if(a.indexOf(".html#")>0)targetModel=d?b.targetModel:5,c=f>=0?a.substr(f+8):a;else{c=f>=0?a.substr(f+8):a;var i=/^([^\/]+)\/([^\s]*)/,g=c.match(i);g&&g.length>2&&g[1].indexOf("index.html")<0&&(c=g[1]+"/index.html#"+a)}targetModel=d?b.targetModel:e?4:5,CtripUtil.app_open_url(c,targetModel,b&&b.title||"",b&&b.pageName||c,b&&b.isShowLoadingPage||!1)}else{var c=a;if(!util.validate.isUrl(a)){var j=window.location.protocol+"//"+window.location.host;c=a.toLowerCase().indexOf("/webapp")<0&&-1==a.toLowerCase().indexOf("/html5")?j+"/webapp/"+a:j+a}b&&b.replace?window.location.replace(c):window.location.href=c}},showDialog:function(a,b){function c(c){var d=cperformance.getUuid();cperformance.group(d,{name:"TemplateRender",url:k});var h=Lizard.render(a,c,{pageID:i,dialogName:f,ubtInfo:{ab_testing_tracker:b.ab_testing_tracker||"",bf_ubt_orderid:b.bf_ubt_orderid||"",page_id:b.page_id||""}});cperformance.groupEnd(d),h.dialogName=f,e._renderCallback(h,!1,b,l,m,k,j,g)}this.closeObserve();var d="DIALOG_",e=this;b=b||{},b.loading!==!1&&(e.options.isHideAllLoading?1==b.loading&&e.showLoading():e.showLoading());var f=b.dialogName||"dialog"+ ++utils.dialogUuid;this.animatName=b.animatName||this.animForwardName;var g=(b.single,b.pushState);g!==!1&&(g=!0);var h=(b.viewName,this.curView.url.replace(/#DIALOG_.*$/,"")),i=this.curView.id.replace(/\$.*/,""),j=(this.curView.lizTmpl,this.curView.lizParam,this.curView.text);DialogHist.length||DialogHist.unshift({url:h,id:i});var k=h+"#"+d+f,a=a||{};a.model||(a.model={}),a.view||(a.view={});var l=cperformance.getUuid(),m=cperformance.getUuid();cperformance.group(l,{name:"Domready",landingpage:0,url:k}),cperformance.group(m,{name:"Onload",landingpage:0,url:k}),e.getData(a,function(b){var d=a.model.data;d&&(b=b.concat([d])),c(b)})},"interface":function(){return{goTo:this.goTo,goBack:this.goBack,showDialog:this.showDialog,forward:this.goTo,back:this.goBack,go:this.go,jump:this.jump,registerMsg:this.registerMsg,viewReady:this.viewReady,showLoading:this.showLoading,hideLoading:this.hideLoading}}},APP}),define("cHistory",["cUIBase","libs"],function(a){var b=function(b){this.element,this.clazz=[a.config.prefix+"history"],this.maskName="maskName",this.style={},this.size=!1,this.listSize=6,this.itemClickFun=null,this.focusFun=null,this.blursFun=null,this.inputFun=null,this._id=a.getCreateId(),this._boxDom,this._borderDom,this._contDom,this._clearButton,this.clearButtonTitle="清除搜索历史",this.notHistoryButtonTitle="无搜索历史",this.clearHistoryAction=function(){},this.historyStore=null,this.dataSource=[],this._autoLocResoure,this._bodyDom,this.rootBox,this._oneShow=!1;var c=this;this.event_focus=function(){c.Open(),"function"==typeof c.focusFun&&c.focusFun()},this.event_blur=function(){"function"==typeof c.blurFun&&c.blurFun()},this.event_input=function(){""==c.element.val()&&(c._init(),c.Open()),c.inputFun(c.element.val())},this._setOption(b),this._init()};return b.prototype={_setOption:function(a){for(var b in a)switch(b){case"element":case"maskName":case"clearButtonTitle":case"clearHistoryAction":case"style":case"dataSource":case"historyStore":case"itmeClickFun":case"focusFun":case"blurFun":case"inputFun":case"size":case"listSize":case"rootBox":this[b]=a[b];break;case"clazz":isArray(a[b])&&(this.clazz=this.clazz.concat(a[b])),isString(a[b])&&this.clazz.push(a[b])}},_init:function(){this._contDom&&(this._contDom.find("li.item").unbind("click"),this._contDom.remove()),this._boxDom&&this._boxDom.remove(),this._CreateDom(),this._BuildEvent()},_CreateDom:function(){var b=a.createElement;this._bodyDom=this.rootBox||$("body"),this.element=$(this.element),this._boxDom=$(b("div",{id:this._id,"class":this.clazz.join(" ")})),this._boxDom.css({position:"absolute",display:"none"}),this._borderDom=$(b("div",{"class":a.config.prefix+"history-border"}));
var c=[];c=""==this.element.val()?this._getHistory():this._getSubList(this.dataSource,this.listSize),this._contDom=$(b("ul",{"class":a.config.prefix+"history-list"}));for(var d in c)this._contDom.append('<li class="item" data_id="'+c[d].id+'">'+c[d].name+"</li>");""==this.element.val()&&(this._clearButton=$(b("li",{"class":[a.config.prefix+"clear-history clearbutton"]})),this._clearButton.html(c.length>0?this.clearButtonTitle:this.notHistoryButtonTitle),this._contDom.append(this._clearButton)),this._borderDom.append(this._contDom),this._boxDom.append(this._borderDom),this._bodyDom.append(this._boxDom)},_Location:function(){this._boxDom.css({height:"auto",width:"auto"});var b=a.getPageSize(),c=a.getElementPos(this.element[0]),d=this.style.left?this.style.left:(this.size&&this.size.left?this.size.left+c.left:c.left)+"px",e=this.style.top?this.style.top:(this.size&&this.size.top?this.size.top+(c.top+this.element.height()):c.top+this.element.height())+"px",f=this.style.width?this.style.width:this.element.width()+"px",g=this.size&&this.size.height?b.height+this.size.height+"px":"auto";this._boxDom.css({left:d,top:e,width:f,height:g})},_AutoLocation:function(){this._Location();var a=this;this._autoLocResoure=function(){a._Location()},$(window).unbind("resize",this._autoLocResoure),$(window).bind("resize",this._autoLocResoure)},_UnAutoLocation:function(){$(window).unbind("resize",this._autoLocResoure)},_BuildEvent:function(){var a=this;this._contDom.find("li.item").unbind("click").bind("click",function(){var b=$(this);if(a.element.val(b.text()),a.Close(),"function"==typeof a.itmeClickFun){var c={id:b.attr("data_id"),name:b.text()};a.itmeClickFun(c)}}),this.element.unbind("focus",this.event_focus),this.element.unbind("blur",this.event_blur),this.element.unbind("input",this.event_input),this.element.bind({focus:this.event_focus,blur:this.event_blur,input:this.event_input}),this._clearButton.unbind("click"),this._clearButton.bind("click",function(){a.historyStore.remove(),a.Close(),a._init(),a.clearHistoryAction&&a.clearHistoryAction.call(a)})},setOpen:function(){this._oneShow=!0},Open:function(){this._boxDom.css("z-index",a.getBiggerzIndex()),this._boxDom.show(),this._AutoLocation()},Close:function(){this._boxDom.hide(),this._UnAutoLocation()},setDataSource:function(a){this.dataSource=a,this.Close(),this._init(),this.Open()},addHistory:function(a){var b=this.historyStore.get()||[];a.id||(a.id=0);for(var c=-1,d=0,e=b.length;e>d;d++)if(b[d].name==a.name){c=d;break}c>-1&&b.splice(c,1),b.unshift(a),this.historyStore.set(b),this._init()},reset:function(){this._init()},_getHistory:function(){var a=this.historyStore.get()||[];return this._getSubList(a,this.listSize)},_getSubList:function(a,b){var c=a.length;return b>=c?a:a.slice(0,b)}},b}),define("cUIAlert",["libs","cBase","cUILayer"],function(a,b,c){var d=Object.prototype.toString,e="confirm",f="cancel",g={};g.onCreate=function(){this.loadButtons()};var h={},i={prefix:"cui-"};h.__propertys__=function(){this.tpl=this.template(['<div class="cui-pop-box">',"<%if(showTitle) {%>",'<div class="cui-hd">','<div class="cui-text-center"><%=title%></div>',"</div>","<% } %>",'<div class="cui-bd">','<div class="cui-error-tips"><%=message%></div>','<div class="cui-roller-btns">',"</div>","</div>","</div>"].join("")),this.title="",this.message="",this.buttons=[{text:"确定",type:"confirm",click:function(){this.hide()}}],this.viewdata={title:"",message:"",showTitle:!1}},h.initialize=function($super,a){var b={title:!0,message:!0,buttons:!0,showTitle:!0};this.setOption(function(a,c){switch(!0){case b[a]:this[a]=c}}),this.addClass(i.prefix+"alert"),a||(a={}),a.showTitle||(this.showTitle=a.showTitle=!1),$super($.extend(g,a)),this.buildViewData()},h.buildViewData=function(){this.viewdata.title=this.title,this.viewdata.message=this.message,this.viewdata.showTitle=this.showTitle},h.setViewData=function(a){a.title&&(this.title=a.title),a.message&&(this.message=a.message),this.showTitle=a.showTitle?a.showTitle:!1,a.buttons&&(this.buttons=a.buttons),this.buildViewData(),this.root||(this.root=this.createRoot()),this.setRootHtml(this.createHtml()),this.loadButtons()},h.loadButtons=function(){this.root||this.create();var a=this.root.find(".cui-roller-btns"),b=this.createButtons();a.empty(),$.each(b,function(b,c){a.append(c)})},h.createButtons=function(){var a=[],b="[object Array]"===d.call(this.buttons),c=0,g=this;return $.each(this.buttons,function(d,h){var i="",j=[],k=function(){};if(b){switch(i=h.text,h.cls&&j.push(h.cls),h.type=h.type?h.type:"取消"==i?f:e,h.type){case f:j.push("cui-btns-cancel");break;case e:j.push("cui-btns-sure")}h.click&&(k=h.click)}else i=d,"function"==typeof h&&(k=h);a[c]=$('<div class="cui-flexbd '+j.join(" ")+'">'+i+"</div>"),a[c].addClass(j.join(" ")),a[c].bind("click",$.proxy(k,g)),c++}),a},h.createHtml=function(){return this.tpl(this.viewdata)};var j=new b.Class(c,h);return j.STYLE_CONFIRM=e,j.STYLE_CANCEL=f,j}),define("cUIWarning",["libs","cBase","cUILayer","cUIMask"],function(a,b,c,d){var e={},f={prefix:"cui-"},g=new d({classNames:[f.prefix+"warning-mask"]}),h={};return h["class"]=f.prefix+"warning",h.onCreate=function(){this.contentDom.html('<div class="'+f.prefix+'warning"><div class="blank"></div><p class="blanktxt">'+this.warningtitle+"</p></div>"),this.warningDom=this.contentDom.find(".blanktxt"),this.root.bind("click",$.proxy(function(){this.callback&&this.callback()},this)),g.create(),g.root.bind("click",$.proxy(function(){this.callback&&this.callback()},this))},h.onShow=function(){g.show()},h.onHide=function(){g.hide()},h.setTitle=function(a,b){a&&(this.create(),this.warningDom.html(a),this.warningtitle=a),this.callback=b?b:function(){}},h.getTitle=function(){return this.warningtitle},e.__propertys__=function(){this.warningDom,this.warningtitle="",this.callback=function(){}},e.initialize=function($super,a){this.setOption(function(a,b){switch(a){case"title":this.warningtitle=b}}),$super($.extend(h,a))},new b.Class(c,e)}),define("cUIHeadWarning",["libs","cBase","cUIPageview"],function(a,b,c){var d={},e={prefix:"cui-"},f={};return f["class"]=e.prefix+"warning",f.onCreate=function(){this.root.html(['<div class="head-warning">','<div class="head-warning-padding">','<div class="head-warning-header">','<div class="head-warning-header-backbtu"><span class="returnico"></span></div>','<div class="head-warning-header-title"></div>',"</div>",'<div class="head-warning-content">','<div class="head-warning-content-icon"><div class="cui-load-error"><div class="cui-i cui-wifi cui-exclam"></div></div></div>','<div class="head-warning-content-title"></div>',"</div>","</div>","</div>"].join("")),this.addClass("head-warning-top"),this.warningtitleDom=this.root.find(".head-warning-header-title"),this.warningcontentDom=this.root.find(".head-warning-content-title"),this.warningleftbtuDom=this.root.find(".head-warning-header-backbtu"),this.warningleftbtuDom.bind("click",$.proxy(function(){this.callback&&this.callback()},this))},f.onShow=function(){this.setzIndexTop(),window.scrollTo(0,0)},d.__propertys__=function(){this.warningtitleDom,this.warningcontentDom,this.warningtitle="",this.warningcontent="",this.callback=function(){}},d.initialize=function($super,a){$super($.extend(f,a))},d.setTitle=function(a,b,c){a&&(this.create(),this.warningtitleDom.html(a),this.warningcontentDom.html(b)),c&&(this.callback=c)},new b.Class(c,d)}),define("cUIToast",["libs","cBase","cUILayer"],function(a,b,c){var d={},e={prefix:"cui-",sleep:2},f=null,g=null,h=null,i=function(a){this.hide(),a&&"function"==typeof a&&a.call(this),$(".cui-opacitymask").unbind("click"),$(".cui-toast").unbind("click")},j=function(a,b){var c=this,d=function(){$(".cui-opacitymask").unbind("click").bind("click",function(){i.call(c,b)}),$(".cui-toast").unbind("click").bind("click",function(){i.call(c,b)})};a&&setTimeout(d,400)},k=function(a,b,c,d){var h=this;this.setContent(a),"function"==typeof g&&g.call(this);var k=function(){i.call(h,c)},l=1e3*(b||e.sleep);f=setTimeout(k,l),j.call(this,d,c),this.focusPosition=setInterval($.proxy(function(){var a=document.activeElement;if($.needFocus(a)){this.focusPosition||(this.focusPosition=!0);var b=parseInt($(a).offset().top)+30;this.root.css({top:b+"px",position:"absolute"})}},this),20)},l=function(){clearTimeout(f),this.focusPosition&&(clearInterval(this.focusPosition),this.root.css({top:"50%",position:"fixed"})),"function"==typeof h&&h.call(this)};d.__propertys__=function(){g=this.show,h=this.hide,this.show=k,this.hide=l},d.initialize=function($super,a){this.addClass([e.prefix+"toast"]),$super(a)},d.setContent=function(a){this.create(),this.contentDom.html(a)};var m=new b.Class(c,d);return m}),define("cUIBubbleLayer",["cBase","cUIAbstractView"],function(a,b){var c={};return c.__propertys__=function(){this.itemTemplate=!1,this.triggerEl=null,this.click=function(){}},c.initialize=function($super,a){for(var b in a)this[b]=a[b];$super(a),this.bindEvent(),this.show(),this.hide()},c.showMenu=function(a){for(var b in a)this[b]=a[b];a.data&&this.init(),a.dir&&(this.el.removeClass("f-layer-before"),this.el.removeClass("f-layer-after"),this.el.addClass("up"==a.dir?"f-layer-before":"f-layer-after")),this.adjustEl(),this.show()},c.bindEvent=function(){this.addEvent("onHide",function(){this.root.off("click"),this.clsLayer&&document.removeEventListener("click",this.clsLayer,!0)}),this.addEvent("onShow",function(){this.init(),this.adjustEl(),this.setzIndexTop(),this.root.on("click",$.proxy(function(a){for(var b=$(a.target),c=!1;;){if(b.attr("id")==this.id)break;if("c"==b.attr("data-flag")){c=!0;break}b=b.parent()}c&&"function"==typeof this.click&&this.click.call(this,this.data[b.attr("data-index")])},this)),this.clsLayer=$.proxy(function(a){for(var b=$(a.target),c=!1;;){if(b.attr("id")==this.id){c=!0;break}if(!b[0])break;b=b.parent()}0==c&&this.hide()},this),document.addEventListener("click",this.clsLayer,!0)})},c.adjustEl=function(){if(this.triggerEl){var a=this.triggerEl.offset();this.el.css({width:"",transform:""});var b=6;this.el.css("up"==this.dir?{width:a.width-b,"-webkit-transform":"translate("+(a.left+2)+"px, "+(a.top+a.height+8)+"px) translateZ(0px)"}:{width:a.width-b,"-webkit-transform":"translate("+(a.left+2)+"px, "+(a.top-this.el.offset().height-8)+"px) translateZ(0px)"})}},c.init=function(){if(this.data){this.tmpt=_.template(['<ul class="cui-f-layer '+(this.dir?"up"==this.dir?"f-layer-before":"f-layer-after":"")+'" style="position: absolute; top: 0; left: 0; ">',"<% for(var i = 0, len = data.length; i < len; i++) { %>","<% var itemData = data[i]; %>",'<li data-index="<%=i%>" data-flag="c"  >'+(this.itemTemplate?this.itemTemplate:"<%=itemData.name %>")+"</li>","<% } %>","</ul>"].join(""));var a=this.tmpt({data:this.data});this.root.html(a),this.el=this.root.find(".cui-f-layer")}},c.createHtml=function(){return""},new a.Class(b,c)}),define("cBusinessCommon",["cStorage","cWidgetFactory","cWidgetGuider"],function(a,b){return function(){var c=b.create("Guider");Lizard.viewReady(function(b){var c=window.navigator.userAgent;if(c.indexOf("CtripWireless")>-1)return!0;Lizard.saveAppUrl(b),d(),e();try{a.getInstance().removeOverdueCathch()}catch(f){console&&console.log(f)}}),Lizard.saveAppUrl=function(a){var b=$("#app_url"),c=!1;if(a&&a.getAppUrl&&"function"==typeof a.getAppUrl){var d=a.getAppUrl();d&&_.isString(d)&&(c=!0,b.length?b.val(d):$('<INPUT type="hidden" id="app_url" value="'+d+'"/>').appendTo($("body")))}c||b.length>0&&b.val("")},Lizard.viewReady(function(a){if(Lizard.isHybrid){if(!a||!a._getViewUrl)return;var b=a._getViewUrl();c.app_log_google_remarkting(b)}});var d=function(){var a=Lizard.P("orderID"),b=Lizard.P("type")||Lizard.P("busType")||"",c=Lizard.P("val")||Lizard.P("price")||"";if(a){var d="https://2113.xg4ken.com/media/redir.php?track=1&token=8515ce29-9946-4d41-9edc-2907d0a92490&promoCode=&valueCurrency=CNY&GCID=&kw=&product=";d+="&val="+c+"&orderId="+a+"&type="+b;var e="<img style='position: absolute;' width='1' height='1' src='"+d+"'/>";$("body").append(e)}},e=function(){var a=Lizard.P("orderID"),b=Lizard.P("type")||Lizard.P("busType")||"",c=Lizard.P("val")||Lizard.P("price")||"";if(a){var d="https://tracker.marinsm.com/tp?act=2&cid=6484iki26001&script=no";d+="&price="+c+"&orderid="+a+"&convtype="+b;var e="<img style='position: absolute;' width='1' height='1' src='"+d+"'/>";$("body").append(e)}}}}),window.onunload=function(){},define("cPageView",["libs","cUIHeader","cUIAlert","cUIWarning","cUIHeadWarning","cUIWarning404","cUIToast","cUILoading","cUIBubbleLayer","cBusinessCommon","cUtility",Lizard.app.version.gte(6.4)?"cHybridShell":""],function(a,b,c,d,e,f,g,h,i,j,k,l){j();var m=new c({title:"提示信息",message:"",buttons:[{text:"知道了",click:function(){this.hide()}}]}),n=new c({title:"提示信息",message:"您的订单还未完成，是否确定要离开当前页面？",buttons:[{text:"取消",click:function(){this.hide()},type:c.STYLE_CANCEL},{text:"确定",click:function(){this.hide()},type:c.STYLE_CONFIRM}]}),o=new d({title:""}),p=new e({title:""}),q=new f,r=new h,s=new g,t=new i,u=Backbone.View.extend({scrollPos:{x:0,y:0},header:null,headerview:null,lastViewId:"",pageid:0,hpageid:0,scrollZero:!0,initialize:function(){this.id=this.$el.attr("id"),this.alert=m,this.warning=o,this.headwarning=p,this.warning404=q,this.loading=r;var a=this.loading.showAction;this.loading.showAction=function(){this.contentDom.html(Lizard.__loadingtmpl),this.mask.show(),a.call(this),this.setzIndexTop()};var b=this.loading.hide;this.loading.hide=function(){this.root&&this.root.hide(),this.mask&&this.mask.hide(),b.call(this)},this.warning404.setTmpl(Lizard.__loadingfailtmpl,".btn-retry"),this.toast=s,this.bubbleLayer=t,this.confirm=n,this.create()},_createHeader:function(){var a=$("#headerview");this.header=this.headerview=new b({root:a})},create:function(){this.onCreate&&this.onCreate()},destroy:function(){this.$el.remove()},show:function(){document.activeElement&&document.activeElement.blur(),this._createHeader(),!this.switchByOut&&this.$el.show(),this.validateRet&&this.onLoad&&this.onLoad(this.lastViewId),this.validateRet&&this.onShow&&this.onShow(),this.onBottomPull&&(this._onWidnowScroll=$.proxy(this.onWidnowScroll,this),this.addScrollListener()),this.scrollZero&&window.scrollTo(0,0)},hide:function(){this.onHide&&this.onHide(),this.removeScrollListener&&this.removeScrollListener(),this.$el.hide()},jump:function(a,b){b&&0==window.location.pathname.indexOf("/webapp/wallet/")?window.location.replace(a):window.location.href=a},forward:function(a,b){Lizard.forward(a,b)},back:function(a,b){Lizard.back(a,b)},getAppUrl:function(){return""},getQuery:function(a){return Lizard.P(a)},saveScrollPos:function(){this.scrollPos={x:window.scrollX,y:window.scrollY}},restoreScrollPos:function(){window.scrollTo(this.scrollPos.x,this.scrollPos.y)},turning:function(){},showMessage:function(a,b){this.alert.setViewData({message:a,title:b}),this.alert.show()},hideMessage:function(){this.alert.hide()},showConfirm:function(a,b,d,e,f,g){this.confirm.setViewData("object"==typeof a&&a.message?a:{message:a,title:b,buttons:[{text:g||"取消",click:function(){"function"==typeof e&&e(),this.hide()},type:c.STYLE_CANCEL},{text:f||"确定",click:function(){"function"==typeof d&&d(),this.hide()},type:c.STYLE_CONFIRM}]}),this.confirm.show()},hideConfirm:function(){this.confirm.hide()},showBubbleLayer:function(a){this.bubbleLayer.showMenu(a)},hideBubbleLayer:function(){this.bubbleLayer.hide()},showWarning:function(a,b){a&&this.warning.setTitle(a,b),this.warning.show()},hideWarning:function(){this.warning.hide()},showWarning404:function(a){a&&this.warning404.retryClick(a),this.warning404.show(),this.warning404.firer=this},hideWarning404:function(){this.warning404.firer&&this.warning404.firer!==this||this.warning404.hide()},showToast:function(a,b,c,d){this.toast.isShow()||(d="undefined"!=typeof d?d:!0,this.toast.show(a,b,c,d))},hideToast:function(){this.toast.hide()},showLoading:function(){if(_.isUndefined(l))this.loading.show(),this.loading.firer=this,this.loading.reposition();else{var a=new l.Fn("show_loading_page");a.run()}},hideLoading:function(){if(_.isUndefined(l))this.loading.firer&&this.loading.firer!=this||this.loading.hide();else{var a=new l.Fn("hide_loading_page");a.run()}},getServerDate:function(){return k.getServerDate()},setTitle:function(a){document.title=a},getGuid:function(){return k.getGuid()},sendUbt:function(){var a=this;window.__bfi||(window.__bfi=[]);var b,c=($("#page_id"),$("#bf_ubt_orderid")),d=location.href,e=a.browserReferrer||"",f="";if(k.isInApp()){if(0==a.hpageid)return;var g=Lizard.getAbsPath(d.replace(/.*#/,""));if(d=Lizard.toUBTURL(g),e){var h=Lizard.getAbsPath(e.replace(/.*#/,""));e=Lizard.toUBTURL(h)}else;b=a.hpageid}else{if(0==a.pageid)return;if(b=a.pageid,e){var h=Lizard.getAbsPath(e,1);e=Lizard.toUBTURL(h,1)}else;}f=Lizard.P("orderid")||Lizard.P("oid")||"",1==c.length&&c.val(f),window.__bfi.push(["_asynRefresh",{page_id:b,orderid:f,url:decodeURIComponent(d),refer:decodeURIComponent(e)}])},_sendUbt:function(a){this.sendUbt(a)},_getViewUrl:function(){var a=location.href;if(k.isInApp()){var b=a.indexOf("webapp");a="http://hybridm.ctrip.com/"+a.substr(b)}return a}});return u}),define("cDataSource",["libs","cBase"],function(a,b){var c=new b.Class({__propertys__:function(){this.data,this.filters=[],this.group={},this.isUpdate=!0},initialize:function(a){this.setOption(a)},setOption:function(a){a=a||{};for(var b in a)switch(b){case"data":this.setData(data)}},setData:function(a){this.data=a,this.isUpdate=!0},filter:function(a,b){if("function"!=typeof a)throw"Screening function did not fill in";var c=function(b,c){return a(c,b)};return this.filters=_.filter(this.data,c),this.filters=this.filters||[],"function"==typeof b?this.filters.sort(b):this.filters},groupBy:function(a,b){return this.group=_.filter(this.data,b),this.group=_.groupBy(this.group,a),this.group}});return c}),define("cUICitylist",["libs","cBase","cUIBase"],function(a,b,c){var d=new b.Class({__propertys__:function(){this.element=null,this.groupOpenClass="cityListClick",this.selectedCityClass="citylistcrt",this.autoLocCity=null,this.selectedCity=null,this.defaultData="inland",this.itemClickFun=null,this.data=null,this.autoLoc=!!navigator.geolocation,this.listType=this.defaultData},initialize:function(a){this.setOption(a),this.assert(),this._init()},_init:function(){this.renderCityGroup(),this.data&&(this.renderData=this.data[this.defaultData]||[],this.bindClickEvent())},setOption:function(a){for(var b in a)switch(b){case"groupOpenClass":case"selectedCityClass":case"selectedCity":case"itemClickFun":case"defaultData":case"autoLoc":case"autoLocCity":case"data":this[b]=a[b];break;case"element":this[b]=$(a[b])}},assert:function(){if(!this.element&&0==this.element.length)throw"not override element property"},renderCityGroup:function(){var a=[];this.autoLocCity&&this.autoLocCity.listType==this.listType&&this.autoLocCity.name&&(a.push('<li id="'+c.config.prefix+'curCity" data-ruler="item"'),a.push(this.selectedCity&&this.autoLocCity.name!=this.selectedCity.name?' class="noCrt"':' class="'+this.selectedCityClass+'" '),a.push(' data-value="'+this.autoLocCity.name+'"'),a.push(">当前城市</li>")),a.push('<li id="hotCity" data-ruler="group" data-group="hotCity" class="'+this.groupOpenClass+'" >热门城市</li>');var b="ABCDEFGHJKLMNOPQRSTWXYZ".split("");for(var d in b)a.push('<li data-ruler="group" data-group="'+b[d]+'" id="'+b[d]+'">'+b[d]+"</li>");this.element.html(a.join(""))},groupClickHandler:function(a,b){var a=$(a),d=a.attr("data-group")||a.attr("id");if(0==a.children().length){var e=[];try{e=this.renderData[d]}catch(f){return void console.log("city list 无"+d+"分组数据")}var g=[];g.push("<ul>");for(var h=0,i=e.length;i>h;h++){var j=e[h];g.push('<li class data-ruler="item" data-id="'+j.id+'"'),g.push(">"+j.name+"</li>")}g.push("</ul>"),a.append(g.join(""))}var k=a.attr("class");b?a.addClass(this.groupOpenClass):k&&$.inArray(this.groupOpenClass,k)?a.removeClass(this.groupOpenClass):(this.element.find("."+this.groupOpenClass).removeClass(this.groupOpenClass),a.addClass(this.groupOpenClass));var l=c.getElementPos(a[0]);l&&"hotCity"!=a.attr("id")&&$(window).scrollTop(l.top-60),this.setSelectedCity(this.selectedCity)},bindClickEvent:function(){var a=this;this.element.delegate("li","click",function(){var b=$(this).attr("data-ruler");if("group"==b)a.groupClickHandler(this);else if("item"==b&&a.itemClickFun&&"function"==typeof a.itemClickFun){var c={id:$(this).attr("data-id"),name:$(this).attr("data-value")||$(this).html(),listType:a.listType};a.itemClickFun(c)}})},switchData:function(a){var b=this.data[a];b&&(this.listType=a,this.element.undelegate("li","click"),this.element.html(""),this.renderCityGroup(),this.renderData=b,this.groupClickHandler(this.element.find("#hotCity"),!0),this.setSelectedCity(this.selectedCity),this.bindClickEvent())},setSelectedCity:function(a){var b=this;if(a&&this.listType==a.listType&&a.name){var d=this.element.find("#"+c.config.prefix+"curCity");if(d.length>0)d.removeClass(this.selectedCityClass),d.addClass("noCrt");else if(b.autoLocCity&&b.autoLocCity.listType==this.listType&&b.autoLocCity.name){var e=[];e.push('<li id="'+c.config.prefix+'curCity"'),e.push('data-value="'+a.name+'" data-ruler="item">当前城市</li>'),this.element.prepend(e.join())}this.element.find("li").each(function(){var c=$(this);c.html()==a.name||c.attr("data-value")==a.name?(c.removeClass("noCrt"),c.addClass(b.selectedCityClass)):c.removeClass(b.selectedCityClass)}),this.selectedCity=a}},setData:function(a){this.element.html(""),this.data=a,this._init()},openHotCity:function(a){var b=this.element.find("#hotCity");b.length>0&&this.groupClickHandler(b,!!a)}});return d}),define("cUIInputClear",["libs"],function(){var a=function(){var a="placeholder"in document.createElement("input"),b=function(b,c,d,e,f){c||(c=""),e=e||{};var g="string"==typeof b?$(b):b;g.each(function(){var b=$('<a class="clear-input '+c+'" href="javascript:;"><span></span></a>'),g=$(this);if(f&&(b=$('<span class="cui-focus-close '+c+'">×</span>')),e.left&&b.css({left:e.left+"px",right:"auto"}),e.top&&b.css({top:e.top+"px",bottom:"auto"}),e.right&&b.css({right:e.right+"px",left:"auto"}),e.bottom&&b.css({bottom:e.bottom+"px",top:"auto"}),g.parent().addClass("clear-input-box"),!a)var h=g.attr("placeholder"),i=$('<span class="placeholder-title'+(c?" placeholder-"+c:"")+'">'+h+"</span>");b.hide(),g.bind({focus:function(){var a=$.trim(g.val());""!=a&&b.show()},input:function(){window.setTimeout(function(){var c=g.val();""==c?b.hide():b.show(),a||(""==c?i.show():i.hide())},10)},blur:function(){var c=$.trim(g.val());a||(""==c?i.show():i.hide()),setTimeout(function(){b.hide()},200)}}),b.bind("click",function(){g.val(""),g.keyup(),b.hide(),g.focus(),g.trigger("input"),"function"==typeof d&&d.call(this)}),g.after(b),a||(g.after(i),i.bind("click",function(){g.focus()})),g.blur()})};return b}();return a}),define("cUILoadingLayer",["libs","cBase","cUILayer"],function(a,b,c){var d={prefix:"cui-"},e={};e["class"]=d.prefix+"loading",e.onShow=function(){this.contentDom.html(['<div class="cui-grayload-text">','<div class="cui-i cui-w-loading"></div>','<div class="cui-i cui-m-logo"></div>','<div class="cui-grayload-close"></div>','<div class="cui-grayload-bfont">'+this.text+"</div>","</div>"].join("")),this.root.find(".cui-grayload-close").off("click").on("click",$.proxy(function(){this.callback&&this.callback(),this.hide()},this)),this.reposition()};var f={};return f.__propertys__=function(){this.contentDom,this.callback=function(){},this.text="发送中..."},f.initialize=function($super,a,b){this.callback=a||function(){},this.text=b||"发送中...",$super(e)},new b.Class(c,f)}),define("cUIScrollList",["cBase"],function(){window.initTap=function(){var a=$("#forTap");return a[0]||(a=$('<div id="forTap" style="color: White; display: none; border-radius: 60px; position: absolute; z-index: 99999; width: 60px; height: 60px"></div>'),$("body").append(a)),a},window.showMaskTap=function(a,b){var c=initTap();c[0]&&c.css({top:b+"px",left:a+"px"}),c.show(),setTimeout(function(){c.hide()},350)};var a=function(a){a=a||{},this._checkEventCompatibility(),this._setBaseParam(a),this._initBaseDom(a),this._setDisItemNum(a),this._setSelectedIndex(a),this.init()};return a.prototype={constructor:a,_checkEventCompatibility:function(){var a="ontouchstart"in document.documentElement;this.start=a?"touchstart":"mousedown",this.move=a?"touchmove":"mousemove",this.end=a?"touchend":"mouseup",this.startFn,this.moveFn,this.endFn},_setBaseParam:function(a){this.setHeight=0,this.itemHeight=0,this.dragHeight=0,this.dragTop=0,this.timeGap=0,this.touchTime=0,this.moveAble=!1,this.moveState="up",this.oTop=0,this.curTop=0,this.mouseY=0,this.cooling=!1,this.animateParam=a.animateParam||[50,40,30,25,20,15,10,8,6,4,2],this.animateParam=a.animateParam||[10,8,6,5,4,3,2,1,0,0,0],this.data=a.data||[],this.dataK={},this.size=this.getValidSize(this.data),this._changed=a.changed||null},getValidSize:function(a){return _.filter(a,function(a){return"undefined"==typeof a.key&&(a.key=a.id),"undefined"==typeof a.val&&(a.val=a.name),a.val||a.key}).length},_initBaseDom:function(a){this.wrapper=a.wrapper||$(document),this.type=a.type||"list",this.id=a.id||"id_"+(new Date).getTime(),this.className=a.className||"cui-roller-bd",this._setScrollClass(a),this._initDom(),this.wrapper.append(this.body)},_setScrollClass:function(a){var b;"list"==this.type?b="cui-select-view":"radio"==this.type&&(b="ul-list"),b=a.scrollClass||b,this.scrollClass=b},_initDom:function(){this.body=$(['<div class="'+this.className+'" style="overflow: hidden; position: relative; " id="'+this.id+'" >',"</div>"].join("")),this.dragEl=$(['<ul class="'+this.scrollClass+'" style="position: absolute; width: 100%;">',"</ul>"].join(""))},_setDisItemNum:function(a){if(this.disItemNum=this.data.length,this.disItemNum=this.disItemNum>5?5:this.disItemNum,"radio"==this.type&&(this.disItemNum=5),this.disItemNum=a.disItemNum||this.disItemNum,"radio"==this.type&&(this.disItemNum=this.disItemNum%2==0?this.disItemNum+1:this.disItemNum),this.data.length<this.disItemNum)if("radio"==this.type){for(var b=0,c=this.disItemNum-this.data.length;c>b;b++)this.data.push({key:"",val:"",disabled:!1});this.size=this.disItemNum}else this.disItemNum=this.data.length},_setSelectedIndex:function(a){this.selectedIndex=parseInt(this.disItemNum/2),"list"==this.type&&(this.selectedIndex=-1),this.selectedIndex=void 0!=a.index?a.index:this.selectedIndex,this.selectedIndex=this.selectedIndex>this.data.length?0:this.selectedIndex,this._checkSelected()},_checkSelected:function(a){a=a||"down";var b=this.selectedIndex;!this.data[b]||"undefined"!=typeof this.data[b].disabled&&0!=this.data[b].disabled||("down"==a?(this.selectedIndex=this._checkSelectedDown(b),"number"!=typeof this.selectedIndex&&(this.selectedIndex=this._checkSelectedUp(b))):(this.selectedIndex=this._checkSelectedUp(b),"number"!=typeof this.selectedIndex&&(this.selectedIndex=this._checkSelectedDown(b)))),"number"!=typeof this.selectedIndex&&(this.selectedIndex=b)},_checkSelectedUp:function(a){for(var b=!1,c=a;-1!=c;c--)if(this.data[c]&&"undefined"==typeof this.data[c].disabled||1==this.data[c].disabled){a=c,b=!0;break}return b?a:null},_checkSelectedDown:function(a){for(var b=!1,c=a,d=this.data.length;d>c;c++)if(this.data[c]&&"undefined"==typeof this.data[c].disabled||1==this.data[c].disabled){a=c,b=!0;break}return b?a:null},init:function(){this._addItem(),this._initEventParam(),this._addEvent(),this._initScrollBar(),this.setIndex(this.selectedIndex,!0)},_addItem:function(){var a,b,c,d;for(var c in this.data)b=this.data[c],b.index=c,"undefined"==typeof b.key&&(b.key=b.id),"undefined"==typeof b.val&&(b.val=b.name),d=b.val||b.key,this.dataK[b.key]=b,a=$("<li>"+d+"</li>"),a.attr("data-index",c),"undefined"!=typeof b.disabled&&0==b.disabled&&a.css("color","gray"),this.dragEl.append(a);this.body.append(this.dragEl)},_initEventParam:function(){if(this.data.constructor!=Array||0==this.data.length)return!1;var a=this.dragEl.offset(),b=this.dragEl.find("li").eq(0),c=b.offset();this.itemHeight=c.height,this.setHeight=this.itemHeight*this.disItemNum,this.body.css("height",this.setHeight),this.dragTop=a.top,this.dragHeight=this.itemHeight*this.size},_addEvent:function(){var a=this;this.startFn=function(b){a._touchStart.call(a,b)},this.moveFn=function(b){a._touchMove.call(a,b)},this.endFn=function(b){a._touchEnd.call(a,b)},this.dragEl[0].addEventListener(this.start,this.startFn,!1),this.dragEl[0].addEventListener(this.move,this.moveFn,!1),this.dragEl[0].addEventListener(this.end,this.endFn,!1)},removeEvent:function(){this.dragEl[0].removeEventListener(this.start,this.startFn),this.dragEl[0].removeEventListener(this.move,this.moveFn),this.dragEl[0].removeEventListener(this.end,this.endFn)},_initScrollBar:function(){if("list"==this.type){if(this.scrollProportion=this.setHeight/this.dragHeight,this.isNeedScrollBar=!0,this.scrollProportion>=1)return this.isNeedScrollBar=!1,!1;this.scrollBar=$('<div style="background-color: rgba(0, 0, 0, 0.498039);border: 1px solid rgba(255, 255, 255, 0.901961); width: 5px; border-radius: 3px;  position: absolute; right: 1px;  opacity: 0.2;  "></div>'),this.body.append(this.scrollBar),this.scrollHeight=parseInt(this.scrollProportion*this.setHeight),this.scrollBar.css("height",this.scrollHeight)}},_setScrollTop:function(a,b){if(this.isNeedScrollBar){a=this._getResetData(a).top,a=0>a?a+10:a;var c=-1*a;if("number"==typeof b){var d=parseInt(c*this.scrollProportion)+"px";this.scrollBar.animate({top:d,right:"1px"},b,"linear")}else this.scrollBar.css("top",parseInt(c*this.scrollProportion)+"px");this.scrollBar.css("opacity","0.8")}},_hideScroll:function(){this.isNeedScrollBar&&this.scrollBar.animate({opacity:"0.2"})},_touchStart:function(a){a.preventDefault();var b=this;if(this.cooling)return setTimeout(function(){b.cooling=!1},50),a.preventDefault(),!1;var c,d=$(a.target).parent();if(this.isMoved=!1,d.hasClass(this.scrollClass)){this.touchTime=a.timeStamp,c=this.getMousePos(a.changedTouches&&a.changedTouches[0]||a);var e=parseFloat(this.dragEl.css("top"))||0;this.mouseY=c.top-e,this.moveAble=!0}},_touchMove:function(a){if(a.preventDefault(),!this.moveAble)return!1;var b=this.getMousePos(a.changedTouches&&a.changedTouches[0]||a);this.curTop=b.top-this.mouseY;var c=this._cheakListBound(this.curTop);0!=c&&(this.curTop=c.top),this.isMoved=!0,this.dragEl.css("top",this.curTop+"px"),this._setScrollTop(this.curTop),a.preventDefault()},_cheakListBound:function(a){var b=parseInt(this.dragHeight)-parseInt(this.setHeight),c=!1;if("radio"==this.type){var d=parseInt(this.disItemNum/2);a>this.itemHeight*d?(a=this.itemHeight*d,c=!0):a<-1*b-this.itemHeight*d&&(a=-1*b-this.itemHeight*d,c=!0)}else a>this.itemHeight?(a=this.itemHeight,c=!0):a<-1*b-this.itemHeight&&(a=-1*b-this.itemHeight,c=!0);return c?(this.isBound=!0,{speed:1,top:a}):(this.isBound=!1,!1)},_getAnimateData:function(a){this.timeGap=a.timeStamp-this.touchTime;var b=this.oTop<=this.curTop?1:-1,c=this.curTop>0?1:-1;this.moveState=b>0?"up":"down";var d=parseFloat(this.itemHeight),e=d/2,f=Math.abs(this.curTop),g=f%d;f=(parseInt(f/d)*d+(g>e?d:0))*c;var h=parseInt(this.timeGap/10-10);h=h>0?h:0;var i=this.animateParam[h]||0,j=i*d*b;return f+=j,{top:f,speed:i}},_touchEnd:function(a){var b=this;if(this.isBound===!0&&this.isMoved===!0)return b.reset.call(b,this.curTop),this.moveAble=!1,!1;if(!this.moveAble)return!1;this.cooling=!0;var c=this._getAnimateData(a),d=c.top,e=c.speed,f=this._cheakListBound(d);if(0!=f&&(d=f.top,e=f.speed),this.oTop!=this.curTop&&this.curTop!=d)this.dragEl.animate({top:d+"px"},100+20*e,"linear",function(){b.reset.call(b,d)}),b._setScrollTop(d,100+20*e);else{return}this._hideScroll(),this.moveAble=!1},_getResetData:function(a){var b=parseInt("list"==this.type?0:this.disItemNum/2),c=a,d=!1,e="list"==this.type?0:parseFloat(this.itemHeight)*b,f="list"==this.type?this.setHeight:parseFloat(this.itemHeight)*(b+1),g=this.dragHeight;return a>=0&&(a>e?(c=e,d=!0):e>=g&&(c=parseInt(this.dragEl.css("top"))/this.itemHeight*this.itemHeight,d=!0)),0>a&&a+this.dragHeight<=f&&(d=!0,c=-1*(this.dragHeight-f)),a==c&&(d=!1),{top:c,needReset:d}
},reset:function(a){var b=this,c=this._getResetData(a).needReset,d=this._getResetData(a).top;c?b.dragEl.animate({top:d+"px"},50,"linear",function(){b._reset(d)}):b._reset(a),this._hideScroll()},_reset:function(a){this.oTop=a,this.curTop=a,"radio"==this.type&&this.onTouchEnd(),this.cooling=!1},onTouchEnd:function(a){a=a||this;var b,c,d,e,f,g=this._changed,h=parseInt("list"==this.type?0:this.disItemNum/2);if(d=this.data.length,"radio"==this.type?(c=parseInt((this.curTop-this.itemHeight*h)/parseFloat(this.itemHeight)),this.selectedIndex=Math.abs(c),b=this.data[this.selectedIndex]):b=this.data[this.selectedIndex],f=!1,b&&"undefined"!=typeof b.disabled&&0==b.disabled&&(e=this.selectedIndex,"radio"==this.type&&this._checkSelected(this.moveState),e!=this.selectedIndex&&(f=!0)),f)this.setIndex(this.selectedIndex);else{var g=this._changed;g&&"function"==typeof g&&b&&0!=b.disabled&&g.call(a,b),this.dragEl.find("li").removeClass("current"),"radio"==this.type&&this.dragEl.find("li").eq(this.selectedIndex).addClass("current")}},reload:function(a){this.data=a,this.dragEl.html(""),a.constructor==Array&&a.length>0&&(this.selectedIndex=parseInt(this.disItemNum/2),this.selectedIndex=this.selectedIndex>this.data.length?this.data.length-1:this.selectedIndex,this._checkSelected("down"),this._addItem(),this._initEventParam(),this.cooling=!1,this.setIndex(this.selectedIndex,!0),this.dragEl.find("li").removeClass("current"),"radio"==this.type&&this.dragEl.find("li").eq(this.selectedIndex).addClass("current")),this.size=this.getValidSize(a),this.dragHeight=this.itemHeight*this.size},setKey:function(a){if(void 0==a||null==a)return!1;var b=this.dataK[a]&&this.dataK[a].index;this.setIndex(b)},setIndex:function(a,b){if(void 0==a||0>a)return!1;var c=this,d=parseInt(c.disItemNum/2);"list"==c.type&&(this.data.length==c.disItemNum?d=a:(d=0==a?0:1,this.size-a<this.disItemNum&&(d=-1*parseInt(this.size)+parseInt(this.disItemNum)+parseInt(a))));var e,a=parseInt(a);if(0>a)return!1;if(a>=this.data.length&&(a=this.data.length-1),this.selectedIndex=a,e=this.itemHeight*(d-a),c.oTop=e,c.curTop=e,c.cooling=!1,c.dragEl.animate({top:e+"px"},50,"linear"),this._setScrollTop(e,50),"list"==c.type){var f=c.dragEl.find("li");f.removeClass("current"),f.eq(a).addClass("current")}b||c.onTouchEnd()},getSelected:function(){return this.data[this.selectedIndex]},getByKey:function(a){var b=this.dataK[a]&&this.dataK[a].index;return null!=b&&void 0!=b?this.data[b]:null},getMousePos:function(a){var b,c;return b=Math.max(document.body.scrollTop,document.documentElement.scrollTop),c=Math.max(document.body.scrollLeft,document.documentElement.scrollLeft),{top:b+a.clientY,left:c+a.clientX}}},a}),define("cUIScrollRadio",["libs","cBase","cUILayer","cUIScrollList"],function(a,b,c,d){var e={},f={prefix:"cui-"},g={};g["class"]=f.prefix+"warning",g.onCreate=function(){this.root.html(['<div class="cui-pop-box" >','<div class="cui-hd">','<div class="cui-text-center">',""+this.title+"</div>","</div>",'<div class="cui-bd ">','<div class="cui-roller scrollWrapper">',"</div>",'<p class="cui-roller-tips">',""+this.tips+"</p>",'<div class="cui-roller-btns">','<div class="cui-btns-cancel cui-flexbd">'+this.cancel+'</div> <div class="cui-btns-sure cui-flexbd" >',""+this.ok+"</div>","</div>","</div>","</div>"].join("")),this.title=this.root.find(".cui-text-center"),this.tips=this.root.find(".cui-roller-tips"),this.btCancel=this.root.find(".cui-btns-cancel"),this.btOk=this.root.find(".cui-btns-sure"),this.line=$('<div class="cui-mask-gray"></div><div class="cui-lines">&nbsp;</div>'),this.wrapper=this.root.find(".scrollWrapper")},g.onShow=function(){var a=this;if(this.maskToHide(function(){a.hide()}),!this.data||0==this.data.length)return!1;if(-1!=navigator.userAgent.indexOf("MSIE")){this.wrapper.css({height:44*this.disItemNum+"px"});for(var b=0,c=this.data.length;c>b;b++){var e=this.data[b],f=e.length,g=parseInt(this.index[b]);_.isNumber(g)||_.isNaN(g)||(g=0);for(var h=$('<div style="height: '+44*this.disItemNum+'px; overflow: auto; position: relative;" class="cui-roller-bd '+(3==c&&0==b?"cui-flex2":"")+' "><ul class="ul-list" style="height: auto;"></ul></div>'),i=h.find("ul"),j=0;f>j;j++){var k=e[j];k.index=j;var l=$('<li data-index="'+j+'" class="'+(g===j?"current":"")+'"  >'+k.val+"</li>");l.css(""),i.append(l)}this.wrapper.append(h),h[0].scrollTop=44*g}return void this.setzIndexTop()}for(var b=0,c=this.data.length;c>b;b++){var m={wrapper:this.wrapper,data:this.data[b],type:"radio",disItemNum:this.disItemNum,changed:function(b){return function(c){var d=a.changed[b];"function"==typeof d&&d.call(a,c)}}(b)};0==b&&3==c&&(m.className="cui-roller-bd  cui-flex2");var n=new d(m);this.scroll.push(n)}for(var b=0,c=this.data.length;c>b;b++)this.scroll[b].setIndex(this.index[b]),this.scroll[b].setKey(this.key[b]);this.wrapper.append(this.line),this.btOk.on("click",function(){for(var b=[],c=0,d=a.scroll.length;d>c;c++)b.push(a.scroll[c].getSelected());a.okClick.call(a,b),a.hide()}),this.btCancel.on("click",function(){for(var b=[],c=0,d=a.scroll.length;d>c;c++)b.push(a.scroll[c].getSelected());a.cancelClick.call(a,b),a.hide()}),this.setzIndexTop(),this.root.bind("touchmove",function(a){a.preventDefault()}),this.onHashChange=function(){this.hide()},$(window).on("hashchange",$.proxy(this.onHashChange,this))},g.onHide=function(){for(var a=0,b=this.scroll.length;b>a;a++)this.scroll[a].removeEvent();this.btOk.off("click"),this.btCancel.off("click"),this.root.unbind("touchmove"),this.root.remove(),-1!=navigator.userAgent.indexOf("MSIE")&&$(window).off("hashchange",$.proxy(this.onHashChange,this))},e.__propertys__=function(){var a=this;this.changed=[],this.scroll=[],this.data=[],this.index=[],this.key=[],this.disItemNum=5,this.tips="",this.btCancel,this.btOk,this.cancel="取消",this.ok="确定",this.cancelClick=function(){a.hide()},this.okClick=function(){a.hide()},-1!=navigator.userAgent.indexOf("MSIE")&&(this.eventArr={"click .ul-list li":function(a){var b=$(a.currentTarget),c=b.parent();c.find("li").removeClass("current"),b.addClass("current")},"click .cui-btns-sure":function(){for(var a=this,b=this.root.find(".ul-list").find(".current"),c=[],d=0,e=b.length;e>d;d++){var f=$(b[d]).attr("data-index");c.push(this.data[d][f])}a.okClick.call(a,c),a.hide()},"click .cui-btns-cancel":function(){for(var a=this,b=this.root.find(".ul-list").find(".current"),c=[],d=0,e=b.length;e>d;d++){var f=$(b[d]).attr("data-index");c.push(this.data[d][f])}a.okClick.call(a,c),a.hide()}})},e.initialize=function($super,a){this.setOption(function(a,b){this[a]=b}),$super($.extend(g,a))},e.setTips=function(a){this.tips.html(a)};var h=new b.Class(c,e);return h}),define("cUIScroll",["cBase"],function(){function a(a){if(this.$wrapper="string"==typeof a.wrapper?$(a.wrapper):a.wrapper,this.scroller=a.scroller?"string"==typeof a.scroller?$(a.scroller):a.scroller:this.$wrapper.children().eq(0),-1!=navigator.userAgent.indexOf("MSIE"))return this.$wrapper.css({overflow:"auto",position:"relative"}),void(this.destroy=function(){});this.wrapper=this.$wrapper[0],this.scroller=this.scroller[0];var b=this.wrapper.iscrollInstance;if(b)return b;this.scrollerStyle=this.scroller.style,this.options={scrollbars:!0,startX:0,startY:0,bounceTime:600,bounceEasing:d.ease.circular,preventDefaultException:/^(input|textarea|button|select)$/i,bounce:!0,scrollY:!0,scrollX:!1,bindToWrapper:!0,resizePolling:60},this._events={};for(var c in a)this.options[c]=a[c],("scrollStart"==c||"scrollEnd"==c)&&this.on(c,_.bind(a[c],this));this.translateZ=" translateZ(0)",this.x=0,this.y=0,this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable(),this.wrapper.iscrollInstance=this}function b(a){var b=$("<div>"),c=$("<div>"),d={position:"absolute",overflow:"hidden"},e={boxSizing:"border-box",position:"absolute",background:"rgba(0, 0, 0, .5)",border:"1px solid rgba(255, 255, 255, .9)"};return"h"===a?(_.extend(d,{height:7,left:2,right:2,bottom:0}),_.extend(e,{height:"100%"})):(_.extend(d,{width:7,bottom:2,top:2,right:1}),_.extend(e,{width:"100%"})),b.css(d),c.css(e),b.append(c),b[0]}function c(a,b){this.wrapper="string"==typeof b.el?document.querySelector(b.el):b.el,this.indicator=this.wrapper.children[0],this.wrapperStyle=this.wrapper.style,this.indicatorStyle=this.indicator.style,this.scroller=a,this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options={scrollX:!1},_.extend(this.options,b),this.wrapperStyle[d.style.transform]=this.scroller.translateZ,this.wrapperStyle[d.style.transitionDuration]="0ms"}var d=function(){function a(a){return d===!1?!1:""===d?a:d+a.charAt(0).toUpperCase()+a.substr(1)}var b={},c=document.createElement("div").style,d=function(){for(var a,b=["t","webkitT","MozT","msT","OT"],d=0,e=b.length;e>d;d++)if(a=b[d]+"ransform",a in c)return b[d].substr(0,b[d].length-1);return!1}();return b.getTime=Date.now||function(){return(new Date).getTime()},b.addEvent=function(a,b,c,d){a[0]&&a!=window.top&&(a=a[0]),a.addEventListener(b,c,!!d)},b.removeEvent=function(a,b,c,d){a[0]&&a!=window.top&&(a=a[0]),a.removeEventListener(b,c,!!d)},b.momentum=function(a,b,c,d,e){var f,g,h=a-b,i=Math.abs(h)/c,j=6e-4;return f=a+i*i/(2*j)*(0>h?-1:1),g=i/j,d>f?(f=e?d-e/2.5*(i/8):d,h=Math.abs(f-a),g=h/i):f>0&&(f=e?e/2.5*(i/8):0,h=Math.abs(a)+f,g=h/i),{destination:Math.round(f),duration:g}},$.extend(b,{hasTouch:"ontouchstart"in window}),b.isBadAndroid=/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion),$.extend(b.style={},{transform:a("transform"),transitionTimingFunction:a("transitionTimingFunction"),transitionDuration:a("transitionDuration"),transitionDelay:a("transitionDelay"),transformOrigin:a("transformOrigin")}),$.extend(b.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2}),$.extend(b.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return Math.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var b=.22,c=.4;return 0===a?0:1==a?1:c*Math.pow(2,-10*a)*Math.sin(2*(a-b/4)*Math.PI/b)+1}}}),b}();return a.prototype={_init:function(){this._initEvents(),this.options.scrollbars&&this._initIndicator()},refresh:function(){var a=this.wrapper.offsetHeight,b=this.options;0!=a&&(this.wrapperWidth=this.wrapper.clientWidth,this.scrollerWidth=this.scroller.offsetWidth,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.indicator&&(b.scrollY&&this.maxScrollY>=0&&(this.indicator.wrapperStyle.display="none"),b.scrollX&&this.maxScrollX>=0&&(this.indicator.wrapperStyle.display="none")),(b.scrollX||this.maxScrollY>0)&&(this.maxScrollY=0),(b.scrllY||this.maxScrollX>0)&&(this.maxScrollX=0),this.endTime=0,this._execEvent("refresh"),this.resetPosition())},_initEvents:function(a){if(-1==navigator.userAgent.indexOf("MSIE")){var b=a?d.removeEvent:d.addEvent,c=this.options.bindToWrapper?this.wrapper:window;b(window,"orientationchange",this),b(window,"resize",this),d.hasTouch?(b(this.wrapper,"touchstart",this),b(c,"touchmove",this),b(c,"touchcancel",this),b(c,"touchend",this)):(b(this.wrapper,"mousedown",this),b(c,"mousemove",this),b(c,"mousecancel",this),b(c,"mouseup",this)),b(this.scroller,"transitionend",this),b(this.scroller,"webkitTransitionEnd",this),b(this.scroller,"oTransitionEnd",this),b(this.scroller,"MSTransitionEnd",this)}},_start:function(a){var b=this.options;if(b.scrollX&&(this._isMovedChecked=!1,this.enabled=!0),this.enabled&&(!this.initiated||d.eventType[a.type]===this.initiated)){!d.isBadAndroid&&b.preventDefaultException.test(a.target.tagName)&&a.preventDefault();var c,e=a.touches?a.touches[0]:a;if(this.initiated=d.eventType[a.type],this.moved=!1,this.distY=0,this.distX=0,this._transitionTime(),this.startTime=d.getTime(),this.isInTransition){this.isInTransition=!1,c=this.getComputedPosition();var f=Math.round(c.x),g=Math.round(c.y);0>g&&g>this.maxScrollY&&b.adjustXY&&(g=b.adjustXY.call(this,f,g).y),this._translate(f,g),this._execEvent("scrollEnd")}this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=e.pageX,this.pointY=e.pageY,this._execEvent("beforeScrollStart")}},_moveCheck:function(a){var b=this.options;if(b.scrollX&&!this._isMovedChecked){var c=a.touches?a.touches[0]:a,d=Math.abs(c.pageX-this.pointX),e=Math.abs(c.pageY-this.pointY);e>d&&this.disable()}this._isMovedChecked=!0},_move:function(a){if(this.enabled&&d.eventType[a.type]===this.initiated){a.preventDefault();var b,c,e,f,g=this.options,h=a.touches?a.touches[0]:a,i=h.pageX-this.pointX,j=h.pageY-this.pointY,k=d.getTime();this.pointX=h.pageX,this.pointY=h.pageY,this.distX+=i,this.distY+=j,e=Math.abs(this.distX),f=Math.abs(this.distY),k-this.endTime>300&&10>e&&10>f||(g.scrollX&&(j=0),g.scrollY&&(i=0),b=this.x+i,c=this.y+j,(b>0||b<this.maxScrollX)&&(b=this.options.bounce?this.x+i/3:b>0?0:this.maxScrollX),(c>0||c<this.maxScrollY)&&(c=g.bounce?this.y+j/3:c>0?0:this.maxScrollY),this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(b,c),k-this.startTime>300&&(this.startTime=k,this.startX=this.x,this.startY=this.y))}},_end:function(a){if(this.enabled&&d.eventType[a.type]===this.initiated){var b,c=this.options,e=(a.changedTouches?a.changedTouches[0]:a,d.getTime()-this.startTime),f=Math.round(this.x),g=Math.round(this.y),h=(Math.abs(f-this.startX),Math.abs(g-this.startY),0),i="";if(this.isInTransition=0,this.initiated=0,this.endTime=d.getTime(),!this.resetPosition(c.bounceTime))return this.scrollTo(f,g),this.moved?(300>e&&(momentumX=d.momentum(this.x,this.startX,e,this.maxScrollX,c.bounce?this.wrapperWidth:0),b=d.momentum(this.y,this.startY,e,this.maxScrollY,c.bounce?this.wrapperHeight:0),f=momentumX.destination,g=b.destination,h=Math.max(momentumX.duration,b.duration),this.isInTransition=1),f!=this.x||g!=this.y?((f>0||f<this.maxScrollX||g>0||g<this.maxScrollY)&&(i=d.ease.quadratic),void this.scrollTo(f,g,h,i)):void this._execEvent("scrollEnd")):void this._execEvent("scrollCancel")}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},_transitionTimingFunction:function(a){this.scrollerStyle[d.style.transitionTimingFunction]=a,this.indicator&&this.indicator.transitionTimingFunction(a)},_transitionTime:function(a){a=a||0,this.scrollerStyle[d.style.transitionDuration]=a+"ms",this.indicator&&this.indicator.transitionTime(a)},getComputedPosition:function(){var a,b,c=window.getComputedStyle(this.scroller,null);return c=c[d.style.transform].split(")")[0].split(", "),a=+(c[12]||c[4]),b=+(c[13]||c[5]),{x:a,y:b}},_initIndicator:function(){var a,d=this.options.scrollX;a=d?b("h"):b(),this.wrapper.appendChild(a),this.indicator=new c(this,{el:a,scrollX:d}),this.$wrapper.css("position","relative"),this.on("scrollEnd",function(){this.indicator.fade()});var e=this;this.on("scrollCancel",function(){e.indicator.fade()}),this.on("scrollStart",function(){e.indicator.fade(1)}),this.on("beforeScrollStart",function(){e.indicator.fade(1,!0)}),this.on("refresh",function(){e.indicator.refresh()})},_translate:function(a,b){this.scrollerStyle[d.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ,this.x=a,this.y=b,this.options.scrollbars&&this.indicator.updatePosition()},resetPosition:function(a){var b=this.x,c=this.y,d=this.options;return a=a||0,!d.scrollX||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!d.scrollY||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),b==this.x&&c==this.y?!1:(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},scrollTo:function(a,b,c,e){-1==navigator.userAgent.indexOf("MSIE")&&(e=e||d.ease.circular,this.isInTransition=c>0,(!c||e.style)&&(this._transitionTimingFunction(e.style),this._transitionTime(c),this._translate(a,b)))},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;c>b;b++)this._events[a][b].call(this)}},destroy:function(){this._initEvents(!0),this._execEvent("destroy"),this.indicator&&this.indicator.destroy()},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},handleEvent:function(a){switch($("#log").html(a.type),a.type){case"touchstart":case"mousedown":this._start(a);break;case"touchmove":case"mousemove":this._moveCheck(a),this._move(a);break;case"touchend":case"mouseup":case"touchcancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a)}}},c.prototype={transitionTime:function(a){a=a||0,this.indicatorStyle[d.style.transitionDuration]=a+"ms"},transitionTimingFunction:function(a){this.indicatorStyle[d.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime();var a,b,c=(this.wrapper.offsetHeight,this.wrapper.clientHeight),d=this.wrapper.clientWidth;this.options.scrollX?(b=Math.max(Math.round(d*d/(this.scroller.scrollerWidth||d||1)),8),this.indicatorStyle.width=b+"px",this.maxPosX=d-b,this.sizeRatioX=this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX):(a=Math.max(Math.round(c*c/(this.scroller.scrollerHeight||c||1)),8),this.indicatorStyle.height=a+"px",this.maxPosY=c-a,this.sizeRatioY=this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},destroy:function(){$(this.wrapper).remove()},updatePosition:function(){var a,b=Math.round(this.sizeRatioY*this.scroller.y)||0,c=Math.round(this.sizeRatioX*this.scroller.x)||0;this.y=b,this.x=c,a=this.options.scrollX?"translate("+c+"px, 0)":"translate(0,"+b+"px)",this.indicatorStyle[d.style.transform]=a+this.scroller.translateZ},fade:function(a,b){if(!b||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var c=a?250:500,e=a?0:300;a=a?"1":"0",this.wrapperStyle[d.style.transitionDuration]=c+"ms",this.fadeTimeout=setTimeout($.proxy(function(a){this.wrapperStyle.opacity=a,this.visible=+a},this),e)}}},a.utils=d,a}),define("cUIScrollRadioList",["cBase","cUILayer","cUIScroll"],function(a,b,c){var d={},e={prefix:"cui-"},f={};f["class"]=e.prefix+"warning",f.onCreate=function(){this.root.html(['<div class="cui-pop-box" lazyTap="true">','<div class="cui-hd"><div class="cui-text-center">'+this.title+"</div></div>",'<div class="cui-bd cui-roller-bd" style="overflow: hidden; position: relative; ">',"</div>","</div>"].join("")),this.title=this.root.find(".cui-text-center"),this.content=this.root.find(".cui-bd")},f.onShow=function(){var a=this;this.maskToHide(function(){a.hide()});var b=$('<ul class="cui-select-view " style="position: absolute; width: 100%; "></ul>');this.dataK={};for(var d in this.data){_data=this.data[d],_data.index=d,"undefined"==typeof _data.key&&(_data.key=_data.id),"undefined"==typeof _data.val&&(_data.val=_data.name);var e=_data.val||_data.key,f=$("<li>"+e+"</li>");f.attr("data-index",d),"undefined"!=typeof _data.disabled&&0==_data.disabled&&f.css("color","gray"),d==this.index&&f.addClass("current"),this.dataK[_data.key]=_data,b.append(f)}this.content.append(b);var g=this.data.length;this.disItemNum>g&&(this.disItemNum=g);var h=b.height()/g,i=h*this.disItemNum;this.content.css("height",i),this.scroll=new c({wrapper:this.content,scroller:b});var j=this.index;this.key&&(j=this.dataK[this.key].index),g-j<this.disItemNum&&(j=g-this.disItemNum);var k=h*j*-1;this.scroll.scrollTo(0,k);var a=this;b.on("click",$.proxy(function(b){var c=$(b.target);if(c&&null!==c.attr("data-index")){var d=this.data[c.attr("data-index")];this.itemClick.call(a,d),this.hide()}},this)),this.scroller=b,this.setzIndexTop(),this.root.bind("touchmove",function(a){a.preventDefault()}),this.onHashChange=function(){this.hide()},$(window).on("hashchange.tttttt",$.proxy(this.onHashChange,this))},f.onHide=function(){this.scroll.destroy(),this.root.unbind("touchmove"),this.root.remove(),$(window).off(".tttttt"),this.scroller&&this.scroller.off("click")},d.__propertys__=function(){this.title,this.content,this.itemClick=function(){},this.scroll=null,this.data=[],this.index=-1,this.key=null,this.disItemNum=5},d.initialize=function($super,a){this.setOption(function(a,b){this[a]=b}),$super($.extend(f,a))};var g=new a.Class(b,d);return g}),define("cUIEventListener",["libs","cBase"],function(a,b){var c={};return c.__propertys__=function(){this.__events__={}},c.initialize=function(){},c.addEvent=function(a,b){if(!a||!b)throw"addEvent Parameter is not complete!";var c=this.__events__[a]||[];c.push(b),this.__events__[a]=c},c.removeEvent=function(a,b){if(!a)throw"removeEvent parameters must be at least specify the type!";var c=this.__events__[a];if(c)if(b)for(var d=Math.max(c.length-1,0);d>=0;d--)c[d]===b&&c.splice(d,1);else delete c[a]},c.trigger=function(a,b,c){var d=this.__events__[a];if(d)for(var e=0,f=d.length;f>e;e++)"function"==typeof d[e]&&d[e].apply(c||this,b)},new b.Class(c)}),define("cUISwitch",["cBase","cUIAbstractView"],function(a,b){var c={};return c.__propertys__=function(){this.mouseData={sX:0,eX:0,sY:0,eY:0},this.checkedFlag=!1},c.initialize=function($super,a){this.bindEvent(),this.allowsConfig.changed=!0,this.checkedFlag=a.checked,$super(a),this.show()},c.bindEvent=function(){this.addEvent("onShow",function(){this.el=this.root.find(".cui-switch"),this.switchBar=this.el.find(".cui-switch-bg"),$.flip(this.root,"left",$.proxy(function(){this.unChecked()},this)),$.flip(this.root,"right",$.proxy(function(){this.checked()},this)),$.flip(this.root,"tap",$.proxy(function(){this.el.hasClass("current")?this.unChecked():this.checked()},this))}),this.addEvent("onHide",function(){$.flipDestroy(this.el),this.root.remove()})},c.createHtml=function(){var a=this.checkedFlag?"current":"";return['<div class="cui-switch '+a+'">','<div class="cui-switch-bg '+a+'"></div>','<div class="cui-switch-scroll"></div>',"</div>"].join("")},c._getLRDir=function(){return this.mouseData.eX-this.mouseData.sX>0?"right":this.mouseData.eX-this.mouseData.sX<0?"left":void 0},c.unChecked=function(){this.getStatus()&&(this.el.removeClass("current"),this.switchBar.removeClass("current"),this._triggerChanged())},c.checked=function(){this.getStatus()||(this.el.addClass("current"),this.switchBar.addClass("current"),this._triggerChanged())},c._triggerChanged=function(){"function"==typeof this.changed&&this.changed.call(this)},c.getStatus=function(){return this.el.hasClass("current")},c.setStatus=function(a){a?(this.el.addClass("current"),this.switchBar.addClass("current")):(this.el.removeClass("current"),this.switchBar.removeClass("current"))},new a.Class(b,c)}),define("cUINum",["cBase","cUIAbstractView"],function(a,b){var c={};return c.__propertys__=function(){this.min=1,this.max=9,this.curNum=1,this.needText=!0,this.addClass="num-add",this.minusClass="num-minus",this.curClass="num-value-txt",this.invalid="num-invalid",this.minAble=!0,this.maxAble=!0,this.unit="",this.minDom=null,this.maxDom=null,this.curDom=null,this.hasBindEvent=!1,this.changed=function(){},this.changeAble=function(){}},c.initialize=function($super,a){for(var b in a)this[b]=a[b];$super(a),this.bindEvent(),this.show()},c.bindEvent=function(){this.addEvent("onHide",function(){this.root.off("click"),this.curDom.off("focus"),this.curDom.off("blur"),this.root.remove()}),this.addEvent("onShow",function(){this.maxDom=this.root.find("."+this.addClass),this.minDom=this.root.find("."+this.minusClass),this.curDom=this.root.find("."+this.curClass),this.resetNum(),0==this.needText&&this.curDom.attr("disabled","disabled"),0==this.hasBindEvent&&(this.root.on("click",$.proxy(function(a){var b=$(a.target);b.hasClass(this.curClass)||(b.hasClass(this.addClass)&&this.maxAble&&this.setVal(this.curNum+1),b.hasClass(this.minusClass)&&this.minAble&&this.setVal(this.curNum-1),a.preventDefault())},this)),this.needText&&(this.curDom.on("focus",$.proxy(function(){this.curDom.val("")},this)),this.curDom.on("blur",$.proxy(function(){this.setVal(this.curDom.val())},this))),this.hasBindEvent=!0)})},c.resetNum=function(a){this.curDom.attr("data-key",this.curNum),this.curDom.val(this.getText()),"function"!=typeof this.changed||a||this.changed.call(this,this.curNum),this.testValid()},c.getVal=function(){return this.curNum},c.setVal=function(a){if("function"==typeof this.changeAble&&0==this.changeAble.call(this,a))return this.resetNum(!0),!1;var b=!0;a==parseInt(a)&&(b=this.curNum==a,a=parseInt(a),this.curNum=a,a<this.min&&(this.curNum=this.min),a>this.max&&(this.curNum=this.max)),this.resetNum(b)},c.testValid=function(){this.curNum==this.min?(this.deactiveItem(this.minDom),this.minAble=!1):0==this.minAble&&(this.acticeItem(this.minDom),this.minAble=!0),this.curNum==this.max?(this.deactiveItem(this.maxDom),this.maxAble=!1):0==this.maxAble&&(this.acticeItem(this.maxDom),this.maxAble=!0)},c.deactiveItem=function(a){a&&a.addClass(this.invalid)},c.acticeItem=function(a){a&&a.removeClass(this.invalid)},c.getText=function(){return this.curNum+this.unit},c.createHtml=function(){return['<span class="cui-number-ma">','<i class="'+this.minusClass+'"></i>','<input type="tel"  class="'+this.curClass+'" >','<i class="'+this.addClass+'"></i>',"</span>"].join("")},new a.Class(b,c)}),define("cUIGroupList",["cBase","cUIAbstractView"],function(a,b){var c={};return c.__propertys__=function(){this.data=[],this.needFold=!1,this.foldAll=!1,this.unFoldOne=!1,this.selectedKey=null,this.el=null,this.filter="",this.click=function(){},this.OnClick=function(){},this.isCreated=!1,this.itemTemplate=!1},c.initialize=function($super,a){for(var b in a)this[b]=a[b];$super(a),this.paramFormat(),this.bindEvent(),this.show()},c.paramFormat=function(){var a=this.filter&&this.filter.split(",");"object"!=typeof a&&(a={}),this.filter=a},c.bindEvent=function(){this.addEvent("onShow",function(){if(!this.isCreated){this.isCreated=!0;this.init(),this.root.on("click",$.proxy(function(a){for(var b=$(a.target),c=!1;;){if(b.attr("id")==this.id)break;if("c"==b.attr("data-flag")){c=!0;break}b=b.parent()}if(c)return void this.setSelected(b.attr("data-key"));if(0!=this.needFold&&b.hasClass("cui-city-t")){var d=b.parent();d.hasClass("cui-arrow-close")?(this.unFoldOne&&this.root.find(".cui-city-itmes > li").attr("class","cui-arrow-close"),d.attr("class","cui-arrow-open")):(this.unFoldOne&&this.root.find(".cui-city-itmes > li").attr("class","cui-arrow-close"),d.attr("class","cui-arrow-close"))}},this))}})},c.destroy=function(){this.root.off("click"),this.root.remove()},c.init=function(){1==this.foldAll&&(this.needFold=!0),this.tmpt=_.template(['<ul class="cui-city-itmes">',"<%for(var i = 0, len = data.length; i < len; i++) { %>",'<li data-groupindex="<%=i%>" data-key="<%=data[i].id %>"  '+(this.needFold?'<%if(foldAll && ((typeof data[i].unFold == "undefined") || data[i].unFold != true)) {%> class="cui-arrow-close" <%} else {%> class="cui-arrow-open" <%}%>':"")+">",'<span class="cui-city-t" ><%=data[i].name %></span>',"<%var item = data[i].data; %>",'<ul class="cui-city-n">',"<%for(var j = 0, len1 = item.length; j < len1; j++) { %>","<% var itemData = item[j]; %>",'<% var _f = ""; for(var k in filter) { _f += (itemData[filter[k]] ? itemData[filter[k]] : "").toLowerCase() + " ";  } %>','<li data-skey="item_<%=itemData.id%>" '+("undefined"!=typeof this.groupFlag?'data-groupflag="'+this.groupFlag+'"':"")+' data-filter="<%=_f%>" data-key="<%=itemData.id%>" data-index="<%=i%>,<%=j%>" data-flag="c" <%if(itemData.id == selectedKey){%> class="current" <%}%> > '+(this.itemTemplate?this.itemTemplate:"<%=itemData.name %>")+" </li>","<%} %>","</ul>","</li>","<%} %>","</ul>"].join(""));var a=this.tmpt({data:this.data,foldAll:this.foldAll,selectedKey:this.selectedKey,filter:this.filter});this.root.html(a)},c.updateItem=function(){},c.updateGroup=function(a,b){var c=this.data[a];if(c){this.data[a]=b;var d=this.root.find('li[data-groupindex="'+a+'"]');this.tmpt=_.template(['<li data-groupindex="<%=i%>" data-key="<%=data.id %>"  '+(this.needFold?'<%if(foldAll && ((typeof data.unFold == "undefined") || data.unFold != true)) {%> class="cui-arrow-close" <%} else {%> class="cui-arrow-open" <%}%>':"")+">",'<span class="cui-city-t" ><%=data.name %></span>',"<%var item = data.data; %>",'<ul class="cui-city-n">',"<%for(var j = 0, len1 = item.length; j < len1; j++) { %>",'<% var _f = ""; for(var k in filter) { _f += (item[j][filter[k]] ? item[j][filter[k]] : "").toLowerCase() + " ";  } %>','<li data-skey="item_<%=item[j].id%>" '+("undefined"!=typeof this.groupFlag?'data-groupflag="'+this.groupFlag+'"':"")+' data-filter="<%=_f%>" data-key="<%=item[j].id%>" data-index="<%=i%>,<%=j%>" data-flag="c" <%if(item[j].id == selectedKey){%> class="current" <%}%> ><%=item[j].name %></li>',"<%} %>","</ul>","</li>"].join(""));var e=this.tmpt({data:b,foldAll:this.foldAll,selectedKey:this.selectedKey,filter:this.filter,i:a}),f=$(e);d.before(f),d.remove()}},c.reload=function(a){a&&(this.data=a),this.root.html(""),this.init()},c.setSelected=function(a,b){this.selectedKey=a;var c=this.getSelected();this.root.find(".cui-city-n li").removeClass("current"),this.el.addClass("current"),"function"==typeof this.onClick&&this.onClick.call(this,c),"function"!=typeof this.click||b||this.click.call(this,c)},c.getSelected=function(){if(this.el=this.root.find('li[data-skey="item_'+(this.selectedKey||"")+'"]'),"string"!=typeof this.el.attr("data-index"))return null;var a=this.el.attr("data-index").split(",");return 2!=a.length?null:this.data[parseInt(a[0])].data[parseInt(a[1])]},c.createHtml=function(){return""},new a.Class(b,c)}),define("cUIBusinessGroupList",["cBase","cUIAbstractView","cUIGroupList"],function(a,b,c){var d={};return d.__propertys__=function(){this.needTab=!0,this.groupIndex=0,this.groupObj=[],this.isCreated=!1,this.selectedKey=null,this.CLICK_RES=null,this.filter="",this.needFold=!1,this.foldAll=!1,this.unFoldOne=!1,this.showFnBtn=!1,this.fnBtnTxt="清除历史记录",this.fnBtnCallback=function(){},this.itemTemplate=!1,this.isAjax=!1,this.ajaxCallBack=function(){},this.lastKeyword="",this.ajaxData=[]},d.initialize=function($super,a){for(var b in a)this[b]=a[b];$super(a),this.isAjax&&(this.needFold=!1,this.foldAll=!1,this.filter="",this.needTab=!1),this.bindEvent(),this.show()},d.bindEvent=function(){this.addEvent("onHide",function(){this.destroyItemInstance(),this.unBindTabEvent(),this.unBindSeachEvent(),this.unBindSeachItemEvent(),this.unBindCancelEvent(),this.unBindFnBtn(),this.root.remove()}),this.addEvent("onShow",function(){if(!this.isCreated){this.isCreated=!0;this.init(),this.bindTabEvent(),this.bindSeachEvent(),this.bindSeachItemEvent(),this.bindCancelEvent(),this.bindFnBtn()}})},d.bindFnBtn=function(){this.showFnBtn&&this.root.find(".cui-btn-history").on("click",$.proxy(function(){this.fnBtnCallback.call(this)},this))},d.unBindFnBtn=function(){this.showFnBtn&&this.root.find(".cui-btn-history").off("click")},d.destroyItemInstance=function(){for(var a=0,b=this.groupObj.length;b>a;a++)this.groupObj[a].instance.destroy()},d.unBindTabEvent=function(){var a=this.tabWrapper.find("li");a.off("click")},d.bindTabEvent=function(){var a=this.tabWrapper.find("li");a.on("click",$.proxy(function(b){var c=$(b.target);a.removeClass("cui-tab-current"),c.addClass("cui-tab-current");var d=c.attr("data-index");this.groupObj[this.groupIndex].instance.hide(),this.groupObj[this.groupIndex].instance.selectedKey&&(this.selectedKey=this.groupObj[this.groupIndex].instance.selectedKey),this.selectedKey&&this.groupObj[d].instance.setSelected(this.selectedKey,!0),this.groupObj[d].instance.show(),this.groupIndex=d
},this))},d.getSelected=function(){return this.selectedKey},d.unBindSeachEvent=function(){this.searchBox.off("focus")},d.bindSeachEvent=function(){this.searchBox.on("focus",$.proxy(function(){this.openSeach()},this))},d.unBindSeachItemEvent=function(){this.seachList.off("click")},d.bindSeachItemEvent=function(){this.seachList.on("click",$.proxy(function(a){for(var b=$(a.target),c=!1;;){if(b.hasClass("seach-list"))break;if("c"==b.attr("data-flag")){c=!0;break}b=b.parent()}return this.isAjax?void("function"==typeof this.click&&(this.click.call(this,this.ajaxData[b.attr("data-index")]),this.closeSeach())):(this.groupIndex=b.attr("data-groupflag"),this.selectedKey=b.attr("data-key"),this.groupObj[this.groupIndex].instance.setSelected(this.selectedKey),void this.closeSeach())},this))},d.unBindCancelEvent=function(){this.cancel.off("click")},d.bindCancelEvent=function(){this.cancel.on("click",$.proxy(function(){this.closeSeach()},this))},d.openSeach=function(){this.CLICK_RES||(this.CLICK_RES=setInterval($.proxy(function(){("INPUT"!=document.activeElement.nodeName||"text"!=document.activeElement.type)&&this.CLICK_RES&&(clearInterval(this.CLICK_RES),this.CLICK_RES=null);var a=this.searchBox.val().toLowerCase();if(""==a)return void setTimeout($.proxy(function(){("INPUT"!=document.activeElement.nodeName||"text"!=document.activeElement.type)&&this.closeSeach()},this),500);if(this.lastKeyword==a)return!0;if(this.lastKeyword=a,this.wrapper.addClass("cui-input-focus"),this.root.find(".cui-btn-history").hide(),this.listWrapper.hide(),this.tabWrapper.hide(),this.seachList.show(),this.seachList.html(""),this.noData.hide(),this.isAjax)return this.ajaxCallBack.call(this,a),void(this.LOADINGSRC=setTimeout($.proxy(function(){this.loading.show()},this),200));for(var b=this.listWrapper.find('li[data-filter*="'+a+'"]'),c=[],d=0,e=b.length;e>d;d++){var f=!1;for(var g in c)if($(c[g]).attr("data-key")==$(b[d]).attr("data-key")){f=!0;break}0==f&&c.push(b[d])}return 0==c.length?void this.noData.show():void this.seachList.append($(c).clone(!0))},this),500))},d.ajaxDataHandle=function(a){this.ajaxData=a;var b=["<% for(var i = 0, len = data.length; i < len; i++ ){ %>","<% itemData = data[i]; %>",'<li data-key="<%=itemData.id%>" data-index="<%=i%>" data-flag="c" '+(this.itemTemplate?this.itemTemplate:"<%=itemData.name %>")+" </li>","<% } %>"].join(""),c=_.template(b)({data:a});this.LOADINGSRC&&clearTimeout(this.LOADINGSRC),this.loading.hide(),this.seachList.html(c)},d.closeSeach=function(){this.CLICK_RES&&(clearInterval(this.CLICK_RES),this.CLICK_RES=null),this.wrapper.removeClass("cui-input-focus"),this.noData.hide(),this.searchBox.val(""),this.needTab&&this.tabWrapper.show(),this.seachList.hide(),this.listWrapper.show(),this.lastKeyword="",this.root.find(".cui-btn-history").show()},d.init=function(){this.tabWrapper=this.root.find(".cui-tab-mod"),this.tabBar=this.tabWrapper.find(".cui-tab-scrollbar"),this.noData=this.root.find(".cui-city-novalue"),this.wrapper=this.root.find(".cui-citys-hd"),this.listWrapper=this.root.find(".cui-citys-bd"),this.searchBox=this.root.find(".cui-input-box"),this.seachList=this.root.find(".seach-list"),this.cancel=this.root.find(".cui-btn-cancle"),this.loading=this.root.find(".cui-pro-load"),this.initTab(),this.initGroupList(),this.bindEvent()},d.initTab=function(){for(var a=0,b=this.groupObj.length;b>a;a++){var c='<li data-index="'+a+'" '+(a==this.groupIndex?'class="cui-tab-current"':"")+" >"+this.groupObj[a].name+"</li>";this.tabBar.before(c)}},d.initGroupList=function(){for(var a=this,b=0,d=this.groupObj.length;d>b;b++){var e=this.groupObj[b].data;this.groupObj[b].instance=new c({rootBox:this.listWrapper,data:e,filter:this.filter,click:this.click,foldAll:this.foldAll,needFold:this.needFold,itemTemplate:this.itemTemplate,unFoldOne:this.unFoldOne,groupFlag:b,onClick:function(){a.selectedKey=this.selectedKey}}),this.groupObj[b].instance.hide()}this.groupObj[this.groupIndex].instance.show(),this.groupObj[this.groupIndex].instance.setSelected(this.selectedKey,!0)},d.reload=function(a){a&&(this.groupObj=a),this.destroyItemInstance(),this.listWrapper.empty(),this.initGroupList()},d.updateTab=function(){},d.updateTabGroup=function(){},d.updateAllTabGroup=function(a,b){for(var c=0,d=this.groupObj.length;d>c;c++)this.groupObj[c].instance.updateGroup(a,b)},d.updateTabGroupItem=function(){},d.createHtml=function(){return['<section class="cui-citys-hd ">','<div class="cui-input-bd">','<input type="text" class="cui-input-box" placeholder="中文/拼音/首字母">','<span class="cui-pro-load" style="display: none;">','<span class="cui-pro-radius"></span>','<span class="cui-i cui-pro-logo"></span>',"</span>","</div>",'<button type="button" class="cui-btn-cancle">',"取消</button>","</section>",'<p class="cui-city-novalue" style="display: none;">没有结果</p>','<ul class="cui-tab-mod" '+(this.needTab?"":'style="display: none"')+" >",'<i class="cui-tab-scrollbar cui-tabnum'+this.groupObj.length+'"></i>',"</ul>",'<ul class="cui-city-associate seach-list"></ul>','<section  class="cui-citys-bd">',"</section>",this.showFnBtn?'<button type="button" class="cui-btn-history" >'+this.fnBtnTxt+"</button>":""].join("")},new a.Class(b,d)}),define("cUITab",["cBase","cUIAbstractView"],function(a,b){var c={};return c.__propertys__=function(){this.selectedKey=null,this.data=[],this.changed=function(){},this.changeAble=function(){},this.curEl=null},c.initialize=function($super,a){for(var b in a)this[b]=a[b];$super(a),this.bindEvent(),this.show()},c.bindEvent=function(){this.addEvent("onShow",function(){this.init(),this.root.on("click",$.proxy(function(a){var b=$(a.target);"li"==b[0].tagName.toLowerCase()&&this.setVal(b.attr("data-key"))},this))}),this.addEvent("onHide",function(){this.root.off("click"),this.root.remove()})},c.getVal=function(){return this.selectedKey},c.setVal=function(a){this.curEl=this.root.find('li[data-key="'+a+'"]');var b=this.curEl.attr("data-index"),c=this.data[b];if("function"==typeof this.changeAble&&0==this.changeAble.call(this,c))return!1;if(!c)return void console.log("设置值有误");this._tab=this.root.find(".cui-tab-scrollbar");var d=this.selectedKey==a;if(this.selectedKey=a,this.tabs.removeClass("cui-tab-current"),this.curEl&&this.curEl.addClass("cui-tab-current"),navigator.userAgent.toLowerCase().indexOf("android")>-1){var e=this._tab.css("width");setTimeout($.proxy(function(){this._tab.css("width",e)},this),0)}0==d&&"function"==typeof this.changed&&this.changed.call(this,c)},c.setIndex=function(a){0>a||a>this.data.length-1||this.setVal(this.data[a].id)},c.getIndex=function(){for(var a=0,b=this.data.length;b>a;a++)if(this.getVal()==this.data[a].id)return a;return-1},c.init=function(){this.tmpt=_.template(['<ul class="cui-tab-mod">',"<%for(var i = 0, len = data.length; i < len; i++) { %>",'<li data-key="<%=data[i].id %>" data-index="<%=i%>" <% if(data[i].id == selectedKey) { %>class="cui-tab-current"<%} %> ><%=data[i].name %></li>',"<%} %>",'<i class="cui-tab-scrollbar cui-tabnum<%=len %>"></i>',"</ul>"].join(""));var a=this.tmpt({data:this.data,selectedKey:this.selectedKey});this.root.html(a),this.tabs=this.root.find("li"),this.curEl=this.root.find(".cui-tab-current")},c.createHtml=function(){return""},new a.Class(b,c)}),define("cUIImageSlider",["cBase","cUIBase","libs"],function(a,b){return new a.Class({__propertys__:function(){this.ENUM={DIR:{LEFT:"LEFT",RIGHT:"RIGHT"}},this.images=[],this.autoPlay=!0,this.index=0,this.delay=3e3,this.dir=this.ENUM.DIR.LEFT,this.errorImage="",this.lodingImage="",this.onChange,this.onImageClick,this.container,this.onChanged,this.scope,this.showNav=!0,this.autoHeight=!1,this.defaultImageUrl,this.defaultHeight,this.imageSize,this.loop=!1,this.errorImageUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAAYCAMAAAAGTsm6AAAAMFBMVEX6+vr+/v7+/v7+/v7+/v7+/v7+/v7y8vLv7+/+/v7+/v7+/v729vYAAADt7e3+/v6PQhf9AAAADnRSTlOtVTOIZpki1+wRd0TCAMJ8iPYAAAKfSURBVHjaxZWLjqMwDEXJO7FN7v//7WITOgQ6pVpptbdSecTxiW3iLOt/0g3cirj3po1ZL5lcuw8Sud8QgegJbALy+laMZb/UdY2n9Xj9F/wKFnwLXu/KRiSLG7ISwk+s6Fm9n9PgZUjNKvJ34LLeRThECl4L4ssDyMKak7NLTRvKc41z28Bia15dEVWxwkYiShAicgb26QiwAY6ZC1gV4wCTXdXUjey09gFMOCSvVSv46u2kiEnyMm3DNGGIP4GLCLpIgQyOmD266MsqKnuQPnJbkWhTBalSeIEFycAdZi3in2osOjHM4CqmO5i0gvcaG9ipr4gyDT+BaQKbUom3VLc6xqXewaymBfQdOOu3QFew14HSbGPVLYRCediPBHZ5D2b0bOt6BBvvBsZLoqtvGIEGCWRCJVOQOIEFVpMqfwleaEFajLImNId0dKWb6AXWqrQg8NvN8ggmJRHcBNZiJu1OwyIclY8UWZUAxyoinsBqHtcMegSnHcwzOJfKXODUrwfVa8lq7z+uZ7Dboo3gR3CB0q/gcs5kB+I8KSKlnmdwrTu4AXnpj706j213ATvtlQU8knIJ2HdkRjmfoLkplL0ikJAewYTwDnw0icxRbeRyhCPoaGpTEiiGdpwY+RFcDSSbJVu76vacmYlS31PN1nfpRfHVdnjuqPHcWfS919ttoD2BCXWcyRPYYVcgzr533ki1DwLBuJZw9ERsD0mPCUH3+nr7xc9ghu4jEvT18nGFyHvfcx3eTjGbyaEDMuLJgvG+JRTz3pmA1ApQQ/4d3KpOaxraRhhgd65xC0C0gOyiHs/7iBcrZ65HElKFuQkAPp1OLTUFiNoysU7lfKr/usa6L4TS0Vfm8uVoo8q17Y/KdseyXFP9T9VOn9s88gcLTIlzurC4gAAAAABJRU5ErkJggg==",this.loadImageUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAAYCAMAAAAGTsm6AAAAMFBMVEX6+vr+/v7+/v7+/v7+/v7+/v7+/v7+/v7y8vLv7+/+/v729vb+/v4AAADt7e3+/v6c4gmbAAAADnRSTlOtM4hmVZkiEdfsRMJ3AHDRYrYAAAGwSURBVHjaxdbZktsgEAVQLSxNL9z//9vQgvFYUjKpkqnkPhgJbI4bJMuL/af8DGeS8IcRZm+Shnwb21U/hQ1Ivx9gLL0pDbqMKbYJsN2TDlGPuiF3RzGhYrJ7FF9Rh42wT4VTbrD40WqBxEM89lAjpL2GA15j7h/gdIIzp0fwd2FijB62ER6TO/zdd40+g0kEVYQgw5EDbn3eWcRznEhFh6t4yhgrz+BXQYztDBfpucNyWmr9GNYTfCTSflrqyXDyO0Wv8OoDlH3cCpmRptmwe3cYr0jrsgzwv4EXXRAX2VTVInJAnL7UCvaXcNnjXGI7zuMdG/gLLuoRSG+fw7HDfIYTFWZCUGVboaXMvY89BNevML1PXIH9BRN7ImJvH8MJ5NwVDqqBCTwWpdjIftnjXfaHsGK7wyMCS9wmVtdmP50K+CCS8fFzVY/zxKwaa19qBlqn5qmwooxn8gkO6NmU01org3KpM2GG30cqqHa5uLad27F/h4q1OcAyEc7Fp8teWhMGHN73OG/9io7evGX78K9PjtkBcZLVa105ve2/2V5CLzHaewTyAJ6QlVf7a34BIRiNTVIrVfEAAAAASUVORK5CYII=",this._loadingNode,this._errorNode,this._isloadingImage=!1,this._pfix="slider",this._changing=!1,this._containerNode,this._rootNode,this._imageNode,this._navNode,this._imageLoaderNode,this._handerStartPos={x:0,y:0},this._moveValue=50,this._imageCount=0,this._played=!1,this._size={height:0,width:0},this._lastSize={height:0,width:0},this._displayImage,this._nextImage,this._loadingImage=new Image,this._changeCompletedEvents=[],this._autoPlayTimeout,this._loadMsg="加载中...",this.firstLoad=!0,this._defaultSize={width:0,height:0},this._loadingImage=new Image,this._errorImage=new Image},initialize:function(a){for(var b in a)switch(b){case"images":case"autoPlay":case"delay":case"dir":case"index":case"onChange":case"autoPlay":case"onImageClick":case"scope":case"onChanged":case"errorImageUrl":case"loadImageUrl":case"loop":case"showNav":case"defaultImageUrl":case"defaultHeight":case"imageSize":this[b]=a[b];break;case"container":this._containerNode="string"==typeof a[b]?$(a[b]):a[b],this[b]=a[b]}this._validArgs(),this._correctArgs(),this._imageCount=this.images.length,this._loadingImage.src=this.loadImageUrl,this._errorImage.src=this.errorImageUrl,this.autoHeight=this.imageSize&&this.imageSize.width&&this.imageSize.height?!1:!0},play:function(){this._played||(this._played=!0,this._injectHTML(),this._bindEvents()),this.rePlay()},stop:function(){this._clearAutoPlay()},rePlay:function(){this.autoPlay&&this._autoPlay()},_autoPlay:function(){this._autoPlayTimeout=setTimeout($.proxy(function(){this._isloadingImage||this._play()},this),this.delay)},next:function(){this._changing||this._play()},pre:function(){if(!this._changing){if(this.dir===this.ENUM.DIR.RIGHT)if(this.index>=this._imageCount-1){if(!this.loop)return;this.index=0}else this.index++;else if(this.index<=0){if(!this.loop)return;this.index=this._imageCount-1}else this.index--;this["goto"](this.index)}},"goto":function(a){this.index=a,this._changeImage()},_play:function(){this.dir===this.ENUM.DIR.RIGHT?this._imageToRight():this._imageToLeft()},_clearAutoPlay:function(){clearTimeout(this._autoPlayTimeout)},_validArgs:function(){if(!this.container||!this._containerNode)throw"[c.widget.imageSlider]:no container!"},_correctArgs:function(){this.delay<=500&&(this.delay=2e3)},_createHTML:function(){return['<div class="cui-sliderContainer" style="width:100%;position:relative;">','<div class="cui-imageContainer" style="width:100%;">',"</div>",'<div class="cui-navContainer" style="color:#1491c5;position:absolute;"></div>','<div class="cui-imageLoader">',"</div>"].join("")},_createNav:function(){for(var a=[],b=0;b<this._imageCount;b++){var c=b==this.index?"cui-slide-nav-item-current":"";a.push('<span class="cui-slide-nav-item '+c+'"></span>')}this._navNode.empty().html(a.join(" "))},_injectHTML:function(){this._rootNode=$(this._createHTML()),this._containerNode.html(this._rootNode),this._imageNode=this._rootNode.find(".cui-imageContainer"),this._navNode=this._rootNode.find(".cui-navContainer"),this.showNav||this._navNode.css("display","none"),this._imageNode.empty(),this._createLoading(),this._imageCount>0?this._createImageItem(this.index,$.proxy(function(a,b){this._createNav(),this._setSize(b.height,b.width),this._setLoadingPos(),this._displayImage=a,this._createImageContainer()},this)):(this._createDefault(),this._loadingNode.css("display","none"))},_onImageClick:function(){var a=this.images[this.index];return a&&a.onClick?void a.onClick.call(this.scope||this,a):void(this.onImageClick&&this.onImageClick.call(this.scope||this))},_createImageItem:function(a,b){this._isloadingImage=!0,!a&&(a=0);var c=this._getImageInfo(a),d=new Image;c.src=c.src||this.defaultImageUrl,c.src&&(d.src=c.src),c.alt&&(d.alt=c.alt);var e=this;d.onload=function(){c.orgImage=d,e.autoHeight||(e._defaultSize.width=d.width,e._defaultSize.height=d.height),e._isloadingImage=!1,b.call(e,c,d)},d.onerror=function(){c.loadError=!0,e._errorImage=new Image,e._errorImage.src=e.errorImageUrl,e._isloadingImage=!1,e._errorImage.onload=function(){c.orgImage=e._errorImage,b.call(e,c,e._errorImage),e._navNode&&e._navNode.css("left",($(window).width()-20*e._imageCount)/2)}}},_getImageInfo:function(a){!a&&(a=0);for(var b=0,c=this.images.length;c>b;b++)if(a===b)return this.images[b];throw new Error("[c.ui.imageSlider]:image index is "+a+",but images.length is "+c)},_bindEvents:function(){this._containerNode.bind("touchmove",$.proxy(this._touchmove,this)),this._containerNode.bind("touchstart",$.proxy(this._touchstart,this)),this._containerNode.bind("touchend",$.proxy(this._touchend,this)),$(window).on("resize",$.proxy(this._resize,this)),this._navNode.bind("click",$.proxy(this._switchImage,this)),this._imageNode.bind("click",$.proxy(this._onImageClick,this))},_switchImage:function(a){var b=a.targetElement||a.srcElement,c=$(b).data("index");(0===c||c)&&this.index!==+c&&(this.index=c,this._changeImage())},_imageToRight:function(){if(this.index<=0){if(!this.loop)return;this.index=this._imageCount-1}else this.index--;this._changeImage(this.ENUM.DIR.LEFT)},_imageToLeft:function(){if(this.index>=this._imageCount-1){if(!this.loop)return;this.index=0}else this.index++;this._changeImage(this.ENUM.DIR.RIGHT)},_changeImage:function(a){if(!(this._imageCount<=1)){this._clearAutoPlay(),this._changing=!0,!a&&(a=this.dir);var b=this.images[this.index];b.node?(this._nextImage=b,this._showSliderImage(a)):(this._nextImage={node:this._loadingNode,orgImage:this._loadingImage},this._showLoading(),this._createImageItem(this.index,$.proxy(function(b){this._createImageContainer(),this._nextImage=b,this._showSliderImage(a)},this)))}},_showSliderImage:function(a){var b=0,c=0,d=0,e=0;a===this.ENUM.DIR.LEFT?(b=-1*this._size.width,c=0,d=0,e=this._size.width):(b=this._size.width,c=0,d=0,e=-1*this._size.width),this._displayImage.node.css("left",c),this._nextImage.node.css("left",b).css("display",""),this._nextImage.node.animate({left:d},500,"ease-out",$.proxy(function(){this._changing=!1,this._changeCompeted(),this.rePlay()},this)),this._displayImage.node.animate({left:e},500,"ease-out",$.proxy(function(){this._displayImage.node.css("display","none").css("left",0),this._displayImage=this._nextImage},this))},_touchmove:function(a){if(!this._isMoved){var c=b.getMousePosOfElement(a.targetTouches[0],a.currentTarget);if(!this._isMovedChecked){var d=Math.abs(c.x-this._handerStartPos.x),e=Math.abs(c.y-this._handerStartPos.y);if(e>d)return void(this._isMoved=!0)}if(this._isMovedChecked=!0,a.preventDefault(),!this._changing){var f=c.x-this._handerStartPos.x;f>0&&f>this._moveValue?this._imageToRight():0>f&&Math.abs(f)>this._moveValue&&this._imageToLeft()}}},_touchstart:function(a){this._isMoved=!1,this._isMovedChecked=!1;var c=b.getMousePosOfElement(a.targetTouches[0],a.currentTarget);this._handerStartPos={x:c.x,y:c.y}},_touchend:function(a){a.preventDefault()},_setSize:function(a,b){this._size.width=Math.ceil($(document.body).width()),this._size.height=Math.ceil(a*(this._size.width/b)),this._size.height<100&&(this._size.height=100,this._size.width=b*(this._size.height/a)),this._rootNode.css("width",this._size.width).css("height",this._size.height),this._imageNode.find("div").find("img").css("width",this._size.width).css("height",this._size.height),this.showNav&&this._setNavPos()},_setNavPos:function(){var a=(this._size.width-20*this._imageCount)/2,b=this._size.height-30;this._navNode.css("left",a).css("top",b)},_resize:function(){this._lastSize.width=this._size.width,this._lastSize.height=this._size.height,this.imageSize&&this.imageSize.height&&this.imageSize.width?this._setSize(this.imageSize.height,this.imageSize.width):this._displayImage&&!this._displayImage.loadError&&this._setSize(this._displayImage.orgImage.height,this._displayImage.orgImage.width)},_changeCompeted:function(){for(var a in this._changeCompletedEvents)this._changeCompletedEvents[a]();this._changeCompletedEvents.length=0,this._changeNav(),this.autoHeight&&this._resize(),this.onChanged&&this.onChanged.call(this.scope||this,this.images[this.index],this.index)},_changeNav:function(){this.showNav&&(this._navNode.find("span").removeClass("cui-slide-nav-item-current"),$(this._navNode.find("span")[this.index]).addClass("cui-slide-nav-item-current"))},_createImageContainer:function(){var a=this.images[this.index];if(this._loadingNode.css("display","none"),!a.node){{b.getElementPos(this._rootNode[0]).top-48}a.node=$(a.loadError?this._createImageHtml(this.errorImageUrl,a.alt):this._createImageHtml(a.src,a.alt)),this._imageNode.append(a.node),a.node.css("position","absolute").css("left",0),a.node.bind("click",function(a){a.preventDefault()})}this.autoHeight&&this._resize()},_createLoading:function(){if(this.firstLoad){this._loadingNode=$(this._createImageHtml(this.loadImageUrl));var a=['<div class="cui-breaking-load">','<div class="cui-i cui-m-logo">','</div> <div class="cui-i cui-w-loading">',"</div></div>"];this._loadingNode.html(a.join(" ")).hide(),this.autoHeight||(this._resize(),this._setLoadingPos()),this._imageNode.append(this._loadingNode),this.firstLoad=!1}},_setLoadingPos:function(){if(this._loadingNode.css("position","absolute").css("height",this._size.height).css("width",this._size.width),this._size.height){var a=(this._size.height-70)/2;this._loadingNode.find(".cui-breaking-load").css("top",a)}},_showLoading:function(){this._loadingNode.css("display",""),this._setLoadingPos()},_createDefault:function(){if(this.defaultImageUrl){var a=new Image;a.src=this.defaultImageUrl;var b=this;a.onload=function(){var c=$(b._createImageHtml(b.defaultImageUrl));b._imageNode.append(c),b._displayImage=a,b.autoHeight?b._setSize(a.height,a.width):b._setSize(b.imageSize.height,b.imageSize.width)}}},_createImageHtml:function(a,b){return'<div class="image-node slider-imageContainerNode"><img style="width:'+this._size.width+"px;height:"+this._size.height+'px" src="'+a+'" alt="'+(b?b:"")+'"></div>'}})}),define("cUICore",["cHistory","cPageView","cDataSource","cUIBase","cUIAbstractView","cUIAlert","cUIAnimation","cUICitylist","cUIHeadWarning","cUIInputClear","cUILayer","cUILoading","cUILoadingLayer","cUIMask","cUIPageview","cUIScrollRadio","cUIScrollRadioList","cUIScrollList","cUIToast","cUIWarning","cUIWarning404","cUIHashObserve","cUIEventListener","cUISwitch","cUINum","cUIGroupList","cUIBusinessGroupList","cUITab","cUIImageSlider","cUIBubbleLayer"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D){var E={prefix:"cui-"},F={History:a,View:b,DataSource:c,Tools:d,config:E,AbstractView:e,Alert:f,Animation:g,CityList:h,HeadWarning:i,InputClear:j,Layer:k,Loading:l,LoadingLayer:m,Mask:n,PageView:o,ScrollRadio:p,ScrollRadioList:q,ScrollList:r,Toast:s,Warning:t,HashObserve:v,EventListener:w,cuiSwitch:x,cuiNum:y,cUIGroupList:z,cUIBusinessGroupList:A,cUITab:B,cUIImageSlider:C,cUIBubbleLayer:D};return F}),define("cUI",["cUICore"],function(a){return a}),define("cLazyload",["libs"],function(){var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAAYCAMAAAAGTsm6AAAAMFBMVEXy8vL6+vr+/v7+/v7+/v7v7+/+/v7+/v7+/v7+/v7+/v729vb+/v4AAADt7e3+/v673auIAAAADnRSTlPXrYhVZuwimTMRRMJ3AKjyf0QAAAH3SURBVHjaxdbZkqowGEXhzMM/ZL//2x6IEYh0Cd1addaFUhbJZyKKRv9TZ1iSHirpU6Gme3BB888h3kXwj8PLePZCc0F0lNn1Z0Irl3AQYVhZYnVYY/Zj+Nxze/Aa64ghYyRfrHieZ4Gz398qRV6KiNyL24AsS06e/RGuKqBKpJrWI31NIDo1Tsrt+foR9tfwLresBLcerYvplUu4oMlamGH6BWwXjREZIMGIruBq9jP/Co8pmLmsc9IC1ao6TXaCM0xfttUZnqO3MAkVgjwGaofXklDPQGgUaMA1Q0zW0kx9gQ0fK29hTUQCzuwqzA4TzslzxeJWtbszTPd/uTweNQ4C2eFiZc0hCoP7cQ6HqzpZwPoZbkj34RpZHmRlpAHveeT5+upwChlNpKFZKTsM6CU8Rxz6KvrGT59MRjjDDDRXlnNdQ6xHWLbSDZg4yxa7+UuOeoZTDrU22OUx+H2rCw7RHRiRt8A6KVbP8INxETJ9xgRDI3MPPk48wamBfoZJimqYr2rBtlv82YqrAesGU647nIHoyvxWI/yH8O62tMOCdvw6iQHsESag7vAHW+3buJ9LB0qE3eAe5XAcEZH1Cyv2jO52auSf9+OpMSID6RtwALiOLbdY4/DuH0jq1/gnWx3HgXTnnH2dE20M0F/DQvrlClU99Q/TJ4uko/HGBAAAAABJRU5ErkJggg==",b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAAYCAMAAAAGTsm6AAAAMFBMVEX6+vr+/v7+/v7+/v7+/v7+/v7+/v7+/v7y8vLv7+/+/v729vb+/v4AAADt7e3+/v6c4gmbAAAADnRSTlOtM4hmVZkiEdfsRMJ3AHDRYrYAAAGwSURBVHjaxdbZktsgEAVQLSxNL9z//9vQgvFYUjKpkqnkPhgJbI4bJMuL/af8DGeS8IcRZm+Shnwb21U/hQ1Ivx9gLL0pDbqMKbYJsN2TDlGPuiF3RzGhYrJ7FF9Rh42wT4VTbrD40WqBxEM89lAjpL2GA15j7h/gdIIzp0fwd2FijB62ER6TO/zdd40+g0kEVYQgw5EDbn3eWcRznEhFh6t4yhgrz+BXQYztDBfpucNyWmr9GNYTfCTSflrqyXDyO0Wv8OoDlH3cCpmRptmwe3cYr0jrsgzwv4EXXRAX2VTVInJAnL7UCvaXcNnjXGI7zuMdG/gLLuoRSG+fw7HDfIYTFWZCUGVboaXMvY89BNevML1PXIH9BRN7ImJvH8MJ5NwVDqqBCTwWpdjIftnjXfaHsGK7wyMCS9wmVtdmP50K+CCS8fFzVY/zxKwaa19qBlqn5qmwooxn8gkO6NmU01org3KpM2GG30cqqHa5uLad27F/h4q1OcAyEc7Fp8teWhMGHN73OG/9io7evGX78K9PjtkBcZLVa105ve2/2V5CLzHaewTyAJ6QlVf7a34BIRiNTVIrVfEAAAAASUVORK5CYII=",c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAAYCAMAAAAGTsm6AAAAMFBMVEX6+vr+/v7+/v7+/v7+/v7+/v7+/v7y8vLv7+/+/v7+/v7+/v729vYAAADt7e3+/v6PQhf9AAAADnRSTlOtVTOIZpki1+wRd0TCAMJ8iPYAAAKfSURBVHjaxZWLjqMwDEXJO7FN7v//7WITOgQ6pVpptbdSecTxiW3iLOt/0g3cirj3po1ZL5lcuw8Sud8QgegJbALy+laMZb/UdY2n9Xj9F/wKFnwLXu/KRiSLG7ISwk+s6Fm9n9PgZUjNKvJ34LLeRThECl4L4ssDyMKak7NLTRvKc41z28Bia15dEVWxwkYiShAicgb26QiwAY6ZC1gV4wCTXdXUjey09gFMOCSvVSv46u2kiEnyMm3DNGGIP4GLCLpIgQyOmD266MsqKnuQPnJbkWhTBalSeIEFycAdZi3in2osOjHM4CqmO5i0gvcaG9ipr4gyDT+BaQKbUom3VLc6xqXewaymBfQdOOu3QFew14HSbGPVLYRCediPBHZ5D2b0bOt6BBvvBsZLoqtvGIEGCWRCJVOQOIEFVpMqfwleaEFajLImNId0dKWb6AXWqrQg8NvN8ggmJRHcBNZiJu1OwyIclY8UWZUAxyoinsBqHtcMegSnHcwzOJfKXODUrwfVa8lq7z+uZ7Dboo3gR3CB0q/gcs5kB+I8KSKlnmdwrTu4AXnpj706j213ATvtlQU8knIJ2HdkRjmfoLkplL0ikJAewYTwDnw0icxRbeRyhCPoaGpTEiiGdpwY+RFcDSSbJVu76vacmYlS31PN1nfpRfHVdnjuqPHcWfS919ttoD2BCXWcyRPYYVcgzr533ki1DwLBuJZw9ERsD0mPCUH3+nr7xc9ghu4jEvT18nGFyHvfcx3eTjGbyaEDMuLJgvG+JRTz3pmA1ApQQ/4d3KpOaxraRhhgd65xC0C0gOyiHs/7iBcrZ65HElKFuQkAPp1OLTUFiNoysU7lfKr/usa6L4TS0Vfm8uVoo8q17Y/KdseyXFP9T9VOn9s88gcLTIlzurC4gAAAAABJRU5ErkJggg==",d={};return d.lazyload=function(d,e,f,g){var h=function(){var d=$(this),h=$(new Image),i=d.attr("src");if(d.addClass("cui-item-imgbg"),"string"==typeof i&&i.length>0){d.attr("src",b),"function"==typeof e&&e.call(this,this);var j=function(){d.attr("src",c)};j=f||j;var k=function(){d.attr("src",i),d.removeClass("cui-item-imgbg")};k=g||k,h.bind("error",j).bind("load",k).attr("src",i)}else d.attr("src",a)};$(d).each(h)},d}),define("c",["cBase","cUI","cUtility","cPageView","cModel","cStore","cStorage","cAjax","CommonStore","cLazyload"],function(a,b,c,d,e,f,g,h,i,j){var k={base:a,ui:b,view:d,utility:c,store:f,storage:g,model:e,ajax:h,commonStore:i,lazyload:j};return k}),define("cSales",[],function(){var a={replaceContent:function(){},replaceStrTel:function(){},setSales:function(){},getSales:function(){},getSalesObject:function(){},setUnion:function(){},setSourceId:function(){},updateSales:function(){}};return a}),define("cListAdapter",["libs","cBase"],function(a,b){var c=c||{},d=function(a){for(var b="",c=function(){var a=Math.floor(62*Math.random());return 10>a?a:String.fromCharCode(36>a?a+55:a+61)};b.length<a;)b+=c();return b},e=function(a,b){var c=d(8);return a.getItem(c)?void e(a,b):a.add(c,b)},f=function(a,b){for(var c=0;c<b.length;c++)e(a,b[c])};c.__propertys__=function(){this.observers=[]},c.initialize=function(a){this.setAdapter(a.data)},c.add=function(a){if(a instanceof Array)for(var b=0;b<a.length;b++)e(this.map,a[b]),this.list.push(a[b]);else e(this.map,a),this.list.push(a);this.notifyDataChanged()},c.shift=function(){return this.map.shift(),this.notifyDataChanged(),this.list.shift()},c.pop=function(){return this.map.pop(),this.notifyDataChanged(),this.list.pop()},c.remove=function(a){for(var b=0;a>b;b++)this.map.pop(),this.list.pop();this.notifyDataChanged()},c.sortBy=function(a){this.map.sortBy(a),this.list=_.sortBy(this.list,a),this.notifyDataChanged()},c.setAdapter=function(a){a=a&&a instanceof Array?a:[],this.list=$.extend(!0,[],a),this.map=new b.Hash,f(this.map,a),this.notifyDataChanged()},c.regiseterObserver=function(a){-1===this.observers.indexOf(a)&&this.observers.push(a)},c.unregiseterObserver=function(a){var b=this.observers.indexOf(a);b&&this.observers.splice(b,1)},c.notifyDataChanged=function(){for(var a=0;a<this.observers.length;a++)this.observers[a].update()};var g=new b.Class(c);return g}),define("cGeoHelper",[],function(){var a={Aboard:2,Domestic:1,Unknown:-1,aroundAboardRectList:[[125478833,40538425,135928497,16590043],[128054454,54437790,136370032,49918776],[89567309,54351906,115617882,47881407],[71832315,54566279,82281980,46323836],[72788974,28001436,85887850,16590043],[92510877,48029708,111570476,45034268],[85593493,26157025,97294174,16519064],[97073406,20935216,107743838,16305964],[98324422,45190596,109142033,42854577],[71979493,45863038,78896877,41817208]],chinaRectList:[[85374342,41697126,124486996,28705892],[98942349,28714002,122527683,23331042],[108012216,23415965,119252965,17294543],[120025651,51286036,126391116,41330674],[82936701,46727439,90553182,41621242],[126188746,48211817,129757821,42485061],[129518656,47611932,131468770,44959641],[131376782,47487374,133805226,46225387],[79753968,41876130,85604309,30872189],[113457816,44802677,120117638,41517618],[118977005,23526282,121975765,21629857],[109667973,17321053,119050594,14580095],[76258482,40359687,80011530,35915704],[90534784,44710915,94030271,41531444],[80710628,45077082,83028687,41862379],[85935460,48414308,88437492,46645143],[93975079,42559912,101462779,41600531],[93956681,44157262,95354876,42491869],[116695740,46301949,120117638,44619006],[116401384,49444657,120191227,48057877],[121000708,53244099,124569783,51210984],[106724405,42232628,113494611,41683336],[112133211,44355602,113568200,42123151],[110918989,43155464,112206800,42232628],[115150367,45324216,116769330,44724032],[126299129,49588397,128102064,48057877],[128065270,49131761,129757821,48131826],[129721026,48622090,130530508,47611932],[124349016,52822665,125710416,51095279],[122325313,28884167,123760302,25662561],[111029373,14651757,118388292,10605300],[109778357,10095218,109778357,10095218],[109631178,10459649,116548562,7753573],[110514249,7826971,113678584,4734480],[124330619,41399976,125480450,40689610],[126345123,42512290,128046872,41827986],[127973283,42539507,129104717,42143692],[74510739,40162360,76350468,38678393],[119087389,21629857,120706351,20142916],[106853187,23339537,108067408,21990651],[129707229,44975967,130985841,43017244],[130958245,44582859,131169814,43104932],[131418176,46247729,133129126,45359896],[133073934,48054793,134269758,47409374],[99701237,23386249,101577762,22174986],[100179567,22243514,101559364,21745927],[101485775,23437187,104245370,22875776],[98008686,25240784,99057332,24181992],[124463999,40686109,124905534,40461646],[125457453,41334141,126055365,40979564],[126368119,41824546,126607284,41645397],[125475850,40979564,125687419,40853958],[124477797,40465160,124728460,40343852],[124470898,40347371,124618076,40285757],[124891736,40694862,125153898,40607283],[126046166,41332407,126262335,41165784],[127214395,41836586,128083666,41546995],[126386516,50257998,126386516,50257998],[126280732,50257998,127513351,49580921],[126363520,50934256,127117809,50225552],[125669022,52398490,126276133,51247082],[80948643,30905163,81403976,30280446],[83574857,30911112,85488176,29214825],[98136317,28872274,99079179,27642374]],largeChinaRect:[73083331,54006559,135266195,17015367],isInRect:function(a,b,c){return a>=c[0]&&a<=c[2]&&b>=c[3]&&b<=c[1]?!0:!1},isInRectList:function(a,b,c){for(var d=0;d<c.length-1;d++)if(smallRect=c[d],this.isInRect(a,b,smallRect))return!0;return!1},getCountry:function(a,b){var c=this.Unknown,d=1e6*b,e=1e6*a;return isInAboard=!this.isInRect(e,d,this.largeChinaRect),isInAboard||(isInAboard=this.isInRectList(e,d,this.aroundAboardRectList)),isInAboard?c=this.Aboard:(inInLand=this.isInRectList(e,d,this.chinaRectList),inInLand&&(c=this.Domestic)),c}};return a}),define("cWidgetGeolocation",["cBase","cUtility","cWidgetFactory","cStore","cHybridFacade","cUtilityPerformance","cGeoHelper","cModel"],function(a,b,c,d,e,f,g,h){var i="Geolocation",j="0b895f63ca21c9e82eb158f46fe7f502";if(!c.hasWidget(i)){var k=k||{},l=a.Class(h,{__propertys__:function(){this.url="http://m.ctrip.com/restapi/soa2/10398/json/LBSLocateCity",this.param={}}}).getInstance();k.isInOverseas=!1;var m=new f;k.requestGeographic=function(a,b){var c=m.getUuid();m.group(c,{name:"GeoRequest",url:"Google service",type:"Google service"});var d=function(a,b,c){var e=document.createElement("script"),f=document.write;e.type="text/javascript",e.readyState?e.onreadystatechange=function(){("loaded"==e.readyState||"complete"==e.readyState)&&(e.onreadystatechange=null,document.write=f,c&&b&&b())}:(e.onload=function(){document.write=f,c&&b&&b()},e.onerror=function(){document.write=f}),e.src=a,document.write=function(a){var b=a.match(/http(s)?:\/\/[A-Za-z0-9]+[\.\/=\?%\-&_~`@[\]\:+!]*([^<>])*(\.js)/);b&&d(b[0],function(){document.write=f},!0)},document.body.appendChild(e)},e=function(b){m.groupEnd(c),a&&a(b);var e=b.coords.longitude,f=b.coords.latitude,h=g.getCountry(e,f);2==h?(k.isInOverseas=!0,"undefined"==typeof google&&d("https://maps.googleapis.com/maps/api/js?v=3&region=zh-CN")):k.isInOverseas=!1},f=function(a){m.groupEnd(c);var d="未能获取到您当前位置，请重试或选择城市";switch(a.code){case a.TIMEOUT:d="获取您当前位置超时，请重试或选择城市！";break;case a.PERMISSION_DENIED:d="您拒绝了使用位置共享服务，查询已取消，请开启位置共享或选择城市！";break;case a.POSITION_UNAVAILABLE:d="获取您当前位置信息失败，请重试或选择城市！"}b&&b(a,d)};window.navigator&&window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition(e,f,{enableHighAccuracy:!0,maximumAge:5e3,timeout:2e4}):b&&b("","获取您当前位置信息失败，浏览器不支持定位！")},k.requestAMapAddress=function(a,b,c,d,e){function f(c,d){if(1==d){var e=c&&c.regeocode||"",f=e.addressComponent.city,g=e.addressComponent.province,h=e.addressComponent.district,j="";return _.isString(f)?j=f:_.isString(g)&&(j=g),{address:_.isString(e.formatted_address)?e.formatted_address:"",location:i,info:e&&e.addressComponent,city:j,province:g,district:h,lng:a,lat:b,country:"中国",countryShortName:"CHN"}}if(c&&"OK"===c.status){var h="",j="",k="",g="",l="";if(!c.results)return!1;var m=c.results[0]||{};return _.find(m.address_components,function(a){var b=a&&a.long_name;a.types&&("country"==a.types[0]&&"political"==a.types[1]&&(k=b,l=a.short_name),"administrative_area_level_1"===a.types[0]&&"political"===a.types[1]&&(g=b),"locality"===a.types[0]&&"political"===a.types[1]&&(j=b),"administrative_area_level_2"===a.types[0]&&"political"===a.types[1]&&(h=b),"sublocality_level_1"===a.types[0]&&"sublocality"===a.types[1]&&(h=b))}),""==k&&""==g&&""==j&&""==h?!1:{address:_.isString(c.results[0].formatted_address)?c.results[0].formatted_address:"",location:i,info:c.results[0].address_components,lng:a,lat:b,country:k,province:g,city:j,district:h,countryShortName:l}
}return!1}var h=m.getUuid();m.group(h,{name:"GeoRequest",url:"http://restapi.amap.com/v3/geocode/regeo",type:"AMap service"});var i="121.473704,31.230393",k=1;a&&b&&(i=a+","+b,k=g.getCountry(a,b)),e=e||8e3;var l=1==k?"http://restapi.amap.com/v3/geocode/regeo?"+$.param({location:i,key:j,radius:0,extensions:"all"}):"https://maps.googleapis.com/maps/api/geocode/json?"+$.param({latlng:b+","+a,sensor:!1});$.ajax({url:l,dataType:1==k?"jsonp":"json",success:function(a){m.groupEnd(h);var b=f(a,k);_.isObject(b)?c&&c(f(a,k)):d&&d(a)},error:function(a){m.groupEnd(h),d&&d(a)},timeout:e})},k.requestAMapAround=function(a,b,c,d,e){var f=m.getUuid();m.group(f,{name:"GeoRequest",url:"http://restapi.amap.com/v3/place/around",type:"AMap service"});var g="121.473704,31.230393";a&&b&&(g=a+","+b);var h=$.param({location:g,key:j,radius:500,offset:4,page:1});e=e||8e3,$.ajax({url:"http://restapi.amap.com/v3/place/around?"+h,dataType:"jsonp",success:function(a){m.groupEnd(f);var b=a&&a.pois||[];c&&c(b)},error:function(a){m.groupEnd(f),d&&d(a)},timeout:e})},k.requestAMapKeyword=function(a,b,c,d,e){var f=m.getUuid();m.group(f,{name:"GeoRequest",url:"http://restapi.amap.com/v3/place/text",type:"AMap service"});var g=$.param({keywords:a,city:b,key:j,offset:10,page:1,extensions:"all"});e=e||8e3,$.ajax({url:"http://restapi.amap.com/v3/place/text?"+g,dataType:"jsonp",success:function(a){m.groupEnd(f);var b=a&&a.pois||[];c&&c(b)},error:function(a){m.groupEnd(f),d&&d(a)},timeout:e})},k.tansformLongitude=function(a,b,c,d,e){var f=m.getUuid();m.group(f,{name:"GeoRequest",url:"http://restapi.amap.com/v3/assistant/coordinate/convert",type:"AMap service"});var h=g.getCountry(a,b);if(1!=h)return m.groupEnd(f),void c(a,b);var i=$.param({locations:a+","+b,key:j,coordsys:"gps"});e=e||8e3,$.ajax({url:"http://restapi.amap.com/v3/assistant/coordinate/convert?"+i,dataType:"jsonp",success:function(a){if(m.groupEnd(f),a&&"1"===a.status){var b=a.locations.split(",");c&&c(b[0],b[1])}else d&&d()},error:function(a){m.groupEnd(f),d&&d(a)},timeout:e})},k.requestCityInfo=function(a,c,d,f,g,h,i){var j={number:m.getUuid(),detail:m.getUuid(),city:m.getUuid(),error:m.getUuid()};for(var n in j)m.group(j[n],{name:"GeoRequest",url:(b.isInApp()?"Native":"Web")+" function "+n});var o=function(){var b=function(a){return"geo"==a.type||"address"==a.type||"CtripCity"==a.type},g=!0,k=function(c,e){var f=1,i=0;if(b(c)?c.locateStatus>0&&(i=window.Math.abs(c.locateStatus)):i=f,i)m.groupTag(j.error,"errno","10"+i.toString()),m.groupEnd(j.error),"function"==typeof l&&l(c,e);else{var k=c.value,n="undefined"!=typeof k.addrs;n&&m.groupEnd(j.detail),g&&m.groupEnd(j.number),"CityEntities"in k&&(m.groupEnd(j.city),_.isFunction(h)&&h(k)),g&&"function"==typeof d&&d(k.lng,k.lat),n&&"function"==typeof a&&a({lng:k.lng,lat:k.lat,city:k.city||k.ctyName||k.province,province:k.province,district:k.district,country:k.country,countryShortName:k.countryShortName,address:k.addrs})}g=!1},l=function(a,b){m.groupTag(j.error,"errno","10"),m.groupEnd(j.error);var d=a&&a.error_code||b;d?d.indexOf("201")>-1?f(d):d.indexOf("202")>-1?f(d):d.indexOf("203")>-1?f(d):d.indexOf("204")>-1?c(d):d.indexOf("205")>-1&&i&&i(d):f("(-201)定位未开启")};e.request({name:e.METHOD_LOCATE,success:k,error:l})},p=function(){var b=function(b){m.groupEnd(j.number);var e=b.coords.longitude,f=b.coords.latitude;d&&d(e,f);var n=function(b){m.groupEnd(j.detail),a&&a(b),_.isFunction(h)&&(l.setAttr("param",{Longitude:e,Latitude:f,CountryName:b.country,ProvinceName:b.province,L1CityName:b.city,L2CityName:b.district,TownName:"",Language:"CN"}),l.excute(function(a){m.groupEnd(j.city),h(a)},function(){m.groupTag(j.error,"errno","23"),m.groupEnd(j.error),i&&i()}))},o=function(){m.groupTag(j.error,"errno","21"),m.groupEnd(j.error),c&&c()};g?k.tansformLongitude(e,f,function(a,b){k.requestAMapAddress(a,b,n,o)},function(a){m.groupTag(j.error,"errno","22"),m.groupEnd(j.error),c&&c(a)}):k.requestAMapAddress(e,f,n,o)},e=function(a,b){return m.groupTag(j.error,"errno","20"),m.groupEnd(j.error),"function"==typeof f?void f(b,a):void(c&&c(b))};k.requestGeographic(b,e)},q=b.isInApp()?o:p;q()},k.requestAroundInfo=function(a,b,c){var d=a.split(",")[0],e=a.split(",")[1],f=function(a){b&&b(a)},g=function(){c&&c()};k.requestAMapAround(d,e,f,g)},k.requestKeywordInfo=function(a,b,c,d){var e=function(a){c&&c(a)},f=function(){d&&d()};k.requestAMapKeyword(a,b,e,f)};var n=k.PositionStore=a.Class(d,{__propertys__:function(){this.key="POSITION_CITY",this.lifeTime="10M"},initialize:function($super,a){$super(a)}});k.requestCacheCityInfo=function(a,c,d){var e=n.getInstance(),f=e.get();f?a&&a.call(d,f):k.requestCityInfo(function(c){b.isInApp()||e.set(c),a&&a.call(d,c)},function(a,b){c&&c.call(d,a,b)})},k.requestMap=function(a){function c(a,b,c,d){this.point_=a,this.name_=b,this.map_=c,this.div_=d,this.setMap&&this.setMap(c)}var d=function(a){function b(a,b,d){function f(a,b,d){var f=$("<DIV/>").addClass("map-content");d||$("<IMG/>").attr({src:"http://res.m.ctrip.com/html5/Content/images/map_address.png"}).appendTo(f),a.content&&$("<SPAN/>").html(a.content).appendTo(f);var g;if(d){g=new h.maps.Marker({position:new h.maps.LatLng(a.lat,a.lng),map:b,icon:"http://res.m.ctrip.com/html5/Content/images/map_address.png",id:a.markerId}),a.id&&""!=a.id&&b.setCenter(new h.maps.LatLng(a.lat,a.lng));var i=new c(new h.maps.LatLng(a.lat,a.lng),a.content,b,f[0]);e.marekrs.push(g),e.overlays.push(i),a.callBack&&h.maps.event.addListener(g,"click",function(){a.callBack(a.markerId)})}else g=new AMap.Marker({position:new AMap.LngLat(a.lng,a.lat),map:b,id:a.markerId}),a.id&&""!=a.id&&b.setCenter(new AMap.LngLat(a.lng,a.lat)),g.setContent(f[0]),a.callBack&&AMap.event.addListener(g,"click",function(){a.callBack(a.markerId)})}if(a instanceof Array&&a.length>0)for(var g=0;g<a.length;g++){var i=a[g];if(!i||!i.lat||!i.lng)break;f(i,b,d)}else f(a,b,d)}if(!(a&&a.lat&&a.lng&&a.id))return a.error&&a.error(),!1;var d,e={marekrs:[],overlays:[]},f=!1,h=window.google,i=g.getCountry(a.lng,a.lat);if((1!=i||k.isInOverseas)&&h&&h.maps&&h.maps.LatLng)f=!0,h.maps.OverlayView&&(c.prototype=new h.maps.OverlayView,c.prototype.onAdd=function(){var a=this.getPanes();a.overlayImage.appendChild(this.div_)},c.prototype.draw=function(){var a=this.getProjection(),b=a.fromLatLngToDivPixel(this.point_),c=this.div_;if(c){c.style.left=b.x+20+"px",c.style.top=b.y-50+"px",c.style.position="absolute";var d=c.children[0];d&&(d.style.bottom="0px",d.style.left="0px")}},c.prototype.onRemove=function(){this.div_.parentNode.removeChild(this.div_),this.div_=null});else if(!AMap)return a.error&&a.error(),!1;var j,l=13;if(f)j=new h.maps.Map(document.getElementById(a.id),{center:new h.maps.LatLng(a.lat,a.lng),zoom:a.level||l,zoomControl:!0});else{j=new AMap.Map(a.id,{center:new AMap.LngLat(a.lng,a.lat),level:a.level||l});var m=null,n=function(a){m=new AMap.TileLayer({tileUrl:"http://mt{1,2,3,0}.google.cn/vt/lyrs=m@142&hl=zh-CN&gl=cn&x=[x]&y=[y]&z=[z]&s=Galil"}),m.setMap(a)};(1!=i||k.isInOverseas)&&n(j)}return a.zoomCallBack&&(f?h.maps.event.addListener(j,"zoom_changed",function(){var c=a.zoomCallBack&&a.zoomCallBack(this.getZoom());if(c){if(e.marekrs&&e.marekrs.length>0){for(var d=0;d<e.marekrs.length;d++)e.overlays[d].setMap&&e.overlays[d].setMap(null),e.marekrs[d].setMap&&e.marekrs[d].setMap(null);e={marekrs:[],overlays:[]}}b(c,this,f)}}):AMap.event.addListener(j,"zoomchange",function(){var c=a.zoomCallBack&&a.zoomCallBack(this.getZoom());c&&(this.clearMap(),b(c,this,f))})),d=a.markers instanceof Array&&a.markers.length>0?a.markers:a,b(d,j,f),j},f=function(b){if(!a)throw new Error('function show_map error is "param is null"');b&&b.poiList?e.request({name:e.METHOD_APP_SHOW_MAP_WITH_POI_LIST,poiList:b.poiList}):(b.name=e.METHOD_SHOW_MAP,e.request(b))},h=a.forceAmap||b.isInApp()?f:d;return h(a)},k.show_map=function(a){if(!a)throw new Error('function show_map error is "param is null"');a.name=e.METHOD_SHOW_MAP,e.request(a)},k.app_show_map_with_POI_list=function(a){e.request({name:e.METHOD_APP_SHOW_MAP_WITH_POI_LIST,poiList:a.poiList})},c.register({name:i,fn:k})}}),define("cGeoService",["cWidgetFactory","cUtility","cWidgetGeolocation","cWidgetGuider"],function(a,b){var c={},d=a.create("Geolocation"),e=a.create("Guider"),f=d.PositionStore.getInstance();return c.GeoLocation=function(){function a(a,b,c){for(var d in j)j[d]&&"function"==typeof j[d][a]&&j[d][a].apply(j[d].scope,b);c&&(j={})}var c=0,g=1,h=2,i=3,j={},k=c,l=null;return{Subscribe:function(c,m,n,o){m=m||{},j[c]||(j[c]={name:c,onStart:m.onStart,onComplete:m.onComplete,onError:m.onError,onPosComplete:m.onPosComplete,onPosError:m.onPosError,onCityComplete:m.onCityComplete,onCityError:m.onCityError,scope:n});var p=f.get(),q=b.isInApp();if(o&&(p=null),p&&p.posinfo&&p.cityInfo)k=g,a("onStart",null),k=h,a("onPosComplete",[p.posinfo.lng,p.posinfo.lat]),a("onComplete",[p.posinfo]),a("onCityComplete",[p.cityInfo],!0);else{if(clearTimeout(l),l=setTimeout(function(){k===g&&(k=i,e.print({log:"#cGeoService -- 22 second timeout call onError"}),a("onError",[null],!0))},35e3),k===g)return void(j[c]&&"function"==typeof j[c].onStart&&j[c].onStart.call(n));k=g,a("onStart",null),e.print({log:"#cGeoService -- start request city info"}),d.requestCityInfo(function(b){p||(p={}),p.posinfo=b,q||f.set(p),a("onComplete",[b])},function(b,c){k=i,"number"==typeof c&&2===c&&(c={code:1}),e.print({log:"#cGeoService -- locate onError"}),a("onError",[b,c],!0)},function(b,c){a("onPosComplete",[b,c])},function(b,c){k=i,"number"==typeof c&&2===c&&(c={code:1}),a("onPosError",[b,c],!0)},!0,function(b){k=h,p||(p={}),p.cityInfo=b,q||f.set(p),a("onCityComplete",[b],!0)},function(b,c){k=i,"number"==typeof c&&2===c&&(c={code:1}),e.print({log:"#cGeoService -- locate onError"}),a("onCityError",[b,c],!0)})}},UnSubscribe:function(a){a=_.isArray(a)?a:[a];for(var b=0;b<a.length;b++)delete j[a[b]]},ClearPosition:function(){f.remove()}}}(),c.GeoAround=function(){return{Subscribe:function(a,b,c,e){d.requestAroundInfo(a,function(a){b.call(e,a)},function(){c.call(e)})}}}(),c.GeoKeyword=function(){return{Subscribe:function(a,b,c,e,f){d.requestKeywordInfo(a,b,function(a){c.call(f,a)},function(){e.call(f)})}}}(),c}),define("cMultipleDate",["libs","c"],function(a,b){var c=b.base,d=new c.Class({__propertys__:function(){this.models=new c.Hash,this.index=0,this.results={}},initialize:function(a){this.setOption(a)},setOption:function(a){for(var b in a)switch(b){case"models":this.addModels(a[b])}},addModel:function(a,b){this.models.add(a,b)},addModels:function(a){for(var b in a)a.hasOwnProperty(b)&&this.models.add(b,a[b])},removeModelByName:function(a){this.models.del(a)},removeModelByIndex:function(a){this.models.delByIndex(a)},excute:function(a,b,c,d,e){if(!this.models.length())throw"No model";this.index=0,this._request(a,b,c,d,e)},_request:function(a,b,c,d,e){var f=this.models.index(this.index),g=this;f.excute(function(f){return g.results[g.models.getKey(g.index)]=f,g.index++,g.index>=g.models.length()?(a&&a.call(this,g.results),void(g.results={})):void g._request(a,b,c,d,e)},function(a){b&&b.call(this,a)},c,d,e)}});return d}),define("cUserModel",["cBase","cModel","CommonStore"],function(a,b,c){var d=c.UserStore.getInstance(),e=(c.HeadStore.getInstance(),{});return e.NotUserLoginModel=new a.Class(b,{__propertys__:function(){this.url="/html5/Account/NonUserLogin",this.param={},this._abortres={},this.isAbort=!1},initialize:function($super,a){$super(a)},excute:function(a,c,e,f,g){var h=d.getUser();if(h&&h.IsNonUser)return void("function"==typeof a&&a.call(f,h));this.isAbort=!1;var i="http://"+b.baseurlold().domain+this.url,j=function(b){1==b.ServerCode&&b.Data?(d.setUser(b.Data),"function"==typeof a&&a.call(f,b)):"function"==typeof c&&c.call(f)},k=function(){return this.isAbort?("function"==typeof g&&g.call(f),void(this.isAbort=!1)):void("function"==typeof c&&c.apply(f,arguments))};this._abortres=$.ajax({type:"get",url:i,dataType:"json",crossDomain:!0,success:$.proxy(j,this),error:$.proxy(k,this),timeout:25e3})},abort:function(){this.isAbort=!0,this._abortres&&"function"==typeof this._abortres.abort&&this._abortres.abort()}}),e.UserLoginModel=new a.Class(b,{__propertys__:function(){this.param={},this.contentType="jsonp",this.url="CrossDomainGetTicket/ajax/ajaxgetticket.ashx",this._abortres={},this.isAbort=!1},initialize:function($super,a){$super(a)},buildurl:function(){var a=window.location.host,b="accounts.ctrip.com";return a.match(/^m\.ctrip\.com/i)?b="accounts.ctrip.com":a.match(/\.uat\.qa/i)?b="accounts.uat.qa.nt.ctripcorp.com":(a.match(/\.fat/i)||a.match(/\.lpt/i)||a.match(/\.fws/i)||a.match(/^(localhost|172\.16|127\.0)/i))&&(b="accounts.fat49.qa.nt.ctripcorp.com"),["https://",b,"/",this.url].join("")},excute:function(a,b,c,d,e){this.isAbort=!1;var f=this.buildurl(),g=function(c){0==c.RetCode&&c.UserData?"function"==typeof a&&a.call(d,c.UserData):"function"==typeof b&&b.call(d)},h=function(){return this.isAbort?("function"==typeof e&&e.call(d),void(this.isAbort=!1)):void("function"==typeof b&&b.apply(d,arguments))};this._abortres=$.ajax({type:"get",url:f,dataType:"jsonp",data:this.param,crossDomain:!0,jsonpCallback:"callbackfn",success:$.proxy(g,this),error:$.proxy(h,this),timeout:5e4})},abort:function(){this.isAbort=!0,this._abortres&&"function"==typeof this._abortres.abort&&this._abortres.abort()}}),e.ThirdPartInfoModel=new a.Class(b,{__propertys__:function(){this.param={},this.url="10448/GetThirdPartMembers.json"},initialize:function($super,a){$super(a),this.baseurl=this.seturl()},seturl:function(){var a=window.location.host,b="restapi/soa2/",c="m.ctrip.com";return a.match(/^m\.ctrip\.com/i)?c="m.ctrip.com":a.match(/\.uat\.qa/i)?c="gateway.m.uat.qa.nt.ctripcorp.com":a.match(/(\.fws|\.fat|\.lpt|localhost|172\.16|127\.0)/i)&&(c="gateway.m.fws.qa.nt.ctripcorp.com"),{domain:c,path:b}}}),e.ClientIdModel=new a.Class(b,{__propertys__:function(){this.param={systemcode:"09",createtype:3},this.method="get",this.url="10290/createclientid"},initialize:function($super,a){$super(a),this.baseurl=this.seturl()},seturl:function(){var a=window.location.host,b="restapi/soa2/",c="m.ctrip.com",d="http"==this.protocol?!0:!1;return a.match(/^(m|accounts|secure)\.ctrip\.com/i)?c=d?"m.ctrip.com":"sec-m.ctrip.com":a.match(/\.uat\.qa/i)?c="gateway.m.uat.qa.nt.ctripcorp.com":a.match(/(\.fws|\.fat|\.lpt|localhost|172\.16|127\.0)/i)&&(c="gateway.m.fws.qa.nt.ctripcorp.com"),{domain:c,path:b}}}),e}),define("cUtilityCrypt",[],function(){var a,b={},c=b.Base64,d="2.1.4";"undefined"!=typeof module&&module.exports&&(a=require("buffer").Buffer);var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=function(a){for(var b={},c=0,d=a.length;d>c;c++)b[a.charAt(c)]=c;return b}(e),g=String.fromCharCode,h=function(a){if(a.length<2){var b=a.charCodeAt(0);return 128>b?a:2048>b?g(192|b>>>6)+g(128|63&b):g(224|b>>>12&15)+g(128|b>>>6&63)+g(128|63&b)}var b=65536+1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320);return g(240|b>>>18&7)+g(128|b>>>12&63)+g(128|b>>>6&63)+g(128|63&b)},i=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,j=function(a){return a.replace(i,h)},k=function(a){var b=[0,2,1][a.length%3],c=a.charCodeAt(0)<<16|(a.length>1?a.charCodeAt(1):0)<<8|(a.length>2?a.charCodeAt(2):0),d=[e.charAt(c>>>18),e.charAt(c>>>12&63),b>=2?"=":e.charAt(c>>>6&63),b>=1?"=":e.charAt(63&c)];return d.join("")},l=b.btoa?function(a){return b.btoa(a)}:function(a){return a.replace(/[\s\S]{1,3}/g,k)},m=a?function(b){return new a(b).toString("base64")}:function(a){return l(j(a))},n=function(a,b){return b?m(a).replace(/[+\/]/g,function(a){return"+"==a?"-":"_"}).replace(/=/g,""):m(a)},o=function(a){return n(a,!0)},p=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),q=function(a){switch(a.length){case 4:var b=(7&a.charCodeAt(0))<<18|(63&a.charCodeAt(1))<<12|(63&a.charCodeAt(2))<<6|63&a.charCodeAt(3),c=b-65536;return g((c>>>10)+55296)+g((1023&c)+56320);case 3:return g((15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2));default:return g((31&a.charCodeAt(0))<<6|63&a.charCodeAt(1))}},r=function(a){return a.replace(p,q)},s=function(a){var b=a.length,c=b%4,d=(b>0?f[a.charAt(0)]<<18:0)|(b>1?f[a.charAt(1)]<<12:0)|(b>2?f[a.charAt(2)]<<6:0)|(b>3?f[a.charAt(3)]:0),e=[g(d>>>16),g(d>>>8&255),g(255&d)];return e.length-=[0,0,2,1][c],e.join("")},t=b.atob?function(a){return b.atob(a)}:function(a){return a.replace(/[\s\S]{1,4}/g,s)},u=a?function(b){return new a(b,"base64").toString()}:function(a){return r(t(a))},v=function(a){return u(a.replace(/[-_]/g,function(a){return"-"==a?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},w=function(){var a=b.Base64;return b.Base64=c,a};if(b.Base64={VERSION:d,atob:t,btoa:l,fromBase64:v,toBase64:n,utob:j,encode:n,encodeURI:o,btou:r,decode:v,noConflict:w},"function"==typeof Object.defineProperty){var x=function(a){return{value:a,enumerable:!1,writable:!0,configurable:!0}};b.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",x(function(){return v(this)})),Object.defineProperty(String.prototype,"toBase64",x(function(a){return n(this,a)})),Object.defineProperty(String.prototype,"toBase64URI",x(function(){return n(this,!0)}))}}return b}),define("cWidgetMember",["cUserModel","cWidgetFactory","cHybridFacade","cUtility","cUtilityCrypt","CommonStore"],function(a,b,c,d,e,f){var g="Member",h=window.location.host,i="accounts.ctrip.com";h.match(/^m\.ctrip\.com/i)?i="accounts.ctrip.com":h.match(/.uat\.qa/i)?i="accounts.uat.qa.nt.ctripcorp.com":h.match(/.fat/i)||h.match(/.fws/i)?i="accounts.fat49.qa.nt.ctripcorp.com":h.match(/^(localhost|172\.16|127\.0)/i)&&(i="accounts.fat49.qa.nt.ctripcorp.com");var j={MEMBER_LOGIN:"https://"+i+"/H5Login/#login",REGISTER:"https://"+i+"/H5Register/index.html#register"},k=function(a,b){var c=a,e=location,f=b&&b.param&&"string"==typeof b.param?b.param:"";if(f){f=d.getUrlParams(b.param);var g=f&&f.backurl?decodeURIComponent(f.backurl):"",h=f&&f.from?decodeURIComponent(f.from):"",i=e.protocol+"//"+e.host;d.validate.isUrl(g)?f.backurl=g:""!==g&&(f.backurl=i+g),d.validate.isUrl(h)?f.from=h:""!==h&&(f.from=i+h);var j=$.param(f);""!=j&&(c=c+"?"+j)}window.location.href=c},l={memberLogin:function(a){k(j.MEMBER_LOGIN,a)},nonMemberLogin:function(b){var c=a.NotUserLoginModel.getInstance();b=_.extend({callback:function(){}},b||{}),c.excute(b.callback,b.callback)},register:function(a){k(j.REGISTER,a)},autoLogin:function(b){function c(){var b=a.ThirdPartInfoModel.getInstance(),c=function(a){a.Members&&a.Members.length>0?i.setThirdParts(a.Members):i.setThirdPartsNon()},d=function(){};b.excute(c,d)}function e(){var b=window.localStorage,c=b.getItem("GUID"),e=d.getCookie("GUID"),f=a.ClientIdModel.getInstance();e||c&&!(c.indexOf("-")>-1)?e||d.setCookie("GUID",c,new Date((new Date).getTime()+93312e6),"/",".ctrip.com"):(c&&(b.setItem("BGUID",c),f.setParam("PreviousID",c)),f.excute(function(a){a&&a.ClientID&&(b.setItem("GUID",a.ClientID),j.setAttr("cid",a.ClientID),d.setCookie("GUID",a.ClientID,new Date((new Date).getTime()+93312e6),"/",".ctrip.com"))}))}var g=b.url||window.location.href,h=window.localStorage.getItem("LIZARD_GETUSERINFOS"),i=f.UserStore.getInstance(),j=f.HeadStore.getInstance(),k=d.getUrlParam(g,"__ThirdPartMember__"),l=this;if(h){window.localStorage.removeItem("LIZARD_GETUSERINFOS"),i.removeUser();var m=a.UserLoginModel.getInstance();m.param={token:h,IsH5:1,jsonpCallback:"callbackfn"};var n=function(a){a.UserID&&(a.LoginName=a.LoginName||"",j.setAuth(a.Auth),i.setUser(a),i.setExpireTime(a.ExpiredTime)),b.callback&&b.callback(),c()},o=function(){l.memberLogin()};m.excute(n,o)}else b.callback&&b.callback();!h&&k&&c(),e()},app_finished_login:function(){return!1}},m={memberLogin:function(a){c.request({name:c.METHOD_MEMBER_LOGIN,callback:a.callback,isShowNonMemberLogin:a.isShowNonMemberLogin})},nonMemberLogin:function(a){c.request({name:c.METHOD_NON_MEMBER_LOGIN,callback:a.callback})},register:function(a){c.request({name:c.METHOD_REGISTER,callback:a.callback})},autoLogin:function(a){c.request({name:c.METHOD_AUTO_LOGIN,callback:a.callback})},app_finished_login:function(a){c.request({name:c.METHOD_APP_FINISHED_LOGIN,userInfo:a.userInfo,callback:a.callback})}};b.register({name:g,fn:d.isInApp()||Lizard.app.code.is("GS")?m:l})}),define("cShell",[],function(){function a(a){var b,c,d=this,e={},f=1,g=0,h=function(a,d){b=a,c=d,i(a)},i=function(a){if(a==b){var d=e[a];d&&d.apply(null,c)}};d.done=function(a){return e[f]=a,i(f),this},d.fail=function(a){return e[g]=a,i(g),this},d.resolve=function(){return h.call(null,f,arguments),d},d.reject=function(){return h.call(null,g,arguments),d},a&&(a.done=d.done,a.fail=d.fail)}function b(a){function b(){return args=a.pre?a.pre.apply(null,arguments):arguments,f.doCall(a.name,"run",args)}return b.ping=function(){return f.doCall(a.name,"ping",arguments)},b}var c=["detectDevice","scanBarcode","scanQrcode",{name:"share",pre:function(){return arguments},post:function(a){return a},fail:function(){}},"voice2text","uploadimage"],d={CTRIP_MASTER:1,TECENT_WEIXIN:1},e=new Error("unavailable"),f={calls:[],doCall:function(b,c,d){var e,g,h;"object"==typeof d[0]?(h=d[0],e=d[1],g=d[2]):(e=d[0],"object"==typeof d[1]?(h=d[1],g=d[2]):(g=d[1],h=d[2]));var i={},j=new a(i),k=function(a){e&&e(a),j.resolve(a)},l=function(a){g&&g(a),j.reject(a)},d=[k,l,h];return f.ready?f.doExec(b,c,d):f.error?l(f.error):f.calls.push({name:b,type:c,args:d}),i},doExec:function(a,b,c){var d,e=f.methods[a],g=c[0],h=c[1];"function"==typeof e&&(e={run:e}),e&&e.run?(d=e[b])?d.apply(null,c):g&&g():h&&h(new Error("unavailable"))}},g=[Lizard.app.vendor,Lizard.app.code].join("_"),h={};return d[g]?require(["cShell_"+g],function(a){a.ready(function(){f.ready=!0,delete f.error,f.methods=a.METHOD;for(var b;b=f.calls.shift();)f.doExec(b.name,b.type,b.args)}).error(function(){f.ready=!1,f.error=e;for(var a;a=f.calls.shift();)a.args[1](f.error)}).init()}):(f.ready=!1,f.error=e),h.weixin=function(a){d[g]&&require(["cShell_"+g],function(b){b.init(a)})},c.forEach(function(a){"string"==typeof a&&(a={name:a}),h[a.name]=b(a)}),h});